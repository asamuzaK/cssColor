{"version":3,"file":"index.min.js","sources":["../../node_modules/.pnpm/lru-cache@10.4.3/node_modules/lru-cache/dist/esm/index.js","../../src/js/common.ts","../../node_modules/.pnpm/@csstools+css-tokenizer@3.0.3/node_modules/@csstools/css-tokenizer/dist/index.mjs","../../node_modules/.pnpm/@csstools+css-parser-algorithms@3.0.4_@csstools+css-tokenizer@3.0.3/node_modules/@csstools/css-parser-algorithms/dist/index.mjs","../../node_modules/.pnpm/@csstools+css-calc@2.1.1_@csstools+css-parser-algorithms@3.0.4_@csstools+css-tokenizer@3.0.3__vlj2ym64kb6jtc2hg2j3v45yym/node_modules/@csstools/css-calc/dist/index.mjs","../../src/js/constant.ts","../../src/js/css-calc.ts","../../src/js/css-var.ts","../../node_modules/.pnpm/@csstools+color-helpers@5.0.1/node_modules/@csstools/color-helpers/dist/index.mjs","../../node_modules/.pnpm/@csstools+css-color-parser@3.0.7_@csstools+css-parser-algorithms@3.0.4_@csstools+css-tokenize_ibxja5du4eckqjiltqinzz6xve/node_modules/@csstools/css-color-parser/dist/index.mjs","../../src/js/relative-color.ts","../../src/js/resolve.ts","../../src/js/util.ts","../../src/js/color.ts","../../src/js/convert.ts"],"sourcesContent":["/**\n * @module LRUCache\n */\nconst perf = typeof performance === 'object' &&\n    performance &&\n    typeof performance.now === 'function'\n    ? performance\n    : Date;\nconst warned = new Set();\n/* c8 ignore start */\nconst PROCESS = (typeof process === 'object' && !!process ? process : {});\n/* c8 ignore start */\nconst emitWarning = (msg, type, code, fn) => {\n    typeof PROCESS.emitWarning === 'function'\n        ? PROCESS.emitWarning(msg, type, code, fn)\n        : console.error(`[${code}] ${type}: ${msg}`);\n};\nlet AC = globalThis.AbortController;\nlet AS = globalThis.AbortSignal;\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n    //@ts-ignore\n    AS = class AbortSignal {\n        onabort;\n        _onabort = [];\n        reason;\n        aborted = false;\n        addEventListener(_, fn) {\n            this._onabort.push(fn);\n        }\n    };\n    //@ts-ignore\n    AC = class AbortController {\n        constructor() {\n            warnACPolyfill();\n        }\n        signal = new AS();\n        abort(reason) {\n            if (this.signal.aborted)\n                return;\n            //@ts-ignore\n            this.signal.reason = reason;\n            //@ts-ignore\n            this.signal.aborted = true;\n            //@ts-ignore\n            for (const fn of this.signal._onabort) {\n                fn(reason);\n            }\n            this.signal.onabort?.(reason);\n        }\n    };\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\n    const warnACPolyfill = () => {\n        if (!printACPolyfillWarning)\n            return;\n        printACPolyfillWarning = false;\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\n            'node 14, load an AbortController polyfill from the ' +\n            '`node-abort-controller` package. A minimal polyfill is ' +\n            'provided for use by LRUCache.fetch(), but it should not be ' +\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\n            'use AbortController/AbortSignal might have undesirable effects). ' +\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\n    };\n}\n/* c8 ignore stop */\nconst shouldWarn = (code) => !warned.has(code);\nconst TYPE = Symbol('type');\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max) => !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n        ? Uint8Array\n        : max <= Math.pow(2, 16)\n            ? Uint16Array\n            : max <= Math.pow(2, 32)\n                ? Uint32Array\n                : max <= Number.MAX_SAFE_INTEGER\n                    ? ZeroArray\n                    : null;\n/* c8 ignore stop */\nclass ZeroArray extends Array {\n    constructor(size) {\n        super(size);\n        this.fill(0);\n    }\n}\nclass Stack {\n    heap;\n    length;\n    // private constructor\n    static #constructing = false;\n    static create(max) {\n        const HeapCls = getUintArray(max);\n        if (!HeapCls)\n            return [];\n        Stack.#constructing = true;\n        const s = new Stack(max, HeapCls);\n        Stack.#constructing = false;\n        return s;\n    }\n    constructor(max, HeapCls) {\n        /* c8 ignore start */\n        if (!Stack.#constructing) {\n            throw new TypeError('instantiate Stack using Stack.create(n)');\n        }\n        /* c8 ignore stop */\n        this.heap = new HeapCls(max);\n        this.length = 0;\n    }\n    push(n) {\n        this.heap[this.length++] = n;\n    }\n    pop() {\n        return this.heap[--this.length];\n    }\n}\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nexport class LRUCache {\n    // options that cannot be changed without disaster\n    #max;\n    #maxSize;\n    #dispose;\n    #disposeAfter;\n    #fetchMethod;\n    #memoMethod;\n    /**\n     * {@link LRUCache.OptionsBase.ttl}\n     */\n    ttl;\n    /**\n     * {@link LRUCache.OptionsBase.ttlResolution}\n     */\n    ttlResolution;\n    /**\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\n     */\n    ttlAutopurge;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\n     */\n    updateAgeOnGet;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\n     */\n    updateAgeOnHas;\n    /**\n     * {@link LRUCache.OptionsBase.allowStale}\n     */\n    allowStale;\n    /**\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\n     */\n    noDisposeOnSet;\n    /**\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\n     */\n    noUpdateTTL;\n    /**\n     * {@link LRUCache.OptionsBase.maxEntrySize}\n     */\n    maxEntrySize;\n    /**\n     * {@link LRUCache.OptionsBase.sizeCalculation}\n     */\n    sizeCalculation;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n     */\n    noDeleteOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n     */\n    noDeleteOnStaleGet;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n     */\n    allowStaleOnFetchAbort;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n     */\n    allowStaleOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n     */\n    ignoreFetchAbort;\n    // computed properties\n    #size;\n    #calculatedSize;\n    #keyMap;\n    #keyList;\n    #valList;\n    #next;\n    #prev;\n    #head;\n    #tail;\n    #free;\n    #disposed;\n    #sizes;\n    #starts;\n    #ttls;\n    #hasDispose;\n    #hasFetchMethod;\n    #hasDisposeAfter;\n    /**\n     * Do not call this method unless you need to inspect the\n     * inner workings of the cache.  If anything returned by this\n     * object is modified in any way, strange breakage may occur.\n     *\n     * These fields are private for a reason!\n     *\n     * @internal\n     */\n    static unsafeExposeInternals(c) {\n        return {\n            // properties\n            starts: c.#starts,\n            ttls: c.#ttls,\n            sizes: c.#sizes,\n            keyMap: c.#keyMap,\n            keyList: c.#keyList,\n            valList: c.#valList,\n            next: c.#next,\n            prev: c.#prev,\n            get head() {\n                return c.#head;\n            },\n            get tail() {\n                return c.#tail;\n            },\n            free: c.#free,\n            // methods\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\n            moveToTail: (index) => c.#moveToTail(index),\n            indexes: (options) => c.#indexes(options),\n            rindexes: (options) => c.#rindexes(options),\n            isStale: (index) => c.#isStale(index),\n        };\n    }\n    // Protected read-only members\n    /**\n     * {@link LRUCache.OptionsBase.max} (read-only)\n     */\n    get max() {\n        return this.#max;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\n     */\n    get maxSize() {\n        return this.#maxSize;\n    }\n    /**\n     * The total computed size of items in the cache (read-only)\n     */\n    get calculatedSize() {\n        return this.#calculatedSize;\n    }\n    /**\n     * The number of items stored in the cache (read-only)\n     */\n    get size() {\n        return this.#size;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n     */\n    get fetchMethod() {\n        return this.#fetchMethod;\n    }\n    get memoMethod() {\n        return this.#memoMethod;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\n     */\n    get dispose() {\n        return this.#dispose;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n     */\n    get disposeAfter() {\n        return this.#disposeAfter;\n    }\n    constructor(options) {\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, } = options;\n        if (max !== 0 && !isPosInt(max)) {\n            throw new TypeError('max option must be a nonnegative integer');\n        }\n        const UintArray = max ? getUintArray(max) : Array;\n        if (!UintArray) {\n            throw new Error('invalid max value: ' + max);\n        }\n        this.#max = max;\n        this.#maxSize = maxSize;\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\n        this.sizeCalculation = sizeCalculation;\n        if (this.sizeCalculation) {\n            if (!this.#maxSize && !this.maxEntrySize) {\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\n            }\n            if (typeof this.sizeCalculation !== 'function') {\n                throw new TypeError('sizeCalculation set to non-function');\n            }\n        }\n        if (memoMethod !== undefined &&\n            typeof memoMethod !== 'function') {\n            throw new TypeError('memoMethod must be a function if defined');\n        }\n        this.#memoMethod = memoMethod;\n        if (fetchMethod !== undefined &&\n            typeof fetchMethod !== 'function') {\n            throw new TypeError('fetchMethod must be a function if specified');\n        }\n        this.#fetchMethod = fetchMethod;\n        this.#hasFetchMethod = !!fetchMethod;\n        this.#keyMap = new Map();\n        this.#keyList = new Array(max).fill(undefined);\n        this.#valList = new Array(max).fill(undefined);\n        this.#next = new UintArray(max);\n        this.#prev = new UintArray(max);\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free = Stack.create(max);\n        this.#size = 0;\n        this.#calculatedSize = 0;\n        if (typeof dispose === 'function') {\n            this.#dispose = dispose;\n        }\n        if (typeof disposeAfter === 'function') {\n            this.#disposeAfter = disposeAfter;\n            this.#disposed = [];\n        }\n        else {\n            this.#disposeAfter = undefined;\n            this.#disposed = undefined;\n        }\n        this.#hasDispose = !!this.#dispose;\n        this.#hasDisposeAfter = !!this.#disposeAfter;\n        this.noDisposeOnSet = !!noDisposeOnSet;\n        this.noUpdateTTL = !!noUpdateTTL;\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\n        // NB: maxEntrySize is set to maxSize if it's set\n        if (this.maxEntrySize !== 0) {\n            if (this.#maxSize !== 0) {\n                if (!isPosInt(this.#maxSize)) {\n                    throw new TypeError('maxSize must be a positive integer if specified');\n                }\n            }\n            if (!isPosInt(this.maxEntrySize)) {\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\n            }\n            this.#initializeSizeTracking();\n        }\n        this.allowStale = !!allowStale;\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\n        this.updateAgeOnGet = !!updateAgeOnGet;\n        this.updateAgeOnHas = !!updateAgeOnHas;\n        this.ttlResolution =\n            isPosInt(ttlResolution) || ttlResolution === 0\n                ? ttlResolution\n                : 1;\n        this.ttlAutopurge = !!ttlAutopurge;\n        this.ttl = ttl || 0;\n        if (this.ttl) {\n            if (!isPosInt(this.ttl)) {\n                throw new TypeError('ttl must be a positive integer if specified');\n            }\n            this.#initializeTTLTracking();\n        }\n        // do not allow completely unbounded caches\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\n        }\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n            const code = 'LRU_CACHE_UNBOUNDED';\n            if (shouldWarn(code)) {\n                warned.add(code);\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\n                    'result in unbounded memory consumption.';\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\n            }\n        }\n    }\n    /**\n     * Return the number of ms left in the item's TTL. If item is not in cache,\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n     */\n    getRemainingTTL(key) {\n        return this.#keyMap.has(key) ? Infinity : 0;\n    }\n    #initializeTTLTracking() {\n        const ttls = new ZeroArray(this.#max);\n        const starts = new ZeroArray(this.#max);\n        this.#ttls = ttls;\n        this.#starts = starts;\n        this.#setItemTTL = (index, ttl, start = perf.now()) => {\n            starts[index] = ttl !== 0 ? start : 0;\n            ttls[index] = ttl;\n            if (ttl !== 0 && this.ttlAutopurge) {\n                const t = setTimeout(() => {\n                    if (this.#isStale(index)) {\n                        this.#delete(this.#keyList[index], 'expire');\n                    }\n                }, ttl + 1);\n                // unref() not supported on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n        };\n        this.#updateItemAge = index => {\n            starts[index] = ttls[index] !== 0 ? perf.now() : 0;\n        };\n        this.#statusTTL = (status, index) => {\n            if (ttls[index]) {\n                const ttl = ttls[index];\n                const start = starts[index];\n                /* c8 ignore next */\n                if (!ttl || !start)\n                    return;\n                status.ttl = ttl;\n                status.start = start;\n                status.now = cachedNow || getNow();\n                const age = status.now - start;\n                status.remainingTTL = ttl - age;\n            }\n        };\n        // debounce calls to perf.now() to 1s so we're not hitting\n        // that costly call repeatedly.\n        let cachedNow = 0;\n        const getNow = () => {\n            const n = perf.now();\n            if (this.ttlResolution > 0) {\n                cachedNow = n;\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\n                // not available on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n            return n;\n        };\n        this.getRemainingTTL = key => {\n            const index = this.#keyMap.get(key);\n            if (index === undefined) {\n                return 0;\n            }\n            const ttl = ttls[index];\n            const start = starts[index];\n            if (!ttl || !start) {\n                return Infinity;\n            }\n            const age = (cachedNow || getNow()) - start;\n            return ttl - age;\n        };\n        this.#isStale = index => {\n            const s = starts[index];\n            const t = ttls[index];\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\n        };\n    }\n    // conditionally set private methods related to TTL\n    #updateItemAge = () => { };\n    #statusTTL = () => { };\n    #setItemTTL = () => { };\n    /* c8 ignore stop */\n    #isStale = () => false;\n    #initializeSizeTracking() {\n        const sizes = new ZeroArray(this.#max);\n        this.#calculatedSize = 0;\n        this.#sizes = sizes;\n        this.#removeItemSize = index => {\n            this.#calculatedSize -= sizes[index];\n            sizes[index] = 0;\n        };\n        this.#requireSize = (k, v, size, sizeCalculation) => {\n            // provisionally accept background fetches.\n            // actual value size will be checked when they return.\n            if (this.#isBackgroundFetch(v)) {\n                return 0;\n            }\n            if (!isPosInt(size)) {\n                if (sizeCalculation) {\n                    if (typeof sizeCalculation !== 'function') {\n                        throw new TypeError('sizeCalculation must be a function');\n                    }\n                    size = sizeCalculation(v, k);\n                    if (!isPosInt(size)) {\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\n                    }\n                }\n                else {\n                    throw new TypeError('invalid size value (must be positive integer). ' +\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\n                        'or size must be set.');\n                }\n            }\n            return size;\n        };\n        this.#addItemSize = (index, size, status) => {\n            sizes[index] = size;\n            if (this.#maxSize) {\n                const maxSize = this.#maxSize - sizes[index];\n                while (this.#calculatedSize > maxSize) {\n                    this.#evict(true);\n                }\n            }\n            this.#calculatedSize += sizes[index];\n            if (status) {\n                status.entrySize = size;\n                status.totalCalculatedSize = this.#calculatedSize;\n            }\n        };\n    }\n    #removeItemSize = _i => { };\n    #addItemSize = (_i, _s, _st) => { };\n    #requireSize = (_k, _v, size, sizeCalculation) => {\n        if (size || sizeCalculation) {\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\n        }\n        return 0;\n    };\n    *#indexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#tail; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#head) {\n                    break;\n                }\n                else {\n                    i = this.#prev[i];\n                }\n            }\n        }\n    }\n    *#rindexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#head; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#tail) {\n                    break;\n                }\n                else {\n                    i = this.#next[i];\n                }\n            }\n        }\n    }\n    #isValidIndex(index) {\n        return (index !== undefined &&\n            this.#keyMap.get(this.#keyList[index]) === index);\n    }\n    /**\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from most recently used to least recently used.\n     */\n    *entries() {\n        for (const i of this.#indexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.entries}\n     *\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from least recently used to most recently used.\n     */\n    *rentries() {\n        for (const i of this.#rindexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the keys in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *keys() {\n        for (const i of this.#indexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.keys}\n     *\n     * Return a generator yielding the keys in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rkeys() {\n        for (const i of this.#rindexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the values in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *values() {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.values}\n     *\n     * Return a generator yielding the values in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rvalues() {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Iterating over the cache itself yields the same results as\n     * {@link LRUCache.entries}\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * A String value that is used in the creation of the default string\n     * description of an object. Called by the built-in method\n     * `Object.prototype.toString`.\n     */\n    [Symbol.toStringTag] = 'LRUCache';\n    /**\n     * Find a value for which the supplied fn method returns a truthy value,\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n     */\n    find(fn, getOptions = {}) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            if (fn(value, this.#keyList[i], this)) {\n                return this.get(this.#keyList[i], getOptions);\n            }\n        }\n    }\n    /**\n     * Call the supplied function on each item in the cache, in order from most\n     * recently used to least recently used.\n     *\n     * `fn` is called as `fn(value, key, cache)`.\n     *\n     * If `thisp` is provided, function will be called in the `this`-context of\n     * the provided object, or the cache if no `thisp` object is provided.\n     *\n     * Does not update age or recenty of use, or iterate over stale values.\n     */\n    forEach(fn, thisp = this) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * The same as {@link LRUCache.forEach} but items are iterated over in\n     * reverse order.  (ie, less recently used items are iterated over first.)\n     */\n    rforEach(fn, thisp = this) {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * Delete any stale entries. Returns true if anything was removed,\n     * false otherwise.\n     */\n    purgeStale() {\n        let deleted = false;\n        for (const i of this.#rindexes({ allowStale: true })) {\n            if (this.#isStale(i)) {\n                this.#delete(this.#keyList[i], 'expire');\n                deleted = true;\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Get the extended info about a given entry, to get its value, size, and\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\n     *\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n     * serialization, the `start` value is always the current timestamp, and the\n     * `ttl` is a calculated remaining time to live (negative if expired).\n     *\n     * Always returns stale values, if their info is found in the cache, so be\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n     * if relevant.\n     */\n    info(key) {\n        const i = this.#keyMap.get(key);\n        if (i === undefined)\n            return undefined;\n        const v = this.#valList[i];\n        const value = this.#isBackgroundFetch(v)\n            ? v.__staleWhileFetching\n            : v;\n        if (value === undefined)\n            return undefined;\n        const entry = { value };\n        if (this.#ttls && this.#starts) {\n            const ttl = this.#ttls[i];\n            const start = this.#starts[i];\n            if (ttl && start) {\n                const remain = ttl - (perf.now() - start);\n                entry.ttl = remain;\n                entry.start = Date.now();\n            }\n        }\n        if (this.#sizes) {\n            entry.size = this.#sizes[i];\n        }\n        return entry;\n    }\n    /**\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n     * passed to {@link LRLUCache#load}.\n     *\n     * The `start` fields are calculated relative to a portable `Date.now()`\n     * timestamp, even if `performance.now()` is available.\n     *\n     * Stale entries are always included in the `dump`, even if\n     * {@link LRUCache.OptionsBase.allowStale} is false.\n     *\n     * Note: this returns an actual array, not a generator, so it can be more\n     * easily passed around.\n     */\n    dump() {\n        const arr = [];\n        for (const i of this.#indexes({ allowStale: true })) {\n            const key = this.#keyList[i];\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined || key === undefined)\n                continue;\n            const entry = { value };\n            if (this.#ttls && this.#starts) {\n                entry.ttl = this.#ttls[i];\n                // always dump the start relative to a portable timestamp\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = perf.now() - this.#starts[i];\n                entry.start = Math.floor(Date.now() - age);\n            }\n            if (this.#sizes) {\n                entry.size = this.#sizes[i];\n            }\n            arr.unshift([key, entry]);\n        }\n        return arr;\n    }\n    /**\n     * Reset the cache and load in the items in entries in the order listed.\n     *\n     * The shape of the resulting cache may be different if the same options are\n     * not used in both caches.\n     *\n     * The `start` fields are assumed to be calculated relative to a portable\n     * `Date.now()` timestamp, even if `performance.now()` is available.\n     */\n    load(arr) {\n        this.clear();\n        for (const [key, entry] of arr) {\n            if (entry.start) {\n                // entry.start is a portable timestamp, but we may be using\n                // node's performance.now(), so calculate the offset, so that\n                // we get the intended remaining TTL, no matter how long it's\n                // been on ice.\n                //\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = Date.now() - entry.start;\n                entry.start = perf.now() - age;\n            }\n            this.set(key, entry.value, entry);\n        }\n    }\n    /**\n     * Add a value to the cache.\n     *\n     * Note: if `undefined` is specified as a value, this is an alias for\n     * {@link LRUCache#delete}\n     *\n     * Fields on the {@link LRUCache.SetOptions} options param will override\n     * their corresponding values in the constructor options for the scope\n     * of this single `set()` operation.\n     *\n     * If `start` is provided, then that will set the effective start\n     * time for the TTL calculation. Note that this must be a previous\n     * value of `performance.now()` if supported, or a previous value of\n     * `Date.now()` if not.\n     *\n     * Options object may also include `size`, which will prevent\n     * calling the `sizeCalculation` function and just use the specified\n     * number if it is a positive integer, and `noDisposeOnSet` which\n     * will prevent calling a `dispose` function in the case of\n     * overwrites.\n     *\n     * If the `size` (or return value of `sizeCalculation`) for a given\n     * entry is greater than `maxEntrySize`, then the item will not be\n     * added to the cache.\n     *\n     * Will update the recency of the entry.\n     *\n     * If the value is `undefined`, then this is an alias for\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\n     */\n    set(k, v, setOptions = {}) {\n        if (v === undefined) {\n            this.delete(k);\n            return this;\n        }\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\n        // if the item doesn't fit, don't do anything\n        // NB: maxEntrySize set to maxSize by default\n        if (this.maxEntrySize && size > this.maxEntrySize) {\n            if (status) {\n                status.set = 'miss';\n                status.maxEntrySizeExceeded = true;\n            }\n            // have to delete, in case something is there already.\n            this.#delete(k, 'set');\n            return this;\n        }\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\n        if (index === undefined) {\n            // addition\n            index = (this.#size === 0\n                ? this.#tail\n                : this.#free.length !== 0\n                    ? this.#free.pop()\n                    : this.#size === this.#max\n                        ? this.#evict(false)\n                        : this.#size);\n            this.#keyList[index] = k;\n            this.#valList[index] = v;\n            this.#keyMap.set(k, index);\n            this.#next[this.#tail] = index;\n            this.#prev[index] = this.#tail;\n            this.#tail = index;\n            this.#size++;\n            this.#addItemSize(index, size, status);\n            if (status)\n                status.set = 'add';\n            noUpdateTTL = false;\n        }\n        else {\n            // update\n            this.#moveToTail(index);\n            const oldVal = this.#valList[index];\n            if (v !== oldVal) {\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n                    oldVal.__abortController.abort(new Error('replaced'));\n                    const { __staleWhileFetching: s } = oldVal;\n                    if (s !== undefined && !noDisposeOnSet) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(s, k, 'set');\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([s, k, 'set']);\n                        }\n                    }\n                }\n                else if (!noDisposeOnSet) {\n                    if (this.#hasDispose) {\n                        this.#dispose?.(oldVal, k, 'set');\n                    }\n                    if (this.#hasDisposeAfter) {\n                        this.#disposed?.push([oldVal, k, 'set']);\n                    }\n                }\n                this.#removeItemSize(index);\n                this.#addItemSize(index, size, status);\n                this.#valList[index] = v;\n                if (status) {\n                    status.set = 'replace';\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal)\n                        ? oldVal.__staleWhileFetching\n                        : oldVal;\n                    if (oldValue !== undefined)\n                        status.oldValue = oldValue;\n                }\n            }\n            else if (status) {\n                status.set = 'update';\n            }\n        }\n        if (ttl !== 0 && !this.#ttls) {\n            this.#initializeTTLTracking();\n        }\n        if (this.#ttls) {\n            if (!noUpdateTTL) {\n                this.#setItemTTL(index, ttl, start);\n            }\n            if (status)\n                this.#statusTTL(status, index);\n        }\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return this;\n    }\n    /**\n     * Evict the least recently used item, returning its value or\n     * `undefined` if cache is empty.\n     */\n    pop() {\n        try {\n            while (this.#size) {\n                const val = this.#valList[this.#head];\n                this.#evict(true);\n                if (this.#isBackgroundFetch(val)) {\n                    if (val.__staleWhileFetching) {\n                        return val.__staleWhileFetching;\n                    }\n                }\n                else if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n        finally {\n            if (this.#hasDisposeAfter && this.#disposed) {\n                const dt = this.#disposed;\n                let task;\n                while ((task = dt?.shift())) {\n                    this.#disposeAfter?.(...task);\n                }\n            }\n        }\n    }\n    #evict(free) {\n        const head = this.#head;\n        const k = this.#keyList[head];\n        const v = this.#valList[head];\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('evicted'));\n        }\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n                this.#dispose?.(v, k, 'evict');\n            }\n            if (this.#hasDisposeAfter) {\n                this.#disposed?.push([v, k, 'evict']);\n            }\n        }\n        this.#removeItemSize(head);\n        // if we aren't about to use the index, then null these out\n        if (free) {\n            this.#keyList[head] = undefined;\n            this.#valList[head] = undefined;\n            this.#free.push(head);\n        }\n        if (this.#size === 1) {\n            this.#head = this.#tail = 0;\n            this.#free.length = 0;\n        }\n        else {\n            this.#head = this.#next[head];\n        }\n        this.#keyMap.delete(k);\n        this.#size--;\n        return head;\n    }\n    /**\n     * Check if a key is in the cache, without updating the recency of use.\n     * Will return false if the item is stale, even though it is technically\n     * in the cache.\n     *\n     * Check if a key is in the cache, without updating the recency of\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n     * to `true` in either the options or the constructor.\n     *\n     * Will return `false` if the item is stale, even though it is technically in\n     * the cache. The difference can be determined (if it matters) by using a\n     * `status` argument, and inspecting the `has` field.\n     *\n     * Will not update item age unless\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n     */\n    has(k, hasOptions = {}) {\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v) &&\n                v.__staleWhileFetching === undefined) {\n                return false;\n            }\n            if (!this.#isStale(index)) {\n                if (updateAgeOnHas) {\n                    this.#updateItemAge(index);\n                }\n                if (status) {\n                    status.has = 'hit';\n                    this.#statusTTL(status, index);\n                }\n                return true;\n            }\n            else if (status) {\n                status.has = 'stale';\n                this.#statusTTL(status, index);\n            }\n        }\n        else if (status) {\n            status.has = 'miss';\n        }\n        return false;\n    }\n    /**\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\n     * items.\n     *\n     * Returns `undefined` if the item is stale, unless\n     * {@link LRUCache.OptionsBase.allowStale} is set.\n     */\n    peek(k, peekOptions = {}) {\n        const { allowStale = this.allowStale } = peekOptions;\n        const index = this.#keyMap.get(k);\n        if (index === undefined ||\n            (!allowStale && this.#isStale(index))) {\n            return;\n        }\n        const v = this.#valList[index];\n        // either stale and allowed, or forcing a refresh of non-stale value\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n    }\n    #backgroundFetch(k, index, options, context) {\n        const v = index === undefined ? undefined : this.#valList[index];\n        if (this.#isBackgroundFetch(v)) {\n            return v;\n        }\n        const ac = new AC();\n        const { signal } = options;\n        // when/if our AC signals, then stop listening to theirs.\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n            signal: ac.signal,\n        });\n        const fetchOpts = {\n            signal: ac.signal,\n            options,\n            context,\n        };\n        const cb = (v, updateCache = false) => {\n            const { aborted } = ac.signal;\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\n            if (options.status) {\n                if (aborted && !updateCache) {\n                    options.status.fetchAborted = true;\n                    options.status.fetchError = ac.signal.reason;\n                    if (ignoreAbort)\n                        options.status.fetchAbortIgnored = true;\n                }\n                else {\n                    options.status.fetchResolved = true;\n                }\n            }\n            if (aborted && !ignoreAbort && !updateCache) {\n                return fetchFail(ac.signal.reason);\n            }\n            // either we didn't abort, and are still here, or we did, and ignored\n            const bf = p;\n            if (this.#valList[index] === p) {\n                if (v === undefined) {\n                    if (bf.__staleWhileFetching) {\n                        this.#valList[index] = bf.__staleWhileFetching;\n                    }\n                    else {\n                        this.#delete(k, 'fetch');\n                    }\n                }\n                else {\n                    if (options.status)\n                        options.status.fetchUpdated = true;\n                    this.set(k, v, fetchOpts.options);\n                }\n            }\n            return v;\n        };\n        const eb = (er) => {\n            if (options.status) {\n                options.status.fetchRejected = true;\n                options.status.fetchError = er;\n            }\n            return fetchFail(er);\n        };\n        const fetchFail = (er) => {\n            const { aborted } = ac.signal;\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\n            const bf = p;\n            if (this.#valList[index] === p) {\n                // if we allow stale on fetch rejections, then we need to ensure that\n                // the stale value is not removed from the cache when the fetch fails.\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\n                if (del) {\n                    this.#delete(k, 'fetch');\n                }\n                else if (!allowStaleAborted) {\n                    // still replace the *promise* with the stale value,\n                    // since we are done with the promise at this point.\n                    // leave it untouched if we're still waiting for an\n                    // aborted background fetch that hasn't yet returned.\n                    this.#valList[index] = bf.__staleWhileFetching;\n                }\n            }\n            if (allowStale) {\n                if (options.status && bf.__staleWhileFetching !== undefined) {\n                    options.status.returnedStale = true;\n                }\n                return bf.__staleWhileFetching;\n            }\n            else if (bf.__returned === bf) {\n                throw er;\n            }\n        };\n        const pcall = (res, rej) => {\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\n            if (fmp && fmp instanceof Promise) {\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\n            }\n            // ignored, we go until we finish, regardless.\n            // defer check until we are actually aborting,\n            // so fetchMethod can override.\n            ac.signal.addEventListener('abort', () => {\n                if (!options.ignoreFetchAbort ||\n                    options.allowStaleOnFetchAbort) {\n                    res(undefined);\n                    // when it eventually resolves, update the cache.\n                    if (options.allowStaleOnFetchAbort) {\n                        res = v => cb(v, true);\n                    }\n                }\n            });\n        };\n        if (options.status)\n            options.status.fetchDispatched = true;\n        const p = new Promise(pcall).then(cb, eb);\n        const bf = Object.assign(p, {\n            __abortController: ac,\n            __staleWhileFetching: v,\n            __returned: undefined,\n        });\n        if (index === undefined) {\n            // internal, don't expose status.\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\n            index = this.#keyMap.get(k);\n        }\n        else {\n            this.#valList[index] = bf;\n        }\n        return bf;\n    }\n    #isBackgroundFetch(p) {\n        if (!this.#hasFetchMethod)\n            return false;\n        const b = p;\n        return (!!b &&\n            b instanceof Promise &&\n            b.hasOwnProperty('__staleWhileFetching') &&\n            b.__abortController instanceof AC);\n    }\n    async fetch(k, fetchOptions = {}) {\n        const { \n        // get options\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \n        // set options\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \n        // fetch exclusive options\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\n        if (!this.#hasFetchMethod) {\n            if (status)\n                status.fetch = 'get';\n            return this.get(k, {\n                allowStale,\n                updateAgeOnGet,\n                noDeleteOnStaleGet,\n                status,\n            });\n        }\n        const options = {\n            allowStale,\n            updateAgeOnGet,\n            noDeleteOnStaleGet,\n            ttl,\n            noDisposeOnSet,\n            size,\n            sizeCalculation,\n            noUpdateTTL,\n            noDeleteOnFetchRejection,\n            allowStaleOnFetchRejection,\n            allowStaleOnFetchAbort,\n            ignoreFetchAbort,\n            status,\n            signal,\n        };\n        let index = this.#keyMap.get(k);\n        if (index === undefined) {\n            if (status)\n                status.fetch = 'miss';\n            const p = this.#backgroundFetch(k, index, options, context);\n            return (p.__returned = p);\n        }\n        else {\n            // in cache, maybe already fetching\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\n                if (status) {\n                    status.fetch = 'inflight';\n                    if (stale)\n                        status.returnedStale = true;\n                }\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\n            }\n            // if we force a refresh, that means do NOT serve the cached value,\n            // unless we are already in the process of refreshing the cache.\n            const isStale = this.#isStale(index);\n            if (!forceRefresh && !isStale) {\n                if (status)\n                    status.fetch = 'hit';\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                if (status)\n                    this.#statusTTL(status, index);\n                return v;\n            }\n            // ok, it is stale or a forced refresh, and not already fetching.\n            // refresh the cache.\n            const p = this.#backgroundFetch(k, index, options, context);\n            const hasStale = p.__staleWhileFetching !== undefined;\n            const staleVal = hasStale && allowStale;\n            if (status) {\n                status.fetch = isStale ? 'stale' : 'refresh';\n                if (staleVal && isStale)\n                    status.returnedStale = true;\n            }\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\n        }\n    }\n    async forceFetch(k, fetchOptions = {}) {\n        const v = await this.fetch(k, fetchOptions);\n        if (v === undefined)\n            throw new Error('fetch() returned undefined');\n        return v;\n    }\n    memo(k, memoOptions = {}) {\n        const memoMethod = this.#memoMethod;\n        if (!memoMethod) {\n            throw new Error('no memoMethod provided to constructor');\n        }\n        const { context, forceRefresh, ...options } = memoOptions;\n        const v = this.get(k, options);\n        if (!forceRefresh && v !== undefined)\n            return v;\n        const vv = memoMethod(k, v, {\n            options,\n            context,\n        });\n        this.set(k, vv, options);\n        return vv;\n    }\n    /**\n     * Return a value from the cache. Will update the recency of the cache\n     * entry found.\n     *\n     * If the key is not found, get() will return `undefined`.\n     */\n    get(k, getOptions = {}) {\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const value = this.#valList[index];\n            const fetching = this.#isBackgroundFetch(value);\n            if (status)\n                this.#statusTTL(status, index);\n            if (this.#isStale(index)) {\n                if (status)\n                    status.get = 'stale';\n                // delete only if not an in-flight background fetch\n                if (!fetching) {\n                    if (!noDeleteOnStaleGet) {\n                        this.#delete(k, 'expire');\n                    }\n                    if (status && allowStale)\n                        status.returnedStale = true;\n                    return allowStale ? value : undefined;\n                }\n                else {\n                    if (status &&\n                        allowStale &&\n                        value.__staleWhileFetching !== undefined) {\n                        status.returnedStale = true;\n                    }\n                    return allowStale ? value.__staleWhileFetching : undefined;\n                }\n            }\n            else {\n                if (status)\n                    status.get = 'hit';\n                // if we're currently fetching it, we don't actually have it yet\n                // it's not stale, which means this isn't a staleWhileRefetching.\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\n                // value, then that means the user fetched with {forceRefresh:true},\n                // so it's safe to return that value.\n                if (fetching) {\n                    return value.__staleWhileFetching;\n                }\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                return value;\n            }\n        }\n        else if (status) {\n            status.get = 'miss';\n        }\n    }\n    #connect(p, n) {\n        this.#prev[n] = p;\n        this.#next[p] = n;\n    }\n    #moveToTail(index) {\n        // if tail already, nothing to do\n        // if head, move head to next[index]\n        // else\n        //   move next[prev[index]] to next[index] (head has no prev)\n        //   move prev[next[index]] to prev[index]\n        // prev[index] = tail\n        // next[tail] = index\n        // tail = index\n        if (index !== this.#tail) {\n            if (index === this.#head) {\n                this.#head = this.#next[index];\n            }\n            else {\n                this.#connect(this.#prev[index], this.#next[index]);\n            }\n            this.#connect(this.#tail, index);\n            this.#tail = index;\n        }\n    }\n    /**\n     * Deletes a key out of the cache.\n     *\n     * Returns true if the key was deleted, false otherwise.\n     */\n    delete(k) {\n        return this.#delete(k, 'delete');\n    }\n    #delete(k, reason) {\n        let deleted = false;\n        if (this.#size !== 0) {\n            const index = this.#keyMap.get(k);\n            if (index !== undefined) {\n                deleted = true;\n                if (this.#size === 1) {\n                    this.#clear(reason);\n                }\n                else {\n                    this.#removeItemSize(index);\n                    const v = this.#valList[index];\n                    if (this.#isBackgroundFetch(v)) {\n                        v.__abortController.abort(new Error('deleted'));\n                    }\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(v, k, reason);\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([v, k, reason]);\n                        }\n                    }\n                    this.#keyMap.delete(k);\n                    this.#keyList[index] = undefined;\n                    this.#valList[index] = undefined;\n                    if (index === this.#tail) {\n                        this.#tail = this.#prev[index];\n                    }\n                    else if (index === this.#head) {\n                        this.#head = this.#next[index];\n                    }\n                    else {\n                        const pi = this.#prev[index];\n                        this.#next[pi] = this.#next[index];\n                        const ni = this.#next[index];\n                        this.#prev[ni] = this.#prev[index];\n                    }\n                    this.#size--;\n                    this.#free.push(index);\n                }\n            }\n        }\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Clear the cache entirely, throwing away all values.\n     */\n    clear() {\n        return this.#clear('delete');\n    }\n    #clear(reason) {\n        for (const index of this.#rindexes({ allowStale: true })) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                v.__abortController.abort(new Error('deleted'));\n            }\n            else {\n                const k = this.#keyList[index];\n                if (this.#hasDispose) {\n                    this.#dispose?.(v, k, reason);\n                }\n                if (this.#hasDisposeAfter) {\n                    this.#disposed?.push([v, k, reason]);\n                }\n            }\n        }\n        this.#keyMap.clear();\n        this.#valList.fill(undefined);\n        this.#keyList.fill(undefined);\n        if (this.#ttls && this.#starts) {\n            this.#ttls.fill(0);\n            this.#starts.fill(0);\n        }\n        if (this.#sizes) {\n            this.#sizes.fill(0);\n        }\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free.length = 0;\n        this.#calculatedSize = 0;\n        this.#size = 0;\n        if (this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","/**\n * common.js\n */\n\n/* constants */\nconst TYPE_FROM = 8;\nconst TYPE_TO = -1;\n\n/**\n * get type\n * @param {*} o - object to check\n * @returns {string} - type of object\n */\nexport const getType = (o: any): string =>\n  Object.prototype.toString.call(o).slice(TYPE_FROM, TYPE_TO);\n\n/**\n * is string\n * @param {*} o - object to check\n * @returns {boolean} - result\n */\nexport const isString = (o: any): o is string =>\n  typeof o === 'string' || o instanceof String;\n","class ParseError extends Error{sourceStart;sourceEnd;parserState;constructor(e,n,t,o){super(e),this.name=\"ParseError\",this.sourceStart=n,this.sourceEnd=t,this.parserState=o}}class ParseErrorWithToken extends ParseError{token;constructor(e,n,t,o,r){super(e,n,t,o),this.token=r}}const e={UnexpectedNewLineInString:\"Unexpected newline while consuming a string token.\",UnexpectedEOFInString:\"Unexpected EOF while consuming a string token.\",UnexpectedEOFInComment:\"Unexpected EOF while consuming a comment.\",UnexpectedEOFInURL:\"Unexpected EOF while consuming a url token.\",UnexpectedEOFInEscapedCodePoint:\"Unexpected EOF while consuming an escaped code point.\",UnexpectedCharacterInURL:\"Unexpected character while consuming a url token.\",InvalidEscapeSequenceInURL:\"Invalid escape sequence while consuming a url token.\",InvalidEscapeSequenceAfterBackslash:'Invalid escape sequence after \"\\\\\"'},n=\"undefined\"!=typeof globalThis&&\"structuredClone\"in globalThis;function cloneTokens(e){return n?structuredClone(e):JSON.parse(JSON.stringify(e))}function stringify(...e){let n=\"\";for(let t=0;t<e.length;t++)n+=e[t][1];return n}const t=13,o=45,r=10,i=43,s=65533;function checkIfFourCodePointsWouldStartCDO(e){return 60===e.source.codePointAt(e.cursor)&&33===e.source.codePointAt(e.cursor+1)&&e.source.codePointAt(e.cursor+2)===o&&e.source.codePointAt(e.cursor+3)===o}function isDigitCodePoint(e){return e>=48&&e<=57}function isUppercaseLetterCodePoint(e){return e>=65&&e<=90}function isLowercaseLetterCodePoint(e){return e>=97&&e<=122}function isHexDigitCodePoint(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function isLetterCodePoint(e){return isLowercaseLetterCodePoint(e)||isUppercaseLetterCodePoint(e)}function isIdentStartCodePoint(e){return isLetterCodePoint(e)||isNonASCII_IdentCodePoint(e)||95===e}function isIdentCodePoint(e){return isIdentStartCodePoint(e)||isDigitCodePoint(e)||e===o}function isNonASCII_IdentCodePoint(e){return 183===e||8204===e||8205===e||8255===e||8256===e||8204===e||(192<=e&&e<=214||216<=e&&e<=246||248<=e&&e<=893||895<=e&&e<=8191||8304<=e&&e<=8591||11264<=e&&e<=12271||12289<=e&&e<=55295||63744<=e&&e<=64975||65008<=e&&e<=65533||(0===e||(!!isSurrogate(e)||e>=65536)))}function isNewLine(e){return e===r||e===t||12===e}function isWhitespace(e){return 32===e||e===r||9===e||e===t||12===e}function isSurrogate(e){return e>=55296&&e<=57343}function checkIfTwoCodePointsAreAValidEscape(e){return 92===e.source.codePointAt(e.cursor)&&!isNewLine(e.source.codePointAt(e.cursor+1)??-1)}function checkIfThreeCodePointsWouldStartAnIdentSequence(e,n){return n.source.codePointAt(n.cursor)===o?n.source.codePointAt(n.cursor+1)===o||(!!isIdentStartCodePoint(n.source.codePointAt(n.cursor+1)??-1)||92===n.source.codePointAt(n.cursor+1)&&!isNewLine(n.source.codePointAt(n.cursor+2)??-1)):!!isIdentStartCodePoint(n.source.codePointAt(n.cursor)??-1)||checkIfTwoCodePointsAreAValidEscape(n)}function checkIfThreeCodePointsWouldStartANumber(e){return e.source.codePointAt(e.cursor)===i||e.source.codePointAt(e.cursor)===o?!!isDigitCodePoint(e.source.codePointAt(e.cursor+1)??-1)||46===e.source.codePointAt(e.cursor+1)&&isDigitCodePoint(e.source.codePointAt(e.cursor+2)??-1):46===e.source.codePointAt(e.cursor)?isDigitCodePoint(e.source.codePointAt(e.cursor+1)??-1):isDigitCodePoint(e.source.codePointAt(e.cursor)??-1)}function checkIfTwoCodePointsStartAComment(e){return 47===e.source.codePointAt(e.cursor)&&42===e.source.codePointAt(e.cursor+1)}function checkIfThreeCodePointsWouldStartCDC(e){return e.source.codePointAt(e.cursor)===o&&e.source.codePointAt(e.cursor+1)===o&&62===e.source.codePointAt(e.cursor+2)}var c,a,u;function mirrorVariantType(e){switch(e){case c.OpenParen:return c.CloseParen;case c.CloseParen:return c.OpenParen;case c.OpenCurly:return c.CloseCurly;case c.CloseCurly:return c.OpenCurly;case c.OpenSquare:return c.CloseSquare;case c.CloseSquare:return c.OpenSquare;default:return null}}function mirrorVariant(e){switch(e[0]){case c.OpenParen:return[c.CloseParen,\")\",-1,-1,void 0];case c.CloseParen:return[c.OpenParen,\"(\",-1,-1,void 0];case c.OpenCurly:return[c.CloseCurly,\"}\",-1,-1,void 0];case c.CloseCurly:return[c.OpenCurly,\"{\",-1,-1,void 0];case c.OpenSquare:return[c.CloseSquare,\"]\",-1,-1,void 0];case c.CloseSquare:return[c.OpenSquare,\"[\",-1,-1,void 0];default:return null}}function consumeComment(n,t){for(t.advanceCodePoint(2);;){const o=t.readCodePoint();if(void 0===o){const o=[c.Comment,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return n.onParseError(new ParseErrorWithToken(e.UnexpectedEOFInComment,t.representationStart,t.representationEnd,[\"4.3.2. Consume comments\",\"Unexpected EOF\"],o)),o}if(42===o&&(void 0!==t.source.codePointAt(t.cursor)&&47===t.source.codePointAt(t.cursor))){t.advanceCodePoint();break}}return[c.Comment,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0]}function consumeEscapedCodePoint(n,o){const i=o.readCodePoint();if(void 0===i)return n.onParseError(new ParseError(e.UnexpectedEOFInEscapedCodePoint,o.representationStart,o.representationEnd,[\"4.3.7. Consume an escaped code point\",\"Unexpected EOF\"])),s;if(isHexDigitCodePoint(i)){const e=[i];let n;for(;void 0!==(n=o.source.codePointAt(o.cursor))&&isHexDigitCodePoint(n)&&e.length<6;)e.push(n),o.advanceCodePoint();isWhitespace(o.source.codePointAt(o.cursor)??-1)&&(o.source.codePointAt(o.cursor)===t&&o.source.codePointAt(o.cursor+1)===r&&o.advanceCodePoint(),o.advanceCodePoint());const c=parseInt(String.fromCodePoint(...e),16);return 0===c||isSurrogate(c)||c>1114111?s:c}return 0===i||isSurrogate(i)?s:i}function consumeIdentSequence(e,n){const t=[];for(;;){const o=n.source.codePointAt(n.cursor)??-1;if(0===o||isSurrogate(o))t.push(s),n.advanceCodePoint(+(o>65535)+1);else if(isIdentCodePoint(o))t.push(o),n.advanceCodePoint(+(o>65535)+1);else{if(!checkIfTwoCodePointsAreAValidEscape(n))return t;n.advanceCodePoint(),t.push(consumeEscapedCodePoint(e,n))}}}function consumeHashToken(e,n){n.advanceCodePoint();const t=n.source.codePointAt(n.cursor);if(void 0!==t&&(isIdentCodePoint(t)||checkIfTwoCodePointsAreAValidEscape(n))){let t=u.Unrestricted;checkIfThreeCodePointsWouldStartAnIdentSequence(0,n)&&(t=u.ID);const o=consumeIdentSequence(e,n);return[c.Hash,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:String.fromCodePoint(...o),type:t}]}return[c.Delim,\"#\",n.representationStart,n.representationEnd,{value:\"#\"}]}function consumeNumber(e,n){let t=a.Integer;for(n.source.codePointAt(n.cursor)!==i&&n.source.codePointAt(n.cursor)!==o||n.advanceCodePoint();isDigitCodePoint(n.source.codePointAt(n.cursor)??-1);)n.advanceCodePoint();if(46===n.source.codePointAt(n.cursor)&&isDigitCodePoint(n.source.codePointAt(n.cursor+1)??-1))for(n.advanceCodePoint(2),t=a.Number;isDigitCodePoint(n.source.codePointAt(n.cursor)??-1);)n.advanceCodePoint();if(101===n.source.codePointAt(n.cursor)||69===n.source.codePointAt(n.cursor)){if(isDigitCodePoint(n.source.codePointAt(n.cursor+1)??-1))n.advanceCodePoint(2);else{if(n.source.codePointAt(n.cursor+1)!==o&&n.source.codePointAt(n.cursor+1)!==i||!isDigitCodePoint(n.source.codePointAt(n.cursor+2)??-1))return t;n.advanceCodePoint(3)}for(t=a.Number;isDigitCodePoint(n.source.codePointAt(n.cursor)??-1);)n.advanceCodePoint()}return t}function consumeNumericToken(e,n){let t;{const e=n.source.codePointAt(n.cursor);e===o?t=\"-\":e===i&&(t=\"+\")}const r=consumeNumber(0,n),s=parseFloat(n.source.slice(n.representationStart,n.representationEnd+1));if(checkIfThreeCodePointsWouldStartAnIdentSequence(0,n)){const o=consumeIdentSequence(e,n);return[c.Dimension,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:s,signCharacter:t,type:r,unit:String.fromCodePoint(...o)}]}return 37===n.source.codePointAt(n.cursor)?(n.advanceCodePoint(),[c.Percentage,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:s,signCharacter:t}]):[c.Number,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:s,signCharacter:t,type:r}]}function consumeWhiteSpace(e){for(;isWhitespace(e.source.codePointAt(e.cursor)??-1);)e.advanceCodePoint();return[c.Whitespace,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0]}!function(e){e.Comment=\"comment\",e.AtKeyword=\"at-keyword-token\",e.BadString=\"bad-string-token\",e.BadURL=\"bad-url-token\",e.CDC=\"CDC-token\",e.CDO=\"CDO-token\",e.Colon=\"colon-token\",e.Comma=\"comma-token\",e.Delim=\"delim-token\",e.Dimension=\"dimension-token\",e.EOF=\"EOF-token\",e.Function=\"function-token\",e.Hash=\"hash-token\",e.Ident=\"ident-token\",e.Number=\"number-token\",e.Percentage=\"percentage-token\",e.Semicolon=\"semicolon-token\",e.String=\"string-token\",e.URL=\"url-token\",e.Whitespace=\"whitespace-token\",e.OpenParen=\"(-token\",e.CloseParen=\")-token\",e.OpenSquare=\"[-token\",e.CloseSquare=\"]-token\",e.OpenCurly=\"{-token\",e.CloseCurly=\"}-token\",e.UnicodeRange=\"unicode-range-token\"}(c||(c={})),function(e){e.Integer=\"integer\",e.Number=\"number\"}(a||(a={})),function(e){e.Unrestricted=\"unrestricted\",e.ID=\"id\"}(u||(u={}));class Reader{cursor=0;source=\"\";representationStart=0;representationEnd=-1;constructor(e){this.source=e}advanceCodePoint(e=1){this.cursor=this.cursor+e,this.representationEnd=this.cursor-1}readCodePoint(){const e=this.source.codePointAt(this.cursor);if(void 0!==e)return this.cursor=this.cursor+1,this.representationEnd=this.cursor-1,e}unreadCodePoint(e=1){this.cursor=this.cursor-e,this.representationEnd=this.cursor-1}resetRepresentation(){this.representationStart=this.cursor,this.representationEnd=-1}}function consumeStringToken(n,o){let i=\"\";const a=o.readCodePoint();for(;;){const u=o.readCodePoint();if(void 0===u){const t=[c.String,o.source.slice(o.representationStart,o.representationEnd+1),o.representationStart,o.representationEnd,{value:i}];return n.onParseError(new ParseErrorWithToken(e.UnexpectedEOFInString,o.representationStart,o.representationEnd,[\"4.3.5. Consume a string token\",\"Unexpected EOF\"],t)),t}if(isNewLine(u)){o.unreadCodePoint();const i=[c.BadString,o.source.slice(o.representationStart,o.representationEnd+1),o.representationStart,o.representationEnd,void 0];return n.onParseError(new ParseErrorWithToken(e.UnexpectedNewLineInString,o.representationStart,o.source.codePointAt(o.cursor)===t&&o.source.codePointAt(o.cursor+1)===r?o.representationEnd+2:o.representationEnd+1,[\"4.3.5. Consume a string token\",\"Unexpected newline\"],i)),i}if(u===a)return[c.String,o.source.slice(o.representationStart,o.representationEnd+1),o.representationStart,o.representationEnd,{value:i}];if(92!==u)0===u||isSurrogate(u)?i+=String.fromCodePoint(s):i+=String.fromCodePoint(u);else{if(void 0===o.source.codePointAt(o.cursor))continue;if(isNewLine(o.source.codePointAt(o.cursor)??-1)){o.source.codePointAt(o.cursor)===t&&o.source.codePointAt(o.cursor+1)===r&&o.advanceCodePoint(),o.advanceCodePoint();continue}i+=String.fromCodePoint(consumeEscapedCodePoint(n,o))}}}function checkIfCodePointsMatchURLIdent(e){return!(3!==e.length||117!==e[0]&&85!==e[0]||114!==e[1]&&82!==e[1]||108!==e[2]&&76!==e[2])}function consumeBadURL(e,n){for(;;){const t=n.source.codePointAt(n.cursor);if(void 0===t)return;if(41===t)return void n.advanceCodePoint();checkIfTwoCodePointsAreAValidEscape(n)?(n.advanceCodePoint(),consumeEscapedCodePoint(e,n)):n.advanceCodePoint()}}function consumeUrlToken(n,t){for(;isWhitespace(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint();let o=\"\";for(;;){if(void 0===t.source.codePointAt(t.cursor)){const r=[c.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:o}];return n.onParseError(new ParseErrorWithToken(e.UnexpectedEOFInURL,t.representationStart,t.representationEnd,[\"4.3.6. Consume a url token\",\"Unexpected EOF\"],r)),r}if(41===t.source.codePointAt(t.cursor))return t.advanceCodePoint(),[c.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:o}];if(isWhitespace(t.source.codePointAt(t.cursor)??-1)){for(t.advanceCodePoint();isWhitespace(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint();if(void 0===t.source.codePointAt(t.cursor)){const r=[c.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:o}];return n.onParseError(new ParseErrorWithToken(e.UnexpectedEOFInURL,t.representationStart,t.representationEnd,[\"4.3.6. Consume a url token\",\"Consume as much whitespace as possible\",\"Unexpected EOF\"],r)),r}return 41===t.source.codePointAt(t.cursor)?(t.advanceCodePoint(),[c.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:o}]):(consumeBadURL(n,t),[c.BadURL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0])}const i=t.source.codePointAt(t.cursor);if(34===i||39===i||40===i||(11===(r=i??-1)||127===r||0<=r&&r<=8||14<=r&&r<=31)){consumeBadURL(n,t);const o=[c.BadURL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return n.onParseError(new ParseErrorWithToken(e.UnexpectedCharacterInURL,t.representationStart,t.representationEnd,[\"4.3.6. Consume a url token\",\"Unexpected U+0022 QUOTATION MARK (\\\"), U+0027 APOSTROPHE ('), U+0028 LEFT PARENTHESIS (() or non-printable code point\"],o)),o}if(92===i){if(checkIfTwoCodePointsAreAValidEscape(t)){t.advanceCodePoint(),o+=String.fromCodePoint(consumeEscapedCodePoint(n,t));continue}consumeBadURL(n,t);const r=[c.BadURL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return n.onParseError(new ParseErrorWithToken(e.InvalidEscapeSequenceInURL,t.representationStart,t.representationEnd,[\"4.3.6. Consume a url token\",\"U+005C REVERSE SOLIDUS (\\\\)\",\"The input stream does not start with a valid escape sequence\"],r)),r}0===t.source.codePointAt(t.cursor)||isSurrogate(t.source.codePointAt(t.cursor)??-1)?(o+=String.fromCodePoint(s),t.advanceCodePoint()):(o+=t.source[t.cursor],t.advanceCodePoint())}var r}function consumeIdentLikeToken(e,n){const t=consumeIdentSequence(e,n);if(40!==n.source.codePointAt(n.cursor))return[c.Ident,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:String.fromCodePoint(...t)}];if(checkIfCodePointsMatchURLIdent(t)){n.advanceCodePoint();let o=0;for(;;){const e=isWhitespace(n.source.codePointAt(n.cursor)??-1),r=isWhitespace(n.source.codePointAt(n.cursor+1)??-1);if(e&&r){o+=1,n.advanceCodePoint(1);continue}const i=e?n.source.codePointAt(n.cursor+1):n.source.codePointAt(n.cursor);if(34===i||39===i)return o>0&&n.unreadCodePoint(o),[c.Function,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:String.fromCodePoint(...t)}];break}return consumeUrlToken(e,n)}return n.advanceCodePoint(),[c.Function,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{value:String.fromCodePoint(...t)}]}function checkIfThreeCodePointsWouldStartAUnicodeRange(e){return!(117!==e.source.codePointAt(e.cursor)&&85!==e.source.codePointAt(e.cursor)||e.source.codePointAt(e.cursor+1)!==i||63!==e.source.codePointAt(e.cursor+2)&&!isHexDigitCodePoint(e.source.codePointAt(e.cursor+2)??-1))}function consumeUnicodeRangeToken(e,n){n.advanceCodePoint(2);const t=[],r=[];let i;for(;void 0!==(i=n.source.codePointAt(n.cursor))&&t.length<6&&isHexDigitCodePoint(i);)t.push(i),n.advanceCodePoint();for(;void 0!==(i=n.source.codePointAt(n.cursor))&&t.length<6&&63===i;)0===r.length&&r.push(...t),t.push(48),r.push(70),n.advanceCodePoint();if(!r.length&&n.source.codePointAt(n.cursor)===o&&isHexDigitCodePoint(n.source.codePointAt(n.cursor+1)??-1))for(n.advanceCodePoint();void 0!==(i=n.source.codePointAt(n.cursor))&&r.length<6&&isHexDigitCodePoint(i);)r.push(i),n.advanceCodePoint();if(!r.length){const e=parseInt(String.fromCodePoint(...t),16);return[c.UnicodeRange,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{startOfRange:e,endOfRange:e}]}const s=parseInt(String.fromCodePoint(...t),16),a=parseInt(String.fromCodePoint(...r),16);return[c.UnicodeRange,n.source.slice(n.representationStart,n.representationEnd+1),n.representationStart,n.representationEnd,{startOfRange:s,endOfRange:a}]}function tokenize(e,n){const t=tokenizer(e,n),o=[];for(;!t.endOfFile();)o.push(t.nextToken());return o.push(t.nextToken()),o}function tokenizer(n,s){const a=n.css.valueOf(),u=n.unicodeRangesAllowed??!1,d=new Reader(a),p={onParseError:s?.onParseError??noop};return{nextToken:function nextToken(){d.resetRepresentation();const n=d.source.codePointAt(d.cursor);if(void 0===n)return[c.EOF,\"\",-1,-1,void 0];if(47===n&&checkIfTwoCodePointsStartAComment(d))return consumeComment(p,d);if(u&&(117===n||85===n)&&checkIfThreeCodePointsWouldStartAUnicodeRange(d))return consumeUnicodeRangeToken(0,d);if(isIdentStartCodePoint(n))return consumeIdentLikeToken(p,d);if(isDigitCodePoint(n))return consumeNumericToken(p,d);switch(n){case 44:return d.advanceCodePoint(),[c.Comma,\",\",d.representationStart,d.representationEnd,void 0];case 58:return d.advanceCodePoint(),[c.Colon,\":\",d.representationStart,d.representationEnd,void 0];case 59:return d.advanceCodePoint(),[c.Semicolon,\";\",d.representationStart,d.representationEnd,void 0];case 40:return d.advanceCodePoint(),[c.OpenParen,\"(\",d.representationStart,d.representationEnd,void 0];case 41:return d.advanceCodePoint(),[c.CloseParen,\")\",d.representationStart,d.representationEnd,void 0];case 91:return d.advanceCodePoint(),[c.OpenSquare,\"[\",d.representationStart,d.representationEnd,void 0];case 93:return d.advanceCodePoint(),[c.CloseSquare,\"]\",d.representationStart,d.representationEnd,void 0];case 123:return d.advanceCodePoint(),[c.OpenCurly,\"{\",d.representationStart,d.representationEnd,void 0];case 125:return d.advanceCodePoint(),[c.CloseCurly,\"}\",d.representationStart,d.representationEnd,void 0];case 39:case 34:return consumeStringToken(p,d);case 35:return consumeHashToken(p,d);case i:case 46:return checkIfThreeCodePointsWouldStartANumber(d)?consumeNumericToken(p,d):(d.advanceCodePoint(),[c.Delim,d.source[d.representationStart],d.representationStart,d.representationEnd,{value:d.source[d.representationStart]}]);case r:case t:case 12:case 9:case 32:return consumeWhiteSpace(d);case o:return checkIfThreeCodePointsWouldStartANumber(d)?consumeNumericToken(p,d):checkIfThreeCodePointsWouldStartCDC(d)?(d.advanceCodePoint(3),[c.CDC,\"--\\x3e\",d.representationStart,d.representationEnd,void 0]):checkIfThreeCodePointsWouldStartAnIdentSequence(0,d)?consumeIdentLikeToken(p,d):(d.advanceCodePoint(),[c.Delim,\"-\",d.representationStart,d.representationEnd,{value:\"-\"}]);case 60:return checkIfFourCodePointsWouldStartCDO(d)?(d.advanceCodePoint(4),[c.CDO,\"\\x3c!--\",d.representationStart,d.representationEnd,void 0]):(d.advanceCodePoint(),[c.Delim,\"<\",d.representationStart,d.representationEnd,{value:\"<\"}]);case 64:if(d.advanceCodePoint(),checkIfThreeCodePointsWouldStartAnIdentSequence(0,d)){const e=consumeIdentSequence(p,d);return[c.AtKeyword,d.source.slice(d.representationStart,d.representationEnd+1),d.representationStart,d.representationEnd,{value:String.fromCodePoint(...e)}]}return[c.Delim,\"@\",d.representationStart,d.representationEnd,{value:\"@\"}];case 92:{if(checkIfTwoCodePointsAreAValidEscape(d))return consumeIdentLikeToken(p,d);d.advanceCodePoint();const n=[c.Delim,\"\\\\\",d.representationStart,d.representationEnd,{value:\"\\\\\"}];return p.onParseError(new ParseErrorWithToken(e.InvalidEscapeSequenceAfterBackslash,d.representationStart,d.representationEnd,[\"4.3.1. Consume a token\",\"U+005C REVERSE SOLIDUS (\\\\)\",\"The input stream does not start with a valid escape sequence\"],n)),n}}return d.advanceCodePoint(),[c.Delim,d.source[d.representationStart],d.representationStart,d.representationEnd,{value:d.source[d.representationStart]}]},endOfFile:function endOfFile(){return void 0===d.source.codePointAt(d.cursor)}}}function noop(){}function mutateIdent(e,n){const t=[];for(const e of n)t.push(e.codePointAt(0));const o=String.fromCodePoint(...ensureThatValueRoundTripsAsIdent(t));e[1]=o,e[4].value=n}function mutateUnit(e,n){const t=[];for(const e of n)t.push(e.codePointAt(0));const o=ensureThatValueRoundTripsAsIdent(t);101===o[0]&&insertEscapedCodePoint(o,0,o[0]);const r=String.fromCodePoint(...o),i=\"+\"===e[4].signCharacter?e[4].signCharacter:\"\",s=e[4].value.toString();e[1]=`${i}${s}${r}`,e[4].unit=n}function ensureThatValueRoundTripsAsIdent(e){let n=0;e[0]===o&&e[1]===o?n=2:e[0]===o&&e[1]?(n=2,isIdentStartCodePoint(e[1])||(n+=insertEscapedCodePoint(e,1,e[1]))):isIdentStartCodePoint(e[0])?n=1:(n=1,n+=insertEscapedCodePoint(e,0,e[0]));for(let t=n;t<e.length;t++)isIdentCodePoint(e[t])||(t+=insertEscapedCodePoint(e,t,e[t]));return e}function insertEscapedCodePoint(e,n,t){const o=t.toString(16),r=[];for(const e of o)r.push(e.codePointAt(0));const i=e[n+1];return n===e.length-1||i&&isHexDigitCodePoint(i)?(e.splice(n,1,92,...r,32),1+r.length):(e.splice(n,1,92,...r),r.length)}const d=Object.values(c);function isToken(e){return!!Array.isArray(e)&&(!(e.length<4)&&(!!d.includes(e[0])&&(\"string\"==typeof e[1]&&(\"number\"==typeof e[2]&&\"number\"==typeof e[3]))))}function isTokenNumeric(e){if(!e)return!1;switch(e[0]){case c.Dimension:case c.Number:case c.Percentage:return!0;default:return!1}}function isTokenWhiteSpaceOrComment(e){if(!e)return!1;switch(e[0]){case c.Whitespace:case c.Comment:return!0;default:return!1}}function isTokenAtKeyword(e){return!!e&&e[0]===c.AtKeyword}function isTokenBadString(e){return!!e&&e[0]===c.BadString}function isTokenBadURL(e){return!!e&&e[0]===c.BadURL}function isTokenCDC(e){return!!e&&e[0]===c.CDC}function isTokenCDO(e){return!!e&&e[0]===c.CDO}function isTokenColon(e){return!!e&&e[0]===c.Colon}function isTokenComma(e){return!!e&&e[0]===c.Comma}function isTokenComment(e){return!!e&&e[0]===c.Comment}function isTokenDelim(e){return!!e&&e[0]===c.Delim}function isTokenDimension(e){return!!e&&e[0]===c.Dimension}function isTokenEOF(e){return!!e&&e[0]===c.EOF}function isTokenFunction(e){return!!e&&e[0]===c.Function}function isTokenHash(e){return!!e&&e[0]===c.Hash}function isTokenIdent(e){return!!e&&e[0]===c.Ident}function isTokenNumber(e){return!!e&&e[0]===c.Number}function isTokenPercentage(e){return!!e&&e[0]===c.Percentage}function isTokenSemicolon(e){return!!e&&e[0]===c.Semicolon}function isTokenString(e){return!!e&&e[0]===c.String}function isTokenURL(e){return!!e&&e[0]===c.URL}function isTokenWhitespace(e){return!!e&&e[0]===c.Whitespace}function isTokenOpenParen(e){return!!e&&e[0]===c.OpenParen}function isTokenCloseParen(e){return!!e&&e[0]===c.CloseParen}function isTokenOpenSquare(e){return!!e&&e[0]===c.OpenSquare}function isTokenCloseSquare(e){return!!e&&e[0]===c.CloseSquare}function isTokenOpenCurly(e){return!!e&&e[0]===c.OpenCurly}function isTokenCloseCurly(e){return!!e&&e[0]===c.CloseCurly}function isTokenUnicodeRange(e){return!!e&&e[0]===c.UnicodeRange}export{u as HashType,a as NumberType,ParseError,e as ParseErrorMessage,ParseErrorWithToken,c as TokenType,cloneTokens,isToken,isTokenAtKeyword,isTokenBadString,isTokenBadURL,isTokenCDC,isTokenCDO,isTokenCloseCurly,isTokenCloseParen,isTokenCloseSquare,isTokenColon,isTokenComma,isTokenComment,isTokenDelim,isTokenDimension,isTokenEOF,isTokenFunction,isTokenHash,isTokenIdent,isTokenNumber,isTokenNumeric,isTokenOpenCurly,isTokenOpenParen,isTokenOpenSquare,isTokenPercentage,isTokenSemicolon,isTokenString,isTokenURL,isTokenUnicodeRange,isTokenWhiteSpaceOrComment,isTokenWhitespace,mirrorVariant,mirrorVariantType,mutateIdent,mutateUnit,stringify,tokenize,tokenizer};\n","import{isTokenEOF as e,TokenType as n,isToken as t,stringify as o,mirrorVariant as s,isTokenOpenParen as i,isTokenOpenCurly as r,isTokenOpenSquare as a,isTokenFunction as c,isTokenWhitespace as u,isTokenComment as l,ParseError as d,isTokenCloseParen as h,isTokenWhiteSpaceOrComment as p,mirrorVariantType as m,isTokenComma as k}from\"@csstools/css-tokenizer\";var f;function walkerIndexGenerator(e){let n=e.slice();return(e,t,o)=>{let s=-1;for(let i=n.indexOf(t);i<n.length&&(s=e.indexOf(n[i]),-1===s||s<o);i++);return-1===s||s===o&&t===e[o]&&(s++,s>=e.length)?-1:(n=e.slice(),s)}}function consumeComponentValue(e,n){const t=n[0];if(i(t)||r(t)||a(t)){const t=consumeSimpleBlock(e,n);return{advance:t.advance,node:t.node}}if(c(t)){const t=consumeFunction(e,n);return{advance:t.advance,node:t.node}}if(u(t)){const t=consumeWhitespace(e,n);return{advance:t.advance,node:t.node}}if(l(t)){const t=consumeComment(e,n);return{advance:t.advance,node:t.node}}return{advance:1,node:new TokenNode(t)}}!function(e){e.Function=\"function\",e.SimpleBlock=\"simple-block\",e.Whitespace=\"whitespace\",e.Comment=\"comment\",e.Token=\"token\"}(f||(f={}));class ContainerNodeBaseClass{value=[];indexOf(e){return this.value.indexOf(e)}at(e){if(\"number\"==typeof e)return e<0&&(e=this.value.length+e),this.value[e]}forEach(e,n){if(0===this.value.length)return;const t=walkerIndexGenerator(this.value);let o=0;for(;o<this.value.length;){const s=this.value[o];let i;if(n&&(i={...n}),!1===e({node:s,parent:this,state:i},o))return!1;if(o=t(this.value,s,o),-1===o)break}}walk(e,n){0!==this.value.length&&this.forEach(((n,t)=>!1!==e(n,t)&&((!(\"walk\"in n.node)||!this.value.includes(n.node)||!1!==n.node.walk(e,n.state))&&void 0)),n)}}class FunctionNode extends ContainerNodeBaseClass{type=f.Function;name;endToken;constructor(e,n,t){super(),this.name=e,this.endToken=n,this.value=t}getName(){return this.name[4].value}normalize(){e(this.endToken)&&(this.endToken=[n.CloseParen,\")\",-1,-1,void 0])}tokens(){return e(this.endToken)?[this.name,...this.value.flatMap((e=>e.tokens()))]:[this.name,...this.value.flatMap((e=>e.tokens())),this.endToken]}toString(){const e=this.value.map((e=>t(e)?o(e):e.toString())).join(\"\");return o(this.name)+e+o(this.endToken)}toJSON(){return{type:this.type,name:this.getName(),tokens:this.tokens(),value:this.value.map((e=>e.toJSON()))}}isFunctionNode(){return FunctionNode.isFunctionNode(this)}static isFunctionNode(e){return!!e&&(e instanceof FunctionNode&&e.type===f.Function)}}function consumeFunction(n,t){const o=[];let s=1;for(;;){const i=t[s];if(!i||e(i))return n.onParseError(new d(\"Unexpected EOF while consuming a function.\",t[0][2],t[t.length-1][3],[\"5.4.9. Consume a function\",\"Unexpected EOF\"])),{advance:t.length,node:new FunctionNode(t[0],i,o)};if(h(i))return{advance:s+1,node:new FunctionNode(t[0],i,o)};if(p(i)){const e=consumeAllCommentsAndWhitespace(n,t.slice(s));s+=e.advance,o.push(...e.nodes);continue}const r=consumeComponentValue(n,t.slice(s));s+=r.advance,o.push(r.node)}}class SimpleBlockNode extends ContainerNodeBaseClass{type=f.SimpleBlock;startToken;endToken;constructor(e,n,t){super(),this.startToken=e,this.endToken=n,this.value=t}normalize(){if(e(this.endToken)){const e=s(this.startToken);e&&(this.endToken=e)}}tokens(){return e(this.endToken)?[this.startToken,...this.value.flatMap((e=>e.tokens()))]:[this.startToken,...this.value.flatMap((e=>e.tokens())),this.endToken]}toString(){const e=this.value.map((e=>t(e)?o(e):e.toString())).join(\"\");return o(this.startToken)+e+o(this.endToken)}toJSON(){return{type:this.type,startToken:this.startToken,tokens:this.tokens(),value:this.value.map((e=>e.toJSON()))}}isSimpleBlockNode(){return SimpleBlockNode.isSimpleBlockNode(this)}static isSimpleBlockNode(e){return!!e&&(e instanceof SimpleBlockNode&&e.type===f.SimpleBlock)}}function consumeSimpleBlock(n,t){const o=m(t[0][0]);if(!o)throw new Error(\"Failed to parse, a mirror variant must exist for all block open tokens.\");const s=[];let i=1;for(;;){const r=t[i];if(!r||e(r))return n.onParseError(new d(\"Unexpected EOF while consuming a simple block.\",t[0][2],t[t.length-1][3],[\"5.4.8. Consume a simple block\",\"Unexpected EOF\"])),{advance:t.length,node:new SimpleBlockNode(t[0],r,s)};if(r[0]===o)return{advance:i+1,node:new SimpleBlockNode(t[0],r,s)};if(p(r)){const e=consumeAllCommentsAndWhitespace(n,t.slice(i));i+=e.advance,s.push(...e.nodes);continue}const a=consumeComponentValue(n,t.slice(i));i+=a.advance,s.push(a.node)}}class WhitespaceNode{type=f.Whitespace;value;constructor(e){this.value=e}tokens(){return this.value}toString(){return o(...this.value)}toJSON(){return{type:this.type,tokens:this.tokens()}}isWhitespaceNode(){return WhitespaceNode.isWhitespaceNode(this)}static isWhitespaceNode(e){return!!e&&(e instanceof WhitespaceNode&&e.type===f.Whitespace)}}function consumeWhitespace(e,n){let t=0;for(;;){const e=n[t];if(!u(e))return{advance:t,node:new WhitespaceNode(n.slice(0,t))};t++}}class CommentNode{type=f.Comment;value;constructor(e){this.value=e}tokens(){return[this.value]}toString(){return o(this.value)}toJSON(){return{type:this.type,tokens:this.tokens()}}isCommentNode(){return CommentNode.isCommentNode(this)}static isCommentNode(e){return!!e&&(e instanceof CommentNode&&e.type===f.Comment)}}function consumeComment(e,n){return{advance:1,node:new CommentNode(n[0])}}function consumeAllCommentsAndWhitespace(e,n){const t=[];let o=0;for(;;)if(u(n[o])){const e=consumeWhitespace(0,n.slice(o));o+=e.advance,t.push(e.node)}else{if(!l(n[o]))return{advance:o,nodes:t};t.push(new CommentNode(n[o])),o++}}class TokenNode{type=f.Token;value;constructor(e){this.value=e}tokens(){return[this.value]}toString(){return this.value[1]}toJSON(){return{type:this.type,tokens:this.tokens()}}isTokenNode(){return TokenNode.isTokenNode(this)}static isTokenNode(e){return!!e&&(e instanceof TokenNode&&e.type===f.Token)}}function parseComponentValue(t,o){const s={onParseError:o?.onParseError??(()=>{})},i=[...t];e(i[i.length-1])&&i.push([n.EOF,\"\",i[i.length-1][2],i[i.length-1][3],void 0]);const r=consumeComponentValue(s,i);if(e(i[Math.min(r.advance,i.length-1)]))return r.node;s.onParseError(new d(\"Expected EOF after parsing a component value.\",t[0][2],t[t.length-1][3],[\"5.3.9. Parse a component value\",\"Expected EOF\"]))}function parseListOfComponentValues(t,o){const s={onParseError:o?.onParseError??(()=>{})},i=[...t];e(i[i.length-1])&&i.push([n.EOF,\"\",i[i.length-1][2],i[i.length-1][3],void 0]);const r=[];let a=0;for(;;){if(!i[a]||e(i[a]))return r;const n=consumeComponentValue(s,i.slice(a));r.push(n.node),a+=n.advance}}function parseCommaSeparatedListOfComponentValues(t,o){const s={onParseError:o?.onParseError??(()=>{})},i=[...t];if(0===t.length)return[];e(i[i.length-1])&&i.push([n.EOF,\"\",i[i.length-1][2],i[i.length-1][3],void 0]);const r=[];let a=[],c=0;for(;;){if(!i[c]||e(i[c]))return a.length&&r.push(a),r;if(k(i[c])){r.push(a),a=[],c++;continue}const n=consumeComponentValue(s,t.slice(c));a.push(n.node),c+=n.advance}}function gatherNodeAncestry(e){const n=new Map;return e.walk((e=>{Array.isArray(e.node)?e.node.forEach((t=>{n.set(t,e.parent)})):n.set(e.node,e.parent)})),n}function forEach(e,n,t){if(0===e.length)return;const o=walkerIndexGenerator(e);let s=0;for(;s<e.length;){const i=e[s];let r;if(t&&(r={...t}),!1===n({node:i,parent:{value:e},state:r},s))return!1;if(s=o(e,i,s),-1===s)break}}function walk(e,n,t){0!==e.length&&forEach(e,((t,o)=>!1!==n(t,o)&&((!(\"walk\"in t.node)||!e.includes(t.node)||!1!==t.node.walk(n,t.state))&&void 0)),t)}function replaceComponentValues(e,n){for(let t=0;t<e.length;t++){walk(e[t],((e,t)=>{if(\"number\"!=typeof t)return;const o=n(e.node);o&&(Array.isArray(o)?e.parent.value.splice(t,1,...o):e.parent.value.splice(t,1,o))}))}return e}function stringify(e){return e.map((e=>e.map((e=>o(...e.tokens()))).join(\"\"))).join(\",\")}function isSimpleBlockNode(e){return SimpleBlockNode.isSimpleBlockNode(e)}function isFunctionNode(e){return FunctionNode.isFunctionNode(e)}function isWhitespaceNode(e){return WhitespaceNode.isWhitespaceNode(e)}function isCommentNode(e){return CommentNode.isCommentNode(e)}function isWhiteSpaceOrCommentNode(e){return isWhitespaceNode(e)||isCommentNode(e)}function isTokenNode(e){return TokenNode.isTokenNode(e)}function sourceIndices(e){if(Array.isArray(e)){const n=e[0];if(!n)return[0,0];const t=e[e.length-1]||n;return[sourceIndices(n)[0],sourceIndices(t)[1]]}const n=e.tokens(),t=n[0],o=n[n.length-1];return t&&o?[t[2],o[3]]:[0,0]}export{CommentNode,f as ComponentValueType,ContainerNodeBaseClass,FunctionNode,SimpleBlockNode,TokenNode,WhitespaceNode,forEach,gatherNodeAncestry,isCommentNode,isFunctionNode,isSimpleBlockNode,isTokenNode,isWhiteSpaceOrCommentNode,isWhitespaceNode,parseCommaSeparatedListOfComponentValues,parseComponentValue,parseListOfComponentValues,replaceComponentValues,sourceIndices,stringify,walk,walkerIndexGenerator};\n","import{TokenNode as e,isTokenNode as n,isWhitespaceNode as t,isCommentNode as r,isWhiteSpaceOrCommentNode as u,isSimpleBlockNode as a,isFunctionNode as i,FunctionNode as o,WhitespaceNode as l,parseCommaSeparatedListOfComponentValues as c,replaceComponentValues as s}from\"@csstools/css-parser-algorithms\";import{isTokenDimension as v,TokenType as f,NumberType as m,mutateUnit as p,isTokenNumber as C,isTokenPercentage as g,isTokenIdent as D,isTokenNumeric as B,stringify as N,isTokenOpenParen as A,isTokenDelim as d,isTokenComma as F,isToken as b,tokenizer as h,tokenize as w}from\"@csstools/css-tokenizer\";const E=/[A-Z]/g;function toLowerCaseAZ(e){return e.replace(E,(e=>String.fromCharCode(e.charCodeAt(0)+32)))}const S={cm:\"px\",in:\"px\",mm:\"px\",pc:\"px\",pt:\"px\",px:\"px\",q:\"px\",deg:\"deg\",grad:\"deg\",rad:\"deg\",turn:\"deg\",ms:\"s\",s:\"s\",hz:\"hz\",khz:\"hz\"},I=new Map([[\"cm\",e=>e],[\"mm\",e=>10*e],[\"q\",e=>40*e],[\"in\",e=>e/2.54],[\"pc\",e=>e/2.54*6],[\"pt\",e=>e/2.54*72],[\"px\",e=>e/2.54*96]]),y=new Map([[\"deg\",e=>e],[\"grad\",e=>e/.9],[\"rad\",e=>e/180*Math.PI],[\"turn\",e=>e/360]]),M=new Map([[\"deg\",e=>.9*e],[\"grad\",e=>e],[\"rad\",e=>.9*e/180*Math.PI],[\"turn\",e=>.9*e/360]]),T=new Map([[\"hz\",e=>e],[\"khz\",e=>e/1e3]]),k=new Map([[\"cm\",e=>2.54*e],[\"mm\",e=>25.4*e],[\"q\",e=>25.4*e*4],[\"in\",e=>e],[\"pc\",e=>6*e],[\"pt\",e=>72*e],[\"px\",e=>96*e]]),x=new Map([[\"hz\",e=>1e3*e],[\"khz\",e=>e]]),P=new Map([[\"cm\",e=>e/10],[\"mm\",e=>e],[\"q\",e=>4*e],[\"in\",e=>e/25.4],[\"pc\",e=>e/25.4*6],[\"pt\",e=>e/25.4*72],[\"px\",e=>e/25.4*96]]),O=new Map([[\"ms\",e=>e],[\"s\",e=>e/1e3]]),W=new Map([[\"cm\",e=>e/6*2.54],[\"mm\",e=>e/6*25.4],[\"q\",e=>e/6*25.4*4],[\"in\",e=>e/6],[\"pc\",e=>e],[\"pt\",e=>e/6*72],[\"px\",e=>e/6*96]]),L=new Map([[\"cm\",e=>e/72*2.54],[\"mm\",e=>e/72*25.4],[\"q\",e=>e/72*25.4*4],[\"in\",e=>e/72],[\"pc\",e=>e/72*6],[\"pt\",e=>e],[\"px\",e=>e/72*96]]),U=new Map([[\"cm\",e=>e/96*2.54],[\"mm\",e=>e/96*25.4],[\"q\",e=>e/96*25.4*4],[\"in\",e=>e/96],[\"pc\",e=>e/96*6],[\"pt\",e=>e/96*72],[\"px\",e=>e]]),Z=new Map([[\"cm\",e=>e/4/10],[\"mm\",e=>e/4],[\"q\",e=>e],[\"in\",e=>e/4/25.4],[\"pc\",e=>e/4/25.4*6],[\"pt\",e=>e/4/25.4*72],[\"px\",e=>e/4/25.4*96]]),$=new Map([[\"deg\",e=>180*e/Math.PI],[\"grad\",e=>180*e/Math.PI/.9],[\"rad\",e=>e],[\"turn\",e=>180*e/Math.PI/360]]),z=new Map([[\"ms\",e=>1e3*e],[\"s\",e=>e]]),q=new Map([[\"deg\",e=>360*e],[\"grad\",e=>360*e/.9],[\"rad\",e=>360*e/180*Math.PI],[\"turn\",e=>e]]),G=new Map([[\"cm\",I],[\"mm\",P],[\"q\",Z],[\"in\",k],[\"pc\",W],[\"pt\",L],[\"px\",U],[\"ms\",O],[\"s\",z],[\"deg\",y],[\"grad\",M],[\"rad\",$],[\"turn\",q],[\"hz\",T],[\"khz\",x]]);function convertUnit(e,n){if(!v(e))return n;if(!v(n))return n;const t=toLowerCaseAZ(e[4].unit),r=toLowerCaseAZ(n[4].unit);if(t===r)return n;const u=G.get(r);if(!u)return n;const a=u.get(t);if(!a)return n;const i=a(n[4].value),o=[f.Dimension,\"\",n[2],n[3],{...n[4],signCharacter:i<0?\"-\":void 0,type:Number.isInteger(i)?m.Integer:m.Number,value:i}];return p(o,e[4].unit),o}function toCanonicalUnit(e){if(!v(e))return e;const n=toLowerCaseAZ(e[4].unit),t=S[n];if(n===t)return e;const r=G.get(n);if(!r)return e;const u=r.get(t);if(!u)return e;const a=u(e[4].value),i=[f.Dimension,\"\",e[2],e[3],{...e[4],signCharacter:a<0?\"-\":void 0,type:Number.isInteger(a)?m.Integer:m.Number,value:a}];return p(i,t),i}function addition(n){if(2!==n.length)return-1;const t=n[0].value;let r=n[1].value;if(C(t)&&C(r)){const n=t[4].value+r[4].value;return new e([f.Number,n.toString(),t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number}])}if(g(t)&&g(r)){const n=t[4].value+r[4].value;return new e([f.Percentage,n.toString()+\"%\",t[2],r[3],{value:n}])}if(v(t)&&v(r)&&(r=convertUnit(t,r),toLowerCaseAZ(t[4].unit)===toLowerCaseAZ(r[4].unit))){const n=t[4].value+r[4].value;return new e([f.Dimension,n.toString()+t[4].unit,t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number,unit:t[4].unit}])}return-1}function division(n){if(2!==n.length)return-1;const t=n[0].value,r=n[1].value;if(C(t)&&C(r)){const n=t[4].value/r[4].value;return new e([f.Number,n.toString(),t[2],r[3],{value:n,type:Number.isInteger(n)?m.Integer:m.Number}])}if(g(t)&&C(r)){const n=t[4].value/r[4].value;return new e([f.Percentage,n.toString()+\"%\",t[2],r[3],{value:n}])}if(v(t)&&C(r)){const n=t[4].value/r[4].value;return new e([f.Dimension,n.toString()+t[4].unit,t[2],r[3],{value:n,type:Number.isInteger(n)?m.Integer:m.Number,unit:t[4].unit}])}return-1}function isCalculation(e){return!!e&&\"object\"==typeof e&&\"inputs\"in e&&Array.isArray(e.inputs)&&\"operation\"in e}function solve(e){if(-1===e)return-1;const t=[];for(let r=0;r<e.inputs.length;r++){const u=e.inputs[r];if(n(u)){t.push(u);continue}const a=solve(u);if(-1===a)return-1;t.push(a)}return e.operation(t)}function multiplication(n){if(2!==n.length)return-1;const t=n[0].value,r=n[1].value;if(C(t)&&C(r)){const n=t[4].value*r[4].value;return new e([f.Number,n.toString(),t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number}])}if(g(t)&&C(r)){const n=t[4].value*r[4].value;return new e([f.Percentage,n.toString()+\"%\",t[2],r[3],{value:n}])}if(C(t)&&g(r)){const n=t[4].value*r[4].value;return new e([f.Percentage,n.toString()+\"%\",t[2],r[3],{value:n}])}if(v(t)&&C(r)){const n=t[4].value*r[4].value;return new e([f.Dimension,n.toString()+t[4].unit,t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number,unit:t[4].unit}])}if(C(t)&&v(r)){const n=t[4].value*r[4].value;return new e([f.Dimension,n.toString()+r[4].unit,t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number,unit:r[4].unit}])}return-1}function resolveGlobalsAndConstants(t,r){for(let u=0;u<t.length;u++){const a=t[u];if(!n(a))continue;const i=a.value;if(!D(i))continue;const o=toLowerCaseAZ(i[4].value);switch(o){case\"e\":t.splice(u,1,new e([f.Number,Math.E.toString(),i[2],i[3],{value:Math.E,type:m.Number}]));break;case\"pi\":t.splice(u,1,new e([f.Number,Math.PI.toString(),i[2],i[3],{value:Math.PI,type:m.Number}]));break;case\"infinity\":t.splice(u,1,new e([f.Number,\"infinity\",i[2],i[3],{value:1/0,type:m.Number}]));break;case\"-infinity\":t.splice(u,1,new e([f.Number,\"-infinity\",i[2],i[3],{value:-1/0,type:m.Number}]));break;case\"nan\":t.splice(u,1,new e([f.Number,\"NaN\",i[2],i[3],{value:Number.NaN,type:m.Number}]));break;default:if(r.has(o)){const n=r.get(o);t.splice(u,1,new e(n))}}}return t}function unary(e){if(1!==e.length)return-1;const n=e[0].value;return B(n)?e[0]:-1}function resultToCalculation(e,n,t){return v(n)?dimensionToCalculation(e,n[4].unit,t):g(n)?percentageToCalculation(e,t):C(n)?numberToCalculation(e,t):-1}function dimensionToCalculation(n,t,r){const u=n.tokens();return{inputs:[new e([f.Dimension,r.toString()+t,u[0][2],u[u.length-1][3],{value:r,type:Number.isInteger(r)?m.Integer:m.Number,unit:t}])],operation:unary}}function percentageToCalculation(n,t){const r=n.tokens();return{inputs:[new e([f.Percentage,t.toString()+\"%\",r[0][2],r[r.length-1][3],{value:t}])],operation:unary}}function numberToCalculation(n,t){const r=n.tokens();return{inputs:[new e([f.Number,t.toString(),r[0][2],r[r.length-1][3],{value:t,type:Number.isInteger(t)?m.Integer:m.Number}])],operation:unary}}function solveACos(e,n){const t=n.value;if(!C(t))return-1;return dimensionToCalculation(e,\"rad\",Math.acos(t[4].value))}function solveASin(e,n){const t=n.value;if(!C(t))return-1;return dimensionToCalculation(e,\"rad\",Math.asin(t[4].value))}function solveATan(e,n){const t=n.value;if(!C(t))return-1;return dimensionToCalculation(e,\"rad\",Math.atan(t[4].value))}function isDimensionOrNumber(e){return v(e)||C(e)}function arrayOfSameNumeric(e){if(0===e.length)return!0;const n=e[0];if(!B(n))return!1;if(1===e.length)return!0;if(v(n)){const t=toLowerCaseAZ(n[4].unit);for(let r=1;r<e.length;r++){const u=e[r];if(n[0]!==u[0])return!1;if(t!==toLowerCaseAZ(u[4].unit))return!1}return!0}for(let t=1;t<e.length;t++){const r=e[t];if(n[0]!==r[0])return!1}return!0}function twoOfSameNumeric(e,n){return!!B(e)&&(v(e)?e[0]===n[0]&&toLowerCaseAZ(e[4].unit)===toLowerCaseAZ(n[4].unit):e[0]===n[0])}function solveATan2(e,n,t){const r=n.value;if(!isDimensionOrNumber(r))return-1;const u=convertUnit(r,t.value);if(!twoOfSameNumeric(r,u))return-1;return dimensionToCalculation(e,\"rad\",Math.atan2(r[4].value,u[4].value))}function solveAbs(e,n,t){const r=n.value;if(!B(r))return-1;if(!t.rawPercentages&&g(r))return-1;return resultToCalculation(e,r,Math.abs(r[4].value))}function solveClamp(e,t,r,u,a){if(!n(t)||!n(r)||!n(u))return-1;const i=t.value;if(!B(i))return-1;if(!a.rawPercentages&&g(i))return-1;const o=convertUnit(i,r.value);if(!twoOfSameNumeric(i,o))return-1;const l=convertUnit(i,u.value);if(!twoOfSameNumeric(i,l))return-1;return resultToCalculation(e,i,Math.max(i[4].value,Math.min(o[4].value,l[4].value)))}function solveCos(e,n){const t=n.value;if(!isDimensionOrNumber(t))return-1;let r=t[4].value;if(v(t))switch(t[4].unit.toLowerCase()){case\"rad\":break;case\"deg\":r=y.get(\"rad\")(t[4].value);break;case\"grad\":r=M.get(\"rad\")(t[4].value);break;case\"turn\":r=q.get(\"rad\")(t[4].value);break;default:return-1}return r=Math.cos(r),numberToCalculation(e,r)}function solveExp(e,n){const t=n.value;if(!C(t))return-1;return numberToCalculation(e,Math.exp(t[4].value))}function solveHypot(e,t,r){if(!t.every(n))return-1;const u=t[0].value;if(!B(u))return-1;if(!r.rawPercentages&&g(u))return-1;const a=t.map((e=>convertUnit(u,e.value)));if(!arrayOfSameNumeric(a))return-1;const i=a.map((e=>e[4].value)),o=Math.hypot(...i);return resultToCalculation(e,u,o)}function solveMax(e,t,r){if(!t.every(n))return-1;const u=t[0].value;if(!B(u))return-1;if(!r.rawPercentages&&g(u))return-1;const a=t.map((e=>convertUnit(u,e.value)));if(!arrayOfSameNumeric(a))return-1;const i=a.map((e=>e[4].value)),o=Math.max(...i);return resultToCalculation(e,u,o)}function solveMin(e,t,r){if(!t.every(n))return-1;const u=t[0].value;if(!B(u))return-1;if(!r.rawPercentages&&g(u))return-1;const a=t.map((e=>convertUnit(u,e.value)));if(!arrayOfSameNumeric(a))return-1;const i=a.map((e=>e[4].value)),o=Math.min(...i);return resultToCalculation(e,u,o)}function solveMod(e,n,t){const r=n.value;if(!B(r))return-1;const u=convertUnit(r,t.value);if(!twoOfSameNumeric(r,u))return-1;let a;return a=0===u[4].value?Number.NaN:Number.isFinite(r[4].value)&&(Number.isFinite(u[4].value)||(u[4].value!==Number.POSITIVE_INFINITY||r[4].value!==Number.NEGATIVE_INFINITY&&!Object.is(0*r[4].value,-0))&&(u[4].value!==Number.NEGATIVE_INFINITY||r[4].value!==Number.POSITIVE_INFINITY&&!Object.is(0*r[4].value,0)))?Number.isFinite(u[4].value)?(r[4].value%u[4].value+u[4].value)%u[4].value:r[4].value:Number.NaN,resultToCalculation(e,r,a)}function solvePow(e,n,t){const r=n.value,u=t.value;if(!C(r))return-1;if(!twoOfSameNumeric(r,u))return-1;return numberToCalculation(e,Math.pow(r[4].value,u[4].value))}function solveRem(e,n,t){const r=n.value;if(!B(r))return-1;const u=convertUnit(r,t.value);if(!twoOfSameNumeric(r,u))return-1;let a;return a=0===u[4].value?Number.NaN:Number.isFinite(r[4].value)?Number.isFinite(u[4].value)?r[4].value%u[4].value:r[4].value:Number.NaN,resultToCalculation(e,r,a)}function solveRound(e,n,t,r,u){const a=t.value;if(!B(a))return-1;if(!u.rawPercentages&&g(a))return-1;const i=convertUnit(a,r.value);if(!twoOfSameNumeric(a,i))return-1;let o;if(0===i[4].value)o=Number.NaN;else if(Number.isFinite(a[4].value)||Number.isFinite(i[4].value))if(!Number.isFinite(a[4].value)&&Number.isFinite(i[4].value))o=a[4].value;else if(Number.isFinite(a[4].value)&&!Number.isFinite(i[4].value))switch(n){case\"down\":o=a[4].value<0?-1/0:Object.is(-0,0*a[4].value)?-0:0;break;case\"up\":o=a[4].value>0?1/0:Object.is(0,0*a[4].value)?0:-0;break;default:o=Object.is(0,0*a[4].value)?0:-0}else if(Number.isFinite(i[4].value))switch(n){case\"down\":o=Math.floor(a[4].value/i[4].value)*i[4].value;break;case\"up\":o=Math.ceil(a[4].value/i[4].value)*i[4].value;break;case\"to-zero\":o=Math.trunc(a[4].value/i[4].value)*i[4].value;break;default:{let e=Math.floor(a[4].value/i[4].value)*i[4].value,n=Math.ceil(a[4].value/i[4].value)*i[4].value;if(e>n){const t=e;e=n,n=t}const t=Math.abs(a[4].value-e),r=Math.abs(a[4].value-n);o=t===r?n:t<r?e:n;break}}else o=a[4].value;else o=Number.NaN;return resultToCalculation(e,a,o)}function solveSign(e,n,t){const r=n.value;if(!B(r))return-1;if(!t.rawPercentages&&g(r))return-1;return numberToCalculation(e,Math.sign(r[4].value))}function solveSin(e,n){const t=n.value;if(!isDimensionOrNumber(t))return-1;let r=t[4].value;if(v(t))switch(toLowerCaseAZ(t[4].unit)){case\"rad\":break;case\"deg\":r=y.get(\"rad\")(t[4].value);break;case\"grad\":r=M.get(\"rad\")(t[4].value);break;case\"turn\":r=q.get(\"rad\")(t[4].value);break;default:return-1}return r=Math.sin(r),numberToCalculation(e,r)}function solveSqrt(e,n){const t=n.value;if(!C(t))return-1;return numberToCalculation(e,Math.sqrt(t[4].value))}function solveTan(e,n){const t=n.value;if(!isDimensionOrNumber(t))return-1;const r=t[4].value;let u=0,a=t[4].value;if(v(t))switch(toLowerCaseAZ(t[4].unit)){case\"rad\":u=$.get(\"deg\")(r);break;case\"deg\":u=r,a=y.get(\"rad\")(r);break;case\"grad\":u=M.get(\"deg\")(r),a=M.get(\"rad\")(r);break;case\"turn\":u=q.get(\"deg\")(r),a=q.get(\"rad\")(r);break;default:return-1}const i=u/90;return a=u%90==0&&i%2!=0?i>0?1/0:-1/0:Math.tan(a),numberToCalculation(e,a)}function subtraction(n){if(2!==n.length)return-1;const t=n[0].value;let r=n[1].value;if(C(t)&&C(r)){const n=t[4].value-r[4].value;return new e([f.Number,n.toString(),t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number}])}if(g(t)&&g(r)){const n=t[4].value-r[4].value;return new e([f.Percentage,n.toString()+\"%\",t[2],r[3],{value:n}])}if(v(t)&&v(r)&&(r=convertUnit(t,r),toLowerCaseAZ(t[4].unit)===toLowerCaseAZ(r[4].unit))){const n=t[4].value-r[4].value;return new e([f.Dimension,n.toString()+t[4].unit,t[2],r[3],{value:n,type:t[4].type===m.Integer&&r[4].type===m.Integer?m.Integer:m.Number,unit:t[4].unit}])}return-1}function solveLog(e,t){if(1===t.length){const r=t[0];if(!r||!n(r))return-1;const u=r.value;if(!C(u))return-1;return numberToCalculation(e,Math.log(u[4].value))}if(2===t.length){const r=t[0];if(!r||!n(r))return-1;const u=r.value;if(!C(u))return-1;const a=t[1];if(!a||!n(a))return-1;const i=a.value;if(!C(i))return-1;return numberToCalculation(e,Math.log(u[4].value)/Math.log(i[4].value))}return-1}const j=/^none$/i;function isNone(e){if(Array.isArray(e)){const n=e.filter((e=>!(t(e)&&r(e))));return 1===n.length&&isNone(n[0])}if(!n(e))return!1;const u=e.value;return!!D(u)&&j.test(u[4].value)}function solveRandom(e,n,t,r,u,a){const i=t.value;if(!B(i))return-1;const o=convertUnit(i,r.value);if(!twoOfSameNumeric(i,o))return-1;let l,c=null;if(u&&(c=convertUnit(i,u.value),!twoOfSameNumeric(i,c)))return-1;if(Number.isFinite(i[4].value))if(Number.isFinite(o[4].value))if(c&&(!Number.isFinite(c[4].value)||c[4].value<=0))l=i[4].value;else{const e=sfc32(crc32([n,N(i),N(o),u?`by ${u.toString()}`:\"\"].join(\",\")),a.randomSeed);let t=i[4].value,r=o[4].value;if(t>r&&([t,r]=[r,t]),c){const n=Math.abs(t-r),u=e();l=t+Math.floor(n/c[4].value*u)*c[4].value}else{const n=e();l=Number((n*(r-t)+t).toFixed(5))}}else l=Number.NaN;else l=Number.NaN;return resultToCalculation(e,i,l)}function sfc32(e=.34944106645296036,n=.19228640875738723,t=.8784393832007205,r=.04850964319275053){return()=>{const u=((e|=0)+(n|=0)|0)+(r|=0)|0;return r=r+1|0,e=n^n>>>9,n=(t|=0)+(t<<3)|0,t=(t=t<<21|t>>>11)+u|0,(u>>>0)/4294967296}}function crc32(e){let n=0,t=0,r=0;n=~n;for(let u=0,a=e.length;u<a;u++)r=255&(n^e.charCodeAt(u)),t=Number(\"0x\"+\"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D\".substring(9*r,9*r+8)),n=n>>>8^t;return~n>>>0}const R=new Map([[\"abs\",function abs(e,n,t){return singleNodeSolver(e,n,t,solveAbs)}],[\"acos\",function acos(e,n,t){return singleNodeSolver(e,n,t,solveACos)}],[\"asin\",function asin(e,n,t){return singleNodeSolver(e,n,t,solveASin)}],[\"atan\",function atan(e,n,t){return singleNodeSolver(e,n,t,solveATan)}],[\"atan2\",function atan2(e,n,t){return twoCommaSeparatedNodesSolver(e,n,t,solveATan2)}],[\"calc\",calc$1],[\"clamp\",function clamp(t,r,a){const i=resolveGlobalsAndConstants([...t.value.filter((e=>!u(e)))],r),l=[],c=[],s=[];{let e=l;for(let t=0;t<i.length;t++){const r=i[t];if(n(r)&&F(r.value)){if(e===s)return-1;if(e===c){e=s;continue}if(e===l){e=c;continue}return-1}e.push(r)}}const v=isNone(l),m=isNone(s);if(v&&m)return calc$1(calcWrapper(c),r,a);const p=solve(calc$1(calcWrapper(c),r,a));if(-1===p)return-1;if(v){const n=solve(calc$1(calcWrapper(s),r,a));return-1===n?-1:solveMin((C=p,g=n,new o([f.Function,\"min(\",-1,-1,{value:\"min\"}],[f.CloseParen,\")\",-1,-1,void 0],[C,new e([f.Comma,\",\",-1,-1,void 0]),g])),[p,n],a)}if(m){const e=solve(calc$1(calcWrapper(l),r,a));return-1===e?-1:solveMax(maxWrapper(e,p),[e,p],a)}var C,g;const D=solve(calc$1(calcWrapper(l),r,a));if(-1===D)return-1;const B=solve(calc$1(calcWrapper(s),r,a));if(-1===B)return-1;return solveClamp(t,D,p,B,a)}],[\"cos\",function cos(e,n,t){return singleNodeSolver(e,n,t,solveCos)}],[\"exp\",function exp(e,n,t){return singleNodeSolver(e,n,t,solveExp)}],[\"hypot\",function hypot(e,n,t){return variadicNodesSolver(e,e.value,n,t,solveHypot)}],[\"log\",function log(e,n,t){return variadicNodesSolver(e,e.value,n,t,solveLog)}],[\"max\",function max(e,n,t){return variadicNodesSolver(e,e.value,n,t,solveMax)}],[\"min\",function min(e,n,t){return variadicNodesSolver(e,e.value,n,t,solveMin)}],[\"mod\",function mod(e,n,t){return twoCommaSeparatedNodesSolver(e,n,t,solveMod)}],[\"pow\",function pow(e,n,t){return twoCommaSeparatedNodesSolver(e,n,t,solvePow)}],[\"random\",function random(e,t,r){const a=e.value.filter((e=>!u(e)));let i=\"\";const o=[],l=[];for(let e=0;e<a.length;e++){const t=a[e];if(!i&&0===l.length&&n(t)&&D(t.value)){const r=t.value[4].value.toLowerCase();if(\"per-element\"===r||r.startsWith(\"--\")){i=r;const t=a[e+1];if(!n(t)||!F(t.value))return-1;e++;continue}}if(n(t)&&F(t.value)){const t=a[e+1];if(l.length>0&&n(t)&&D(t.value)){const n=t.value[4].value.toLowerCase();if(\"by\"===n||n.startsWith(\"--\")){o.push(...a.slice(e+2));break}}}l.push(t)}const c=twoCommaSeparatedArguments(l,t,r);if(-1===c)return-1;const[s,v]=c;let f=null;if(o.length&&(f=singleArgument(o,t,r),-1===f))return-1;return solveRandom(e,i,s,v,f,r)}],[\"rem\",function rem(e,n,t){return twoCommaSeparatedNodesSolver(e,n,t,solveRem)}],[\"round\",function round(t,r,a){const i=resolveGlobalsAndConstants([...t.value.filter((e=>!u(e)))],r);let o=\"\",l=!1;const c=[],s=[];{let e=c;for(let t=0;t<i.length;t++){const r=i[t];if(!o&&0===c.length&&0===s.length&&n(r)&&D(r.value)){const e=r.value[4].value.toLowerCase();if(V.has(e)){o=e;continue}}if(n(r)&&F(r.value)){if(e===s)return-1;if(e===c&&o&&0===c.length)continue;if(e===c){l=!0,e=s;continue}return-1}e.push(r)}}const v=solve(calc$1(calcWrapper(c),r,a));if(-1===v)return-1;l||0!==s.length||s.push(new e([f.Number,\"1\",-1,-1,{value:1,type:m.Integer}]));const p=solve(calc$1(calcWrapper(s),r,a));if(-1===p)return-1;o||(o=\"nearest\");return solveRound(t,o,v,p,a)}],[\"sign\",function sign(e,n,t){return singleNodeSolver(e,n,t,solveSign)}],[\"sin\",function sin(e,n,t){return singleNodeSolver(e,n,t,solveSin)}],[\"sqrt\",function sqrt(e,n,t){return singleNodeSolver(e,n,t,solveSqrt)}],[\"tan\",function tan(e,n,t){return singleNodeSolver(e,n,t,solveTan)}]]);function calc$1(e,t,r){const o=resolveGlobalsAndConstants([...e.value.filter((e=>!u(e)))],t);if(1===o.length&&n(o[0]))return{inputs:[o[0]],operation:unary};let l=0;for(;l<o.length;){const e=o[l];if(a(e)&&A(e.startToken)){const n=calc$1(e,t,r);if(-1===n)return-1;o.splice(l,1,n)}else if(i(e)){const n=R.get(e.getName().toLowerCase());if(!n)return-1;const u=n(e,t,r);if(-1===u)return-1;o.splice(l,1,u)}else l++}if(l=0,1===o.length&&isCalculation(o[0]))return o[0];for(;l<o.length;){const e=o[l];if(!e||!n(e)&&!isCalculation(e)){l++;continue}const t=o[l+1];if(!t||!n(t)){l++;continue}const r=t.value;if(!d(r)||\"*\"!==r[4].value&&\"/\"!==r[4].value){l++;continue}const u=o[l+2];if(!u||!n(u)&&!isCalculation(u))return-1;\"*\"!==r[4].value?\"/\"!==r[4].value?l++:o.splice(l,3,{inputs:[e,u],operation:division}):o.splice(l,3,{inputs:[e,u],operation:multiplication})}if(l=0,1===o.length&&isCalculation(o[0]))return o[0];for(;l<o.length;){const e=o[l];if(!e||!n(e)&&!isCalculation(e)){l++;continue}const t=o[l+1];if(!t||!n(t)){l++;continue}const r=t.value;if(!d(r)||\"+\"!==r[4].value&&\"-\"!==r[4].value){l++;continue}const u=o[l+2];if(!u||!n(u)&&!isCalculation(u))return-1;\"+\"!==r[4].value?\"-\"!==r[4].value?l++:o.splice(l,3,{inputs:[e,u],operation:subtraction}):o.splice(l,3,{inputs:[e,u],operation:addition})}return 1===o.length&&isCalculation(o[0])?o[0]:-1}function singleNodeSolver(e,n,t,r){const u=singleArgument(e.value,n,t);return-1===u?-1:r(e,u,t)}function singleArgument(e,n,t){const r=solve(calc$1(calcWrapper(resolveGlobalsAndConstants([...e.filter((e=>!u(e)))],n)),n,t));return-1===r?-1:r}function twoCommaSeparatedNodesSolver(e,n,t,r){const u=twoCommaSeparatedArguments(e.value,n,t);if(-1===u)return-1;const[a,i]=u;return r(e,a,i,t)}function twoCommaSeparatedArguments(e,t,r){const a=resolveGlobalsAndConstants([...e.filter((e=>!u(e)))],t),i=[],o=[];{let e=i;for(let t=0;t<a.length;t++){const r=a[t];if(n(r)&&F(r.value)){if(e===o)return-1;if(e===i){e=o;continue}return-1}e.push(r)}}const l=solve(calc$1(calcWrapper(i),t,r));if(-1===l)return-1;const c=solve(calc$1(calcWrapper(o),t,r));return-1===c?-1:[l,c]}function variadicNodesSolver(e,n,t,r,u){const a=variadicArguments(e.value,t,r);return-1===a?-1:u(e,a,r)}function variadicArguments(e,t,r){const a=resolveGlobalsAndConstants([...e.filter((e=>!u(e)))],t),i=[];{const e=[];let u=[];for(let t=0;t<a.length;t++){const r=a[t];n(r)&&F(r.value)?(e.push(u),u=[]):u.push(r)}e.push(u);for(let n=0;n<e.length;n++){if(0===e[n].length)return-1;const u=solve(calc$1(calcWrapper(e[n]),t,r));if(-1===u)return-1;i.push(u)}}return i}const V=new Set([\"nearest\",\"up\",\"down\",\"to-zero\"]);function calcWrapper(e){return new o([f.Function,\"calc(\",-1,-1,{value:\"calc\"}],[f.CloseParen,\")\",-1,-1,void 0],e)}function maxWrapper(n,t){return new o([f.Function,\"max(\",-1,-1,{value:\"max\"}],[f.CloseParen,\")\",-1,-1,void 0],[n,new e([f.Comma,\",\",-1,-1,void 0]),t])}function patchNaN(n){if(-1===n)return-1;if(i(n))return n;const t=n.value;return B(t)&&Number.isNaN(t[4].value)?C(t)?new o([f.Function,\"calc(\",t[2],t[3],{value:\"calc\"}],[f.CloseParen,\")\",t[2],t[3],void 0],[new e([f.Ident,\"NaN\",t[2],t[3],{value:\"NaN\"}])]):v(t)?new o([f.Function,\"calc(\",t[2],t[3],{value:\"calc\"}],[f.CloseParen,\")\",t[2],t[3],void 0],[new e([f.Ident,\"NaN\",t[2],t[3],{value:\"NaN\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Delim,\"*\",t[2],t[3],{value:\"*\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Dimension,\"1\"+t[4].unit,t[2],t[3],{value:1,type:m.Integer,unit:t[4].unit}])]):g(t)?new o([f.Function,\"calc(\",t[2],t[3],{value:\"calc\"}],[f.CloseParen,\")\",t[2],t[3],void 0],[new e([f.Ident,\"NaN\",t[2],t[3],{value:\"NaN\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Delim,\"*\",t[2],t[3],{value:\"*\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Percentage,\"1%\",t[2],t[3],{value:1}])]):-1:n}function patchInfinity(n){if(-1===n)return-1;if(i(n))return n;const t=n.value;if(!B(t))return n;if(Number.isFinite(t[4].value)||Number.isNaN(t[4].value))return n;let r=\"\";return Number.NEGATIVE_INFINITY===t[4].value&&(r=\"-\"),C(t)?new o([f.Function,\"calc(\",t[2],t[3],{value:\"calc\"}],[f.CloseParen,\")\",t[2],t[3],void 0],[new e([f.Ident,r+\"infinity\",t[2],t[3],{value:r+\"infinity\"}])]):v(t)?new o([f.Function,\"calc(\",t[2],t[3],{value:\"calc\"}],[f.CloseParen,\")\",t[2],t[3],void 0],[new e([f.Ident,r+\"infinity\",t[2],t[3],{value:r+\"infinity\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Delim,\"*\",t[2],t[3],{value:\"*\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Dimension,\"1\"+t[4].unit,t[2],t[3],{value:1,type:m.Integer,unit:t[4].unit}])]):new o([f.Function,\"calc(\",t[2],t[3],{value:\"calc\"}],[f.CloseParen,\")\",t[2],t[3],void 0],[new e([f.Ident,r+\"infinity\",t[2],t[3],{value:r+\"infinity\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Delim,\"*\",t[2],t[3],{value:\"*\"}]),new l([[f.Whitespace,\" \",t[2],t[3],void 0]]),new e([f.Percentage,\"1%\",t[2],t[3],{value:1}])])}function patchMinusZero(e){if(-1===e)return-1;if(i(e))return e;const n=e.value;return B(n)&&Object.is(-0,n[4].value)?(\"-0\"===n[1]||(g(n)?n[1]=\"-0%\":v(n)?n[1]=\"-0\"+n[4].unit:n[1]=\"-0\"),e):e}function patchPrecision(e,n=13){if(-1===e)return-1;if(n<=0)return e;if(i(e))return e;const t=e.value;if(!B(t))return e;if(Number.isInteger(t[4].value))return e;const r=Number(t[4].value.toFixed(n)).toString();return C(t)?t[1]=r:g(t)?t[1]=r+\"%\":v(t)&&(t[1]=r+t[4].unit),e}function patchCanonicalUnit(e){return-1===e?-1:i(e)?e:v(e.value)?(e.value=toCanonicalUnit(e.value),e):e}function patchCalcResult(e,n){let t=e;return n?.toCanonicalUnits&&(t=patchCanonicalUnit(t)),t=patchPrecision(t,n?.precision),t=patchMinusZero(t),n?.censorIntoStandardRepresentableValues||(t=patchNaN(t),t=patchInfinity(t)),t}function tokenizeGlobals(e){const n=new Map;if(!e)return n;for(const[t,r]of e)if(b(r))n.set(t,r);else if(\"string\"!=typeof r);else{const e=h({css:r}),u=e.nextToken();if(e.nextToken(),!e.endOfFile())continue;if(!B(u))continue;n.set(t,u)}return n}function calc(e,n){return calcFromComponentValues(c(w({css:e}),{}),n).map((e=>e.map((e=>N(...e.tokens()))).join(\"\"))).join(\",\")}function calcFromComponentValues(e,n){const t=tokenizeGlobals(n?.globals);return s(e,(e=>{if(!i(e))return;const r=R.get(e.getName().toLowerCase());if(!r)return;const u=patchCalcResult(solve(r(e,t,n??{})),n);return-1!==u?u:void 0}))}const Y=new Set(R.keys());export{calc,calcFromComponentValues,Y as mathFunctionNames};\n","/**\n * constant.js\n */\n\n/* constants */\nexport const VAL_COMP = 'computedValue';\nexport const VAL_SPEC = 'specifiedValue';\n\n/* values and units */\nconst _DIGIT = '(?:0|[1-9]\\\\d*)';\nconst _COMP = 'clamp|max|min';\nconst _STEP = 'mod|rem|round';\nconst _TRIG = 'a?(?:cos|sin|tan)|atan2';\nconst _EXP = 'exp|hypot|log|pow|sqrt';\nconst _SIGN = 'abs|sign';\nconst _MATH = `${_COMP}|${_STEP}|${_TRIG}|${_EXP}|${_SIGN}`;\nconst _CALC = `calc|${_MATH}`;\nconst _VAR = `var|${_CALC}`;\nexport const ANGLE = 'deg|g?rad|turn';\nexport const NUM = `[+-]?(?:${_DIGIT}(?:\\\\.\\\\d*)?|\\\\.\\\\d+)(?:e-?${_DIGIT})?`;\nexport const NONE = 'none';\nexport const PCT = `${NUM}%`;\nexport const SYN_FN_MATH = `^(?:${_MATH})\\\\($`;\nexport const SYN_FN_MATH_CALC = `^(?:${_CALC})\\\\(|(?<=[*\\\\/\\\\s\\\\(])(?:${_CALC})\\\\(`;\nexport const SYN_FN_MATH_VAR = `^(?:${_VAR})\\\\(`;\nexport const SYN_FN_VAR = '^var\\\\(|(?<=[*\\\\/\\\\s\\\\(])var\\\\(';\n\n/* colors */\nconst _ALPHA = `(?:\\\\s*\\\\/\\\\s*(?:${NUM}|${PCT}|${NONE}))?`;\nconst _ALPHA_LV3 = `(?:\\\\s*,\\\\s*(?:${NUM}|${PCT}))?`;\nconst _COLOR_FUNC = '(?:ok)?l(?:ab|ch)|color|hsla?|hwb|rgba?';\nconst _COLOR_KEY = '[a-z]+|#[\\\\da-f]{3}|#[\\\\da-f]{4}|#[\\\\da-f]{6}|#[\\\\da-f]{8}';\nconst _CS_HUE = '(?:ok)?lch|hsl|hwb';\nconst _CS_HUE_ARC = '(?:de|in)creasing|longer|shorter';\nconst _NUM_ANGLE = `${NUM}(?:${ANGLE})?`;\nconst _NUM_ANGLE_NONE = `(?:${NUM}(?:${ANGLE})?|${NONE})`;\nconst _NUM_PCT_NONE = `(?:${NUM}|${PCT}|${NONE})`;\nexport const CS_HUE = `(?:${_CS_HUE})(?:\\\\s(?:${_CS_HUE_ARC})\\\\shue)?`;\nexport const CS_HUE_CAPT = `(${_CS_HUE})(?:\\\\s(${_CS_HUE_ARC})\\\\shue)?`;\nexport const CS_LAB = '(?:ok)?lab';\nexport const CS_LCH = '(?:ok)?lch';\nexport const CS_SRGB = 'srgb(?:-linear)?';\nexport const CS_RGB = `(?:a98|prophoto)-rgb|display-p3|rec2020|${CS_SRGB}`;\nexport const CS_XYZ = 'xyz(?:-d(?:50|65))?';\nexport const CS_MIX = `${CS_HUE}|${CS_LAB}|${CS_SRGB}|${CS_XYZ}`;\nexport const FN_COLOR = 'color(';\nexport const FN_MIX = 'color-mix(';\nexport const FN_REL = `(?:${_COLOR_FUNC})\\\\(\\\\s*from\\\\s+`;\nexport const FN_REL_CAPT = `(${_COLOR_FUNC})\\\\(\\\\s*from\\\\s+`;\nexport const FN_VAR = 'var(';\nexport const SYN_FN_COLOR = `(?:${CS_RGB}|${CS_XYZ})(?:\\\\s+${_NUM_PCT_NONE}){3}${_ALPHA}`;\nexport const SYN_FN_REL = `^${FN_REL}|(?<=[\\\\s])${FN_REL}`;\nexport const SYN_HSL = `${_NUM_ANGLE_NONE}(?:\\\\s+${_NUM_PCT_NONE}){2}${_ALPHA}`;\nexport const SYN_HSL_LV3 = `${_NUM_ANGLE}(?:\\\\s*,\\\\s*${PCT}){2}${_ALPHA_LV3}`;\nexport const SYN_LCH = `(?:${_NUM_PCT_NONE}\\\\s+){2}${_NUM_ANGLE_NONE}${_ALPHA}`;\nexport const SYN_MOD = `${_NUM_PCT_NONE}(?:\\\\s+${_NUM_PCT_NONE}){2}${_ALPHA}`;\nexport const SYN_RGB_LV3 = `(?:${NUM}(?:\\\\s*,\\\\s*${NUM}){2}|${PCT}(?:\\\\s*,\\\\s*${PCT}){2})${_ALPHA_LV3}`;\nexport const SYN_COLOR_TYPE = `${_COLOR_KEY}|hsla?\\\\(\\\\s*${SYN_HSL_LV3}\\\\s*\\\\)|rgba?\\\\(\\\\s*${SYN_RGB_LV3}\\\\s*\\\\)|(?:hsla?|hwb)\\\\(\\\\s*${SYN_HSL}\\\\s*\\\\)|(?:(?:ok)?lab|rgba?)\\\\(\\\\s*${SYN_MOD}\\\\s*\\\\)|(?:ok)?lch\\\\(\\\\s*${SYN_LCH}\\\\s*\\\\)|color\\\\(\\\\s*${SYN_FN_COLOR}\\\\s*\\\\)`;\nexport const SYN_MIX_PART = `(?:${SYN_COLOR_TYPE})(?:\\\\s+${PCT})?`;\nexport const SYN_MIX = `color-mix\\\\(\\\\s*in\\\\s+(?:${CS_MIX})\\\\s*,\\\\s*${SYN_MIX_PART}\\\\s*,\\\\s*${SYN_MIX_PART}\\\\s*\\\\)`;\nexport const SYN_MIX_CAPT = `color-mix\\\\(\\\\s*in\\\\s+(${CS_MIX})\\\\s*,\\\\s*(${SYN_MIX_PART})\\\\s*,\\\\s*(${SYN_MIX_PART})\\\\s*\\\\)`;\n","/**\n * css-calc.js\n */\n\nimport { calc } from '@csstools/css-calc';\nimport { TokenType, tokenize } from '@csstools/css-tokenizer';\nimport { LRUCache } from 'lru-cache';\nimport { isString } from './common';\nimport { roundToPrecision, valueToJsonString } from './util';\n\n/* constants */\nimport {\n  FN_VAR,\n  NUM,\n  SYN_FN_MATH,\n  SYN_FN_MATH_CALC,\n  SYN_FN_MATH_VAR,\n  SYN_FN_VAR,\n  VAL_SPEC\n} from './constant.js';\nconst {\n  CloseParen: PAREN_CLOSE,\n  Comment: COMMENT,\n  Dimension: DIM,\n  EOF,\n  Function: FUNC,\n  OpenParen: PAREN_OPEN,\n  Whitespace: W_SPACE\n} = TokenType;\nconst HEX = 16;\nconst MAX_PCT = 100;\n\n/* regexp */\nconst REG_FN_MATH_CALC = new RegExp(SYN_FN_MATH_CALC);\nconst REG_FN_VAR = new RegExp(SYN_FN_VAR);\nconst REG_OPERATOR = /\\s[*+/-]\\s/;\nconst REG_START_MATH = new RegExp(SYN_FN_MATH);\nconst REG_START_MATH_VAR = new RegExp(SYN_FN_MATH_VAR);\nconst REG_TYPE_DIM = new RegExp(`^(${NUM})([a-z]+)$`);\nconst REG_TYPE_DIM_PCT = new RegExp(`^(${NUM})([a-z]+|%)$`);\nconst REG_TYPE_PCT = new RegExp(`^(${NUM})%$`);\n\n/* cached results */\nexport const cachedResults = new LRUCache({\n  max: 4096\n});\n\n/**\n * calclator\n */\nexport class Calculator {\n  /* private */\n  // number\n  #hasNum: boolean;\n  #numSum: Array<any>;\n  #numMul: Array<any>;\n  // percentage\n  #hasPct: boolean;\n  #pctSum: Array<any>;\n  #pctMul: Array<any>;\n  // dimension\n  #hasDim: boolean;\n  #dimSum: Array<any>;\n  #dimSub: Array<any>;\n  #dimMul: Array<any>;\n  #dimDiv: Array<any>;\n  // et cetra\n  #hasEtc: boolean;\n  #etcSum: Array<any>;\n  #etcSub: Array<any>;\n  #etcMul: Array<any>;\n  #etcDiv: Array<any>;\n\n  /**\n   * constructor\n   */\n  constructor() {\n    // number\n    this.#hasNum = false;\n    this.#numSum = [];\n    this.#numMul = [];\n    // percentage\n    this.#hasPct = false;\n    this.#pctSum = [];\n    this.#pctMul = [];\n    // dimension\n    this.#hasDim = false;\n    this.#dimSum = [];\n    this.#dimSub = [];\n    this.#dimMul = [];\n    this.#dimDiv = [];\n    // et cetra\n    this.#hasEtc = false;\n    this.#etcSum = [];\n    this.#etcSub = [];\n    this.#etcMul = [];\n    this.#etcDiv = [];\n  }\n\n  get hasNum() {\n    return this.#hasNum;\n  }\n\n  set hasNum(value: boolean) {\n    this.#hasNum = !!value;\n  }\n\n  get numSum() {\n    return this.#numSum;\n  }\n\n  get numMul() {\n    return this.#numMul;\n  }\n\n  get hasPct() {\n    return this.#hasPct;\n  }\n\n  set hasPct(value: boolean) {\n    this.#hasPct = !!value;\n  }\n\n  get pctSum() {\n    return this.#pctSum;\n  }\n\n  get pctMul() {\n    return this.#pctMul;\n  }\n\n  get hasDim() {\n    return this.#hasDim;\n  }\n\n  set hasDim(value: boolean) {\n    this.#hasDim = !!value;\n  }\n\n  get dimSum() {\n    return this.#dimSum;\n  }\n\n  get dimSub() {\n    return this.#dimSub;\n  }\n\n  get dimMul() {\n    return this.#dimMul;\n  }\n\n  get dimDiv() {\n    return this.#dimDiv;\n  }\n\n  get hasEtc() {\n    return this.#hasEtc;\n  }\n\n  set hasEtc(value: boolean) {\n    this.#hasEtc = !!value;\n  }\n\n  get etcSum() {\n    return this.#etcSum;\n  }\n\n  get etcSub() {\n    return this.#etcSub;\n  }\n\n  get etcMul() {\n    return this.#etcMul;\n  }\n\n  get etcDiv() {\n    return this.#etcDiv;\n  }\n\n  /**\n   * clear values\n   * @returns {void}\n   */\n  clear() {\n    // number\n    this.#hasNum = false;\n    this.#numSum = [];\n    this.#numMul = [];\n    // percentage\n    this.#hasPct = false;\n    this.#pctSum = [];\n    this.#pctMul = [];\n    // dimension\n    this.#hasDim = false;\n    this.#dimSum = [];\n    this.#dimSub = [];\n    this.#dimMul = [];\n    this.#dimDiv = [];\n    // et cetra\n    this.#hasEtc = false;\n    this.#etcSum = [];\n    this.#etcSub = [];\n    this.#etcMul = [];\n    this.#etcDiv = [];\n  }\n\n  /**\n   * sort values\n   * @param {Array} values - values\n   * @returns {Array} - sorted values\n   */\n  sort(values: Array<any> = []): Array<any> {\n    const arr = [...values];\n    if (arr.length > 1) {\n      arr.sort((a, b) => {\n        let res;\n        if (REG_TYPE_DIM_PCT.test(a) && REG_TYPE_DIM_PCT.test(b)) {\n          const [, valA, unitA] = a.match(REG_TYPE_DIM_PCT) as [\n            string,\n            string,\n            string\n          ];\n          const [, valB, unitB] = b.match(REG_TYPE_DIM_PCT) as [\n            string,\n            string,\n            string\n          ];\n          if (unitA === unitB) {\n            if (Number(valA) === Number(valB)) {\n              res = 0;\n            } else if (Number(valA) > Number(valB)) {\n              res = 1;\n            } else {\n              res = -1;\n            }\n          } else if (unitA > unitB) {\n            res = 1;\n          } else {\n            res = -1;\n          }\n        } else {\n          if (a === b) {\n            res = 0;\n          } else if (a > b) {\n            res = 1;\n          } else {\n            res = -1;\n          }\n        }\n        return res;\n      });\n    }\n    return arr;\n  }\n\n  /**\n   * multiply values\n   * @returns {?string} - resolved value\n   */\n  multiply(): string | null {\n    const value = [];\n    let num!: number | string;\n    if (this.#hasNum) {\n      num = 1;\n      for (const i of this.#numMul) {\n        num *= i;\n        if (num === 0 || !Number.isFinite(num) || Number.isNaN(num)) {\n          break;\n        }\n      }\n      if (!this.#hasPct && !this.#hasDim && !this.hasEtc) {\n        value.push(num);\n      }\n    }\n    if (this.#hasPct) {\n      if (!this.#hasNum) {\n        num = 1;\n      }\n      for (const i of this.#pctMul) {\n        (num as number) *= i;\n        if (num === 0 || !Number.isFinite(num) || Number.isNaN(num)) {\n          break;\n        }\n      }\n      if (Number.isFinite(num)) {\n        num = `${num}%`;\n      }\n      if (!this.#hasDim && !this.hasEtc) {\n        value.push(num);\n      }\n    }\n    if (this.#hasDim) {\n      let dim, mul, div;\n      if (this.#dimMul.length) {\n        if (this.#dimMul.length === 1) {\n          [mul] = this.#dimMul;\n        } else {\n          mul = `${this.sort(this.#dimMul).join(' * ')}`;\n        }\n      }\n      if (this.#dimDiv.length) {\n        if (this.#dimDiv.length === 1) {\n          [div] = this.#dimDiv;\n        } else {\n          div = `${this.sort(this.#dimDiv).join(' * ')}`;\n        }\n      }\n      if (Number.isFinite(num)) {\n        if (mul) {\n          if (div) {\n            if (div.includes('*')) {\n              dim = calc(`calc(${num} * ${mul} / (${div}))`, {\n                toCanonicalUnits: true\n              });\n            } else {\n              dim = calc(`calc(${num} * ${mul} / ${div})`, {\n                toCanonicalUnits: true\n              });\n            }\n          } else {\n            dim = calc(`calc(${num} * ${mul})`, {\n              toCanonicalUnits: true\n            });\n          }\n        } else {\n          if (div.includes('*')) {\n            dim = calc(`calc(${num} / (${div}))`, {\n              toCanonicalUnits: true\n            });\n          } else {\n            dim = calc(`calc(${num} / ${div})`, {\n              toCanonicalUnits: true\n            });\n          }\n        }\n        value.push(dim.replace(/^calc/, ''));\n      } else {\n        if (!value.length && num !== undefined) {\n          value.push(num);\n        }\n        if (mul) {\n          if (div) {\n            if (div.includes('*')) {\n              dim = calc(`calc(${mul} / (${div}))`, {\n                toCanonicalUnits: true\n              });\n            } else {\n              dim = calc(`calc(${mul} / ${div})`, {\n                toCanonicalUnits: true\n              });\n            }\n          } else {\n            dim = calc(`calc(${mul})`, {\n              toCanonicalUnits: true\n            });\n          }\n          if (value.length) {\n            value.push('*', dim.replace(/^calc/, ''));\n          } else {\n            value.push(dim.replace(/^calc/, ''));\n          }\n        } else {\n          dim = calc(`calc(${div})`, {\n            toCanonicalUnits: true\n          });\n          if (value.length) {\n            value.push('/', dim.replace(/^calc/, ''));\n          } else {\n            value.push('1', '/', dim.replace(/^calc/, ''));\n          }\n        }\n      }\n    }\n    if (this.#hasEtc) {\n      if (this.#etcMul.length) {\n        if (!value.length && num !== undefined) {\n          value.push(num);\n        }\n        const mul = this.sort(this.#etcMul).join(' * ');\n        if (value.length) {\n          value.push(`* ${mul}`);\n        } else {\n          value.push(`${mul}`);\n        }\n      }\n      if (this.#etcDiv.length) {\n        const div = this.sort(this.#etcDiv).join(' * ');\n        if (div.includes('*')) {\n          if (value.length) {\n            value.push(`/ (${div})`);\n          } else {\n            value.push(`1 / (${div})`);\n          }\n        } else if (value.length) {\n          value.push(`/ ${div}`);\n        } else {\n          value.push(`1 / ${div}`);\n        }\n      }\n    }\n    return value.join(' ') || null;\n  }\n\n  /**\n   * sum values\n   * @returns {?string} - resolved value\n   */\n  sum(): string | null {\n    const value = [];\n    if (this.#hasNum) {\n      let num = 0;\n      for (const i of this.#numSum) {\n        num += i;\n        if (!Number.isFinite(num) || Number.isNaN(num)) {\n          break;\n        }\n      }\n      value.push(num);\n    }\n    if (this.#hasPct) {\n      let num = 0 as number | string;\n      for (const i of this.#pctSum) {\n        num += i;\n        if (!Number.isFinite(num) || Number.isNaN(num)) {\n          break;\n        }\n      }\n      if (Number.isFinite(num)) {\n        num = `${num}%`;\n      }\n      if (value.length) {\n        value.push(`+ ${num}`);\n      } else {\n        value.push(num);\n      }\n    }\n    if (this.#hasDim) {\n      let dim, sum, sub;\n      if (this.#dimSum.length) {\n        sum = this.#dimSum.join(' + ');\n      }\n      if (this.#dimSub.length) {\n        sub = this.#dimSub.join(' + ');\n      }\n      if (sum) {\n        if (sub) {\n          if (sub.includes('-')) {\n            dim = calc(`calc(${sum} - (${sub}))`, {\n              toCanonicalUnits: true\n            });\n          } else {\n            dim = calc(`calc(${sum} - ${sub})`, {\n              toCanonicalUnits: true\n            });\n          }\n        } else {\n          dim = calc(`calc(${sum})`, {\n            toCanonicalUnits: true\n          });\n        }\n      } else {\n        dim = calc(`calc(-1 * (${sub}))`, {\n          toCanonicalUnits: true\n        });\n      }\n      if (value.length) {\n        value.push('+', dim.replace(/^calc/, ''));\n      } else {\n        value.push(dim.replace(/^calc/, ''));\n      }\n    }\n    if (this.#hasEtc) {\n      if (this.#etcSum.length) {\n        const sum = this.sort(this.#etcSum)\n          .map(item => {\n            let res;\n            if (\n              REG_OPERATOR.test(item) &&\n              !item.startsWith('(') &&\n              !item.endsWith(')')\n            ) {\n              res = `(${item})`;\n            } else {\n              res = item;\n            }\n            return res;\n          })\n          .join(' + ');\n        if (value.length) {\n          if (this.#etcSum.length > 1) {\n            value.push(`+ (${sum})`);\n          } else {\n            value.push(`+ ${sum}`);\n          }\n        } else {\n          value.push(`${sum}`);\n        }\n      }\n      if (this.#etcSub.length) {\n        const sub = this.sort(this.#etcSub)\n          .map(item => {\n            let res;\n            if (\n              REG_OPERATOR.test(item) &&\n              !item.startsWith('(') &&\n              !item.endsWith(')')\n            ) {\n              res = `(${item})`;\n            } else {\n              res = item;\n            }\n            return res;\n          })\n          .join(' + ');\n        if (value.length) {\n          if (this.#etcSub.length > 1) {\n            value.push(`- (${sub})`);\n          } else {\n            value.push(`- ${sub}`);\n          }\n        } else if (this.#etcSub.length > 1) {\n          value.push(`-1 * (${sub})`);\n        } else {\n          value.push(`-1 * ${sub}`);\n        }\n      }\n    }\n    return value.join(' ') || null;\n  }\n}\n\n/**\n * sort calc values\n * @param {Array} values - values\n * @param {boolean} finalize - finalize\n * @returns {?string} - sorted value\n */\nexport const sortCalcValues = (\n  values: string[] = [],\n  finalize: boolean = false\n): string | null => {\n  if (values.length < 3) {\n    return null;\n  }\n  const start = values.shift();\n  const end = values.pop();\n  if (values.length === 1) {\n    const [value] = values;\n    return `${start}${value}${end}`;\n  }\n  const sortedValues = [];\n  const cal = new Calculator();\n  let operator!: string | null;\n  for (let i = 0, l = values.length; i < l; i++) {\n    const value = values[i]! as number | string;\n    if (value === '*' || value === '/') {\n      operator = value;\n    } else if (value === '+' || value === '-') {\n      const sortedValue = cal.multiply();\n      sortedValues.push(sortedValue, value);\n      cal.clear();\n      operator = null;\n    } else {\n      switch (operator) {\n        case '/': {\n          const numValue = Number(value) as number;\n          if (Number.isFinite(numValue)) {\n            cal.hasNum = true;\n            cal.numMul.push(1 / numValue);\n          } else if (REG_TYPE_PCT.test(value as string)) {\n            const [, val] = (value as string).match(REG_TYPE_PCT) as [\n              string,\n              string\n            ];\n            cal.hasPct = true;\n            cal.pctMul.push((MAX_PCT * MAX_PCT) / Number(val));\n          } else if (REG_TYPE_DIM.test(value as string)) {\n            cal.hasDim = true;\n            cal.dimDiv.push(value);\n          } else {\n            cal.hasEtc = true;\n            cal.etcDiv.push(value);\n          }\n          break;\n        }\n        case '*':\n        default: {\n          const numValue = Number(value);\n          if (Number.isFinite(numValue)) {\n            cal.hasNum = true;\n            cal.numMul.push(numValue);\n          } else if (REG_TYPE_PCT.test(value as string)) {\n            const [, val] = (value as string).match(REG_TYPE_PCT) as [\n              string,\n              string\n            ];\n            cal.hasPct = true;\n            cal.pctMul.push(Number(val));\n          } else if (REG_TYPE_DIM.test(value as string)) {\n            cal.hasDim = true;\n            cal.dimMul.push(value);\n          } else {\n            cal.hasEtc = true;\n            cal.etcMul.push(value);\n          }\n        }\n      }\n      if (i === l - 1) {\n        const sortedValue = cal.multiply();\n        sortedValues.push(sortedValue);\n        cal.clear();\n        operator = null;\n      }\n    }\n  }\n  let resolvedValue;\n  if (finalize && (sortedValues.includes('+') || sortedValues.includes('-'))) {\n    const finalizedValues = [];\n    cal.clear();\n    operator = null;\n    for (let i = 0, l = sortedValues.length; i < l; i++) {\n      const value = sortedValues[i] as number | string;\n      if (value === '+' || value === '-') {\n        operator = value;\n      } else {\n        switch (operator) {\n          case '-': {\n            const numValue = Number(value) as number;\n            if (Number.isFinite(numValue)) {\n              cal.hasNum = true;\n              cal.numSum.push(-1 * numValue);\n            } else if (REG_TYPE_PCT.test(value as string)) {\n              const [, val] = (value as string).match(REG_TYPE_PCT) as [\n                string,\n                string\n              ];\n              cal.hasPct = true;\n              cal.pctSum.push(-1 * Number(val));\n            } else if (REG_TYPE_DIM.test(value as string)) {\n              cal.hasDim = true;\n              cal.dimSub.push(value);\n            } else {\n              cal.hasEtc = true;\n              cal.etcSub.push(value);\n            }\n            break;\n          }\n          case '+':\n          default: {\n            const numValue = Number(value) as number;\n            if (Number.isFinite(numValue)) {\n              cal.hasNum = true;\n              cal.numSum.push(numValue);\n            } else if (REG_TYPE_PCT.test(value as string)) {\n              const [, val] = (value as string).match(REG_TYPE_PCT) as [\n                string,\n                string\n              ];\n              cal.hasPct = true;\n              cal.pctSum.push(Number(val));\n            } else if (REG_TYPE_DIM.test(value as string)) {\n              cal.hasDim = true;\n              cal.dimSum.push(value);\n            } else {\n              cal.hasEtc = true;\n              cal.etcSum.push(value);\n            }\n          }\n        }\n        if (i === l - 1) {\n          const sortedValue = cal.sum();\n          finalizedValues.push(sortedValue);\n          cal.clear();\n          operator = null;\n        }\n      }\n    }\n    resolvedValue = finalizedValues.join(' ');\n  } else {\n    resolvedValue = sortedValues.join(' ');\n  }\n  return `${start}${resolvedValue}${end}`;\n};\n\n/**\n * serialize calc\n * @param {string} value - value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {?string} - resolved value\n */\nexport const serializeCalc = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): string | null => {\n  const { format } = opt;\n  if (isString(value)) {\n    if (!REG_START_MATH_VAR.test(value) || format !== VAL_SPEC) {\n      return value;\n    }\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string`);\n  }\n  const cacheKey = `{serializeCalc:${value},opt:${valueToJsonString(opt)}}`;\n  if (cachedResults.has(cacheKey)) {\n    return cachedResults.get(cacheKey) as string | null;\n  }\n  const items = tokenize({ css: value })\n    .map(token => {\n      const [type, value] = token as [string, string];\n      let res;\n      if (type !== W_SPACE && type !== COMMENT) {\n        res = value;\n      }\n      return res;\n    })\n    .filter((v: any) => v) as Array<string>;\n  let startIndex = items.findLastIndex((item: string) => /\\($/.test(item));\n  while (startIndex) {\n    const endIndex = items.findIndex((item: any, index: number) => {\n      return item === ')' && index > startIndex;\n    });\n    const slicedValues = items.slice(startIndex, endIndex + 1);\n    let serializedValue = sortCalcValues(\n      slicedValues as Array<string>\n    ) as string;\n    if (REG_START_MATH_VAR.test(serializedValue)) {\n      serializedValue = calc(serializedValue, {\n        toCanonicalUnits: true\n      }) as string;\n    }\n    items.splice(startIndex, endIndex - startIndex + 1, serializedValue);\n    startIndex = items.findLastIndex((item: string) => /\\($/.test(item));\n  }\n  const serializedCalc = sortCalcValues(items as Array<string>, true) as\n    | string\n    | null;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, serializedCalc!);\n  }\n  return serializedCalc;\n};\n\n/**\n * resolve dimension\n * @param {Array} token - token\n * @param {object} [opt] - options\n * @param {object} [opt.dimension] - dimension\n * @returns {?string} - resolved value\n */\nexport const resolveDimension = (\n  token: Array<any>,\n  opt: {\n    dimension?: object;\n  } = {}\n): string | null => {\n  if (!Array.isArray(token)) {\n    throw new TypeError(`${token} is not an array.`);\n  }\n  const [, value, , , detail = {}] = token;\n  const { unit, value: relativeValue } = detail;\n  const { dimension = {} } = opt;\n  if (unit === 'px') {\n    return value;\n  }\n  let res;\n  if (unit && Number.isFinite(relativeValue as number)) {\n    let pixelValue!: number | undefined;\n    if (Object.hasOwnProperty.call(dimension, unit)) {\n      pixelValue = dimension[unit as never];\n    } else if (\n      typeof (\n        dimension as {\n          callback?: (unit: string) => number;\n        }\n      ).callback === 'function'\n    ) {\n      pixelValue = (\n        dimension as {\n          callback: (unit: string) => number;\n        }\n      ).callback(unit);\n    }\n    pixelValue = Number(pixelValue);\n    if (Number.isFinite(pixelValue)) {\n      res = `${((relativeValue as number) * pixelValue) as number}px`;\n    }\n  }\n  return res ?? null;\n};\n\n/**\n * parse tokens\n * @param {Array.<Array>} tokens - tokens\n * @param {object} [opt] - options\n * @returns {Array.<string>} - parsed tokens\n */\nexport const parseTokens = (\n  tokens: Array<Array<any>>,\n  opt: {\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<string> => {\n  if (!Array.isArray(tokens)) {\n    throw new TypeError(`${tokens} is not an array.`);\n  }\n  const { format } = opt;\n  const mathFunc = new Set();\n  let nest = 0 as number;\n  const res = [] as string[];\n  while (tokens.length) {\n    const token = tokens.shift();\n    if (!Array.isArray(token)) {\n      throw new TypeError(`${token} is not an array.`);\n    }\n    const [type, value] = token as [string, string];\n    switch (type) {\n      case DIM: {\n        let resolvedValue;\n        if (format === VAL_SPEC && !mathFunc.has(nest)) {\n          resolvedValue = value as string;\n        } else {\n          resolvedValue = resolveDimension(token, opt) as string | null;\n          if (!resolvedValue) {\n            resolvedValue = value as string;\n          }\n        }\n        res.push(resolvedValue as string);\n        break;\n      }\n      case FUNC:\n      case PAREN_OPEN: {\n        res.push(value);\n        nest++;\n        if (REG_START_MATH.test(value)) {\n          mathFunc.add(nest);\n        }\n        break;\n      }\n      case PAREN_CLOSE: {\n        if (res.length) {\n          const lastValue = res[res.length - 1] as string;\n          if (lastValue === ' ') {\n            res.splice(-1, 1, value);\n          } else {\n            res.push(value);\n          }\n        } else {\n          res.push(value);\n        }\n        if (mathFunc.has(nest)) {\n          mathFunc.delete(nest);\n        }\n        nest--;\n        break;\n      }\n      case W_SPACE: {\n        if (res.length) {\n          const lastValue = res[res.length - 1] as string;\n          if (!lastValue.endsWith('(') && lastValue !== ' ') {\n            res.push(value);\n          }\n        }\n        break;\n      }\n      default: {\n        if (type !== COMMENT && type !== EOF) {\n          res.push(value);\n        }\n      }\n    }\n  }\n  return res;\n};\n\n/**\n * resolve CSS calc()\n * @param {string} value - color value including calc()\n * @param {object} [opt] - options\n * @param {object} [opt.dimension] - dimension\n * @param {string} [opt.format] - output format\n * @returns {?string} - value\n */\nexport const cssCalc = (\n  value: string,\n  opt: {\n    dimension?: object;\n    format?: string;\n  } = {}\n): string | null => {\n  const { format, dimension = {} } = opt;\n  if (isString(value)) {\n    if (REG_FN_VAR.test(value)) {\n      if (format === VAL_SPEC) {\n        return value;\n        // var() must be resolved before cssCalc()\n      } else {\n        throw new SyntaxError(`Unexpected token ${FN_VAR} found.`);\n      }\n    } else if (!REG_FN_MATH_CALC.test(value)) {\n      return value;\n    }\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string`);\n  }\n  let cacheKey;\n  if (\n    typeof (\n      dimension as {\n        callback?: (unit: string) => number;\n      }\n    ).callback !== 'function'\n  ) {\n    cacheKey = `{cssCalc:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as string | null;\n    }\n  }\n  let resolvedValue;\n  if (dimension) {\n    const tokens = tokenize({ css: value });\n    const values = parseTokens(tokens, opt);\n    resolvedValue = calc(values.join(''), {\n      toCanonicalUnits: true\n    }) as string;\n  } else {\n    resolvedValue = calc(value, {\n      toCanonicalUnits: true\n    }) as string;\n  }\n  if (REG_START_MATH_VAR.test(value)) {\n    if (REG_TYPE_DIM_PCT.test(resolvedValue)) {\n      const [, val, unit] = resolvedValue.match(REG_TYPE_DIM_PCT) as [\n        string,\n        string,\n        string\n      ];\n      resolvedValue = `${roundToPrecision(Number(val), HEX)}${unit}`;\n    }\n    // wrap with `calc()`\n    if (\n      resolvedValue &&\n      !REG_START_MATH_VAR.test(resolvedValue as string) &&\n      format === VAL_SPEC\n    ) {\n      resolvedValue = `calc(${resolvedValue})`;\n    }\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, resolvedValue);\n  }\n  return resolvedValue;\n};\n","/**\n * css-var.js\n */\n\nimport { TokenType, tokenize } from '@csstools/css-tokenizer';\nimport { LRUCache } from 'lru-cache';\nimport { isString } from './common';\nimport { cssCalc } from './css-calc';\nimport { isColor, valueToJsonString } from './util';\n\n/* types */\nimport type { CSSToken } from '@csstools/css-tokenizer';\n\n/* constants */\nimport { FN_VAR, SYN_FN_MATH_CALC, SYN_FN_VAR, VAL_SPEC } from './constant';\nconst {\n  CloseParen: PAREN_CLOSE,\n  Comment: COMMENT,\n  EOF,\n  Ident: IDENT,\n  Whitespace: W_SPACE\n} = TokenType;\n\n/* regexp */\nconst REG_FN_MATH_CALC = new RegExp(SYN_FN_MATH_CALC);\nconst REG_FN_VAR = new RegExp(SYN_FN_VAR);\n\n/* cached results */\nexport const cachedResults = new LRUCache({\n  max: 4096\n});\n\n/**\n * resolve custom property\n * @param {Array.<Array>} tokens - tokens\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @returns {Array.<string|Array|undefined>} - [tokens, resolvedValue]\n */\nexport function resolveCustomProperty(\n  tokens: Array<CSSToken>,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<string | Array<CSSToken> | undefined> {\n  if (!Array.isArray(tokens)) {\n    throw new TypeError(`${tokens} is not an array.`);\n  }\n  const { customProperty = {} } = opt;\n  const items = [];\n  while (tokens.length) {\n    const token = tokens.shift();\n    if (!Array.isArray(token)) {\n      throw new TypeError(`${token} is not an array.`);\n    }\n    const [type, value] = token as [string, string];\n    // end of var()\n    if (type === PAREN_CLOSE) {\n      break;\n    }\n    // nested var()\n    if (value === FN_VAR) {\n      const [restTokens, item] = resolveCustomProperty(tokens, opt) as [\n        Array<CSSToken>,\n        string\n      ];\n      tokens = restTokens;\n      if (item) {\n        items.push(item);\n      }\n    } else if (type === IDENT) {\n      if (value.startsWith('--')) {\n        if (Object.hasOwnProperty.call(customProperty, value)) {\n          items.push(customProperty[value as never]);\n        } else if (\n          typeof (customProperty as { callback?: (value: string) => string })\n            .callback === 'function'\n        ) {\n          const item = (\n            customProperty as { callback: (value: string) => string }\n          ).callback(value);\n          if (item) {\n            items.push(item);\n          }\n        }\n      } else if (value) {\n        items.push(value);\n      }\n    }\n  }\n  let resolveAsColor;\n  if (items.length > 1) {\n    const lastValue = items[items.length - 1];\n    resolveAsColor = isColor(lastValue as string) as boolean;\n  }\n  let resolvedValue;\n  for (let item of items) {\n    item = item.trim() as string;\n    if (REG_FN_VAR.test(item)) {\n      // recurse cssVar()\n      item = cssVar(item, opt) as string;\n      if (item) {\n        if (resolveAsColor) {\n          if (isColor(item)) {\n            resolvedValue = item;\n          }\n        } else {\n          resolvedValue = item;\n        }\n      }\n    } else if (REG_FN_MATH_CALC.test(item)) {\n      item = cssCalc(item as string, opt) as string;\n      if (resolveAsColor) {\n        if (isColor(item)) {\n          resolvedValue = item;\n        }\n      } else {\n        resolvedValue = item;\n      }\n    } else if (\n      item &&\n      !/^(?:inherit|initial|revert(?:-layer)?|unset)$/.test(item)\n    ) {\n      if (resolveAsColor) {\n        if (isColor(item)) {\n          resolvedValue = item;\n        }\n      } else {\n        resolvedValue = item;\n      }\n    }\n    if (resolvedValue) {\n      break;\n    }\n  }\n  return [tokens, resolvedValue];\n}\n\n/**\n * parse tokens\n * @param {Array.<Array>} tokens - tokens\n * @param {object} [opt] - options\n * @returns {?Array.<string>} - parsed tokens\n */\nexport function parseTokens(\n  tokens: Array<CSSToken>,\n  opt: object = {}\n): Array<string> | null {\n  const res = [] as string[];\n  while (tokens.length) {\n    const token = tokens.shift();\n    const [type, value] = token as [string, string];\n    if (value === FN_VAR) {\n      const [restTokens, resolvedValue] = resolveCustomProperty(tokens, opt);\n      if (!resolvedValue) {\n        return null;\n      }\n      tokens = restTokens as Array<CSSToken>;\n      res.push(resolvedValue as string);\n    } else {\n      switch (type) {\n        case PAREN_CLOSE: {\n          if (res.length) {\n            const lastValue = res[res.length - 1];\n            if (lastValue === ' ') {\n              res.splice(-1, 1, value);\n            } else {\n              res.push(value);\n            }\n          } else {\n            res.push(value);\n          }\n          break;\n        }\n        case W_SPACE: {\n          if (res.length) {\n            const lastValue = res[res.length - 1] as string;\n            if (!lastValue.endsWith('(') && lastValue !== ' ') {\n              res.push(value);\n            }\n          }\n          break;\n        }\n        default: {\n          if (type !== COMMENT && type !== EOF) {\n            res.push(value);\n          }\n        }\n      }\n    }\n  }\n  return res;\n}\n\n/**\n * resolve CSS var()\n * @param {string} value - color value including var()\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @returns {?string} - value\n */\nexport function cssVar(\n  value: string,\n  opt: {\n    customProperty?: object;\n    format?: string;\n  } = {}\n): string | null {\n  const { customProperty = {}, format } = opt;\n  if (isString(value)) {\n    if (!REG_FN_VAR.test(value) || format === VAL_SPEC) {\n      return value;\n    }\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (value: string) => string })\n      .callback !== 'function'\n  ) {\n    cacheKey = `{cssVar:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as string | null;\n    }\n  }\n  const tokens = tokenize({ css: value });\n  const values = parseTokens(tokens, opt);\n  if (Array.isArray(values)) {\n    let color = values.join('') as string | null;\n    if (REG_FN_MATH_CALC.test(color as string)) {\n      color = cssCalc(color as string, opt) as string | null;\n    }\n    if (cacheKey) {\n      cachedResults.set(cacheKey as string, color!);\n    }\n    return color;\n  } else {\n    if (cacheKey) {\n      cachedResults.set(cacheKey, null!);\n    }\n    return null;\n  }\n}\n","function multiplyMatrices(t,n){return[t[0]*n[0]+t[1]*n[1]+t[2]*n[2],t[3]*n[0]+t[4]*n[1]+t[5]*n[2],t[6]*n[0]+t[7]*n[1]+t[8]*n[2]]}const t=[.955473421488075,-.02309845494876471,.06325924320057072,-.0283697093338637,1.0099953980813041,.021041441191917323,.012314014864481998,-.020507649298898964,1.330365926242124];\n/**\n * Bradford chromatic adaptation from D50 to D65\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function D50_to_D65(n){return multiplyMatrices(t,n)}const n=[1.0479297925449969,.022946870601609652,-.05019226628920524,.02962780877005599,.9904344267538799,-.017073799063418826,-.009243040646204504,.015055191490298152,.7518742814281371];\n/**\n * Bradford chromatic adaptation from D65 to D50\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\n */function D65_to_D50(t){return multiplyMatrices(n,t)}\n/**\n * @param {number} hue - Hue as degrees 0..360\n * @param {number} sat - Saturation as percentage 0..100\n * @param {number} light - Lightness as percentage 0..100\n * @return {number[]} Array of sRGB components; in-gamut colors in range [0..1]\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hslToRgb.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hslToRgb.js\n */function HSL_to_sRGB(t){let n=t[0]%360;const _=t[1]/100,o=t[2]/100;return n<0&&(n+=360),[HSL_to_sRGB_channel(0,n,_,o),HSL_to_sRGB_channel(8,n,_,o),HSL_to_sRGB_channel(4,n,_,o)]}function HSL_to_sRGB_channel(t,n,_,o){const e=(t+n/30)%12;return o-_*Math.min(o,1-o)*Math.max(-1,Math.min(e-3,9-e,1))}\n/**\n * @param {number} hue -  Hue as degrees 0..360\n * @param {number} white -  Whiteness as percentage 0..100\n * @param {number} black -  Blackness as percentage 0..100\n * @return {number[]} Array of RGB components 0..1\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hwbToRgb.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hwbToRgb.js\n */function HWB_to_sRGB(t){const n=t[0],_=t[1]/100,o=t[2]/100;if(_+o>=1){const t=_/(_+o);return[t,t,t]}const e=HSL_to_sRGB([n,100,50]),a=1-_-o;return[e[0]*a+_,e[1]*a+_,e[2]*a+_]}\n/**\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function LCH_to_Lab(t){const n=t[2]*Math.PI/180;return[t[0],t[1]*Math.cos(n),t[1]*Math.sin(n)]}\n/**\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function Lab_to_LCH(t){const n=180*Math.atan2(t[2],t[1])/Math.PI;return[t[0],Math.sqrt(Math.pow(t[1],2)+Math.pow(t[2],2)),n>=0?n:n+360]}const _=[.3457/.3585,1,.2958/.3585];\n/**\n * Convert Lab to D50-adapted XYZ\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n */function Lab_to_XYZ(t){const n=24389/27,o=216/24389,e=(t[0]+16)/116,a=t[1]/500+e,r=e-t[2]/200;return[(Math.pow(a,3)>o?Math.pow(a,3):(116*a-16)/n)*_[0],(t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/n)*_[1],(Math.pow(r,3)>o?Math.pow(r,3):(116*r-16)/n)*_[2]]}\n/**\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js\n */function OKLCH_to_OKLab(t){const n=t[2]*Math.PI/180;return[t[0],t[1]*Math.cos(n),t[1]*Math.sin(n)]}\n/**\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js\n */function OKLab_to_OKLCH(t){const n=180*Math.atan2(t[2],t[1])/Math.PI;return[t[0],Math.sqrt(t[1]**2+t[2]**2),n>=0?n:n+360]}const o=[1.2268798758459243,-.5578149944602171,.2813910456659647,-.0405757452148008,1.112286803280317,-.0717110580655164,-.0763729366746601,-.4214933324022432,1.5869240198367816],e=[1,.3963377773761749,.2158037573099136,1,-.1055613458156586,-.0638541728258133,1,-.0894841775298119,-1.2914855480194092];\n/**\n * Given OKLab, convert to XYZ relative to D65\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js\n */\nfunction OKLab_to_XYZ(t){const n=multiplyMatrices(e,t);return multiplyMatrices(o,[n[0]**3,n[1]**3,n[2]**3])}\n/**\n * Assuming XYZ is relative to D50, convert to CIE Lab\n * from CIE standard, which now defines these as a rational fraction\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function XYZ_to_Lab(t){const n=compute_f(t[0]/_[0]),o=compute_f(t[1]/_[1]);return[116*o-16,500*(n-o),200*(o-compute_f(t[2]/_[2]))]}const a=216/24389,r=24389/27;function compute_f(t){return t>a?Math.cbrt(t):(r*t+16)/116}const l=[.819022437996703,.3619062600528904,-.1288737815209879,.0329836539323885,.9292868615863434,.0361446663506424,.0481771893596242,.2642395317527308,.6335478284694309],i=[.210454268309314,.7936177747023054,-.0040720430116193,1.9779985324311684,-2.42859224204858,.450593709617411,.0259040424655478,.7827717124575296,-.8086757549230774];\n/**\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n *\n * XYZ <-> LMS matrices recalculated for consistent reference white\n * @see https://github.com/w3c/csswg-drafts/issues/6642#issuecomment-943521484\n */\nfunction XYZ_to_OKLab(t){const n=multiplyMatrices(l,t);return multiplyMatrices(i,[Math.cbrt(n[0]),Math.cbrt(n[1]),Math.cbrt(n[2])])}const c=[30757411/17917100,-6372589/17917100,-4539589/17917100,-.666684351832489,1.616481236634939,467509/29648200,792561/44930125,-1921689/44930125,.942103121235474];\n/**\n * Convert XYZ to linear-light rec2020\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */const u=[446124/178915,-333277/357830,-72051/178915,-14852/17905,63121/35810,423/17905,11844/330415,-50337/660830,316169/330415];\n/**\n * Convert XYZ to linear-light P3\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function XYZ_to_lin_P3(t){return multiplyMatrices(u,t)}const s=[1.3457868816471583,-.25557208737979464,-.05110186497554526,-.5446307051249019,1.5082477428451468,.02052744743642139,0,0,1.2119675456389452];\n/**\n * Convert D50 XYZ to linear-light prophoto-rgb\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n */const h=[1829569/896150,-506331/896150,-308931/896150,-851781/878810,1648619/878810,36519/878810,16779/1248040,-147721/1248040,1266979/1248040];\n/**\n * Convert XYZ to linear-light a98-rgb\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */const m=[12831/3959,-329/214,-1974/3959,-851781/878810,1648619/878810,36519/878810,705/12673,-2585/12673,705/667];\n/**\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function XYZ_to_lin_sRGB(t){return multiplyMatrices(m,t)}\n/**\n * Convert an array of linear-light rec2020 RGB  in the range 0.0-1.0\n * to gamma corrected form ITU-R BT.2020-2 p.4\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */const D=1.09929682680944,g=.018053968510807;function gam_2020_channel(t){const n=t<0?-1:1,_=Math.abs(t);return _>g?n*(D*Math.pow(_,.45)-(D-1)):4.5*t}\n/**\n * Convert an array of linear-light sRGB values in the range 0.0-1.0 to gamma corrected form\n * Extended transfer function:\n *  For negative values, linear portion extends on reflection\n *  of axis, then uses reflected pow below that\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://en.wikipedia.org/wiki/SRGB\n */function gam_sRGB(t){return[gam_sRGB_channel(t[0]),gam_sRGB_channel(t[1]),gam_sRGB_channel(t[2])]}function gam_sRGB_channel(t){const n=t<0?-1:1,_=Math.abs(t);return _>.0031308?n*(1.055*Math.pow(_,1/2.4)-.055):12.92*t}\n/**\n * Convert an array of linear-light display-p3 RGB in the range 0.0-1.0\n * to gamma corrected form\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function gam_P3(t){return gam_sRGB(t)}\n/**\n * Convert an array of linear-light prophoto-rgb in the range 0.0-1.0\n * to gamma corrected form.\n * Transfer curve is gamma 1.8 with a small linear portion.\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */const b=1/512;function gam_ProPhoto_channel(t){const n=t<0?-1:1,_=Math.abs(t);return _>=b?n*Math.pow(_,1/1.8):16*t}\n/**\n * Convert an array of linear-light a98-rgb in the range 0.0-1.0\n * to gamma corrected form. Negative values are also now accepted\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function gam_a98rgb_channel(t){const n=t<0?-1:1,_=Math.abs(t);return n*Math.pow(_,256/563)}\n/**\n * Convert an array of rec2020 RGB values in the range 0.0 - 1.0\n * to linear light (un-companded) form.\n * ITU-R BT.2020-2 p.4\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */const f=1.09929682680944,X=.018053968510807;function lin_2020_channel(t){const n=t<0?-1:1,_=Math.abs(t);return _<4.5*X?t/4.5:n*Math.pow((_+f-1)/f,1/.45)}const Y=[63426534/99577255,20160776/139408157,47086771/278816314,26158966/99577255,.677998071518871,8267143/139408157,0,19567812/697040785,1.0609850577107909];\n/**\n * Convert an array of linear-light rec2020 values to CIE XYZ\n * using  D65 (no chromatic adaptation)\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n */\n/**\n * Convert an array of of sRGB values where in-gamut values are in the range\n * [0 - 1] to linear light (un-companded) form.\n * Extended transfer function:\n *  For negative values, linear portion is extended on reflection of axis,\n *  then reflected power function is used.\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://en.wikipedia.org/wiki/SRGB\n */\nfunction lin_sRGB(t){return[lin_sRGB_channel(t[0]),lin_sRGB_channel(t[1]),lin_sRGB_channel(t[2])]}function lin_sRGB_channel(t){const n=t<0?-1:1,_=Math.abs(t);return _<=.04045?t/12.92:n*Math.pow((_+.055)/1.055,2.4)}\n/**\n * Convert an array of display-p3 RGB values in the range 0.0 - 1.0\n * to linear light (un-companded) form.\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function lin_P3(t){return lin_sRGB(t)}const Z=[608311/1250200,189793/714400,198249/1000160,35783/156275,247089/357200,198249/2500400,0,32229/714400,5220557/5000800];\n/**\n * Convert an array of linear-light display-p3 values to CIE XYZ\n * using D65 (no chromatic adaptation)\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n */function lin_P3_to_XYZ(t){return multiplyMatrices(Z,t)}\n/**\n * Convert an array of prophoto-rgb values where in-gamut Colors are in the\n * range [0.0 - 1.0] to linear light (un-companded) form. Transfer curve is\n * gamma 1.8 with a small linear portion. Extended transfer function\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */const M=16/512;function lin_ProPhoto_channel(t){const n=t<0?-1:1,_=Math.abs(t);return _<=M?t/16:n*Math.pow(_,1.8)}const p=[.7977666449006423,.13518129740053308,.0313477341283922,.2880748288194013,.711835234241873,8993693872564e-17,0,0,.8251046025104602];\n/**\n * Convert an array of linear-light prophoto-rgb values to CIE D50 XYZ.\n * Matrix cannot be expressed in rational form, but is calculated to 64 bit accuracy.\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see see https://github.com/w3c/csswg-drafts/issues/7675\n */function lin_a98rgb_channel(t){const n=t<0?-1:1,_=Math.abs(t);return n*Math.pow(_,563/256)}const d=[573536/994567,263643/1420810,187206/994567,591459/1989134,6239551/9945670,374412/4972835,53769/1989134,351524/4972835,4929758/4972835];\n/**\n * Convert an array of linear-light a98-rgb values to CIE XYZ\n * http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n * has greater numerical precision than section 4.3.5.3 of\n * https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n * but the values below were calculated from first principles\n * from the chromaticity coordinates of R G B W\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n * @see https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/matrixmaker.html\n */const L=[506752/1228815,87881/245763,12673/70218,87098/409605,175762/245763,12673/175545,7918/409605,87881/737289,1001167/1053270];\n/**\n * Convert an array of linear-light sRGB values to CIE XYZ\n * using sRGB's own white, D65 (no chromatic adaptation)\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */function lin_sRGB_to_XYZ(t){return multiplyMatrices(L,t)}\n/**\n * Convert an array of gamma-corrected sRGB values in the 0.0 to 1.0 range to HSL.\n *\n * @param {Color} RGB [r, g, b]\n * - Red component 0..1\n * - Green component 0..1\n * - Blue component 0..1\n * @return {number[]} Array of HSL values: Hue as degrees 0..360, Saturation and Lightness as percentages 0..100\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/utilities.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n *\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/better-rgbToHsl.js\n */function sRGB_to_HSL(t){const n=t[0],_=t[1],o=t[2],e=Math.max(n,_,o),a=Math.min(n,_,o),r=(a+e)/2,l=e-a;let i=NaN,c=0;if(0!==Math.round(1e5*l)){const t=Math.round(1e5*r);switch(c=0===t||1e5===t?0:(e-r)/Math.min(r,1-r),e){case n:i=(_-o)/l+(_<o?6:0);break;case _:i=(o-n)/l+2;break;case o:i=(n-_)/l+4}i*=60}return c<0&&(i+=180,c=Math.abs(c)),i>=360&&(i-=360),[i,100*c,100*r]}function sRGB_to_Hue(t){const n=t[0],_=t[1],o=t[2],e=Math.max(n,_,o);let a=NaN;const r=e-Math.min(n,_,o);if(0!==r){switch(e){case n:a=(_-o)/r+(_<o?6:0);break;case _:a=(o-n)/r+2;break;case o:a=(n-_)/r+4}a*=60}return a>=360&&(a-=360),a}function sRGB_to_XYZ_D50(t){let n=t;return n=lin_sRGB(n),n=lin_sRGB_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_sRGB(t){let n=t;return n=D50_to_D65(n),n=XYZ_to_lin_sRGB(n),n=gam_sRGB(n),n}function HSL_to_XYZ_D50(t){let n=t;return n=HSL_to_sRGB(n),n=lin_sRGB(n),n=lin_sRGB_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_HSL(t){let n=t;return n=D50_to_D65(n),n=XYZ_to_lin_sRGB(n),n=gam_sRGB(n),n=sRGB_to_HSL(n),n}function HWB_to_XYZ_D50(t){let n=t;return n=HWB_to_sRGB(n),n=lin_sRGB(n),n=lin_sRGB_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_HWB(t){let n=t;n=D50_to_D65(n),n=XYZ_to_lin_sRGB(n);const _=gam_sRGB(n),o=Math.min(_[0],_[1],_[2]),e=1-Math.max(_[0],_[1],_[2]);return[sRGB_to_Hue(_),100*o,100*e]}function Lab_to_XYZ_D50(t){let n=t;return n=Lab_to_XYZ(n),n}function XYZ_D50_to_Lab(t){let n=t;return n=XYZ_to_Lab(n),n}function LCH_to_XYZ_D50(t){let n=t;return n=LCH_to_Lab(n),n=Lab_to_XYZ(n),n}function XYZ_D50_to_LCH(t){let n=t;return n=XYZ_to_Lab(n),n=Lab_to_LCH(n),n}function OKLab_to_XYZ_D50(t){let n=t;return n=OKLab_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_OKLab(t){let n=t;return n=D50_to_D65(n),n=XYZ_to_OKLab(n),n}function OKLCH_to_XYZ_D50(t){let n=t;return n=OKLCH_to_OKLab(n),n=OKLab_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_OKLCH(t){let n=t;return n=D50_to_D65(n),n=XYZ_to_OKLab(n),n=OKLab_to_OKLCH(n),n}function lin_sRGB_to_XYZ_D50(t){let n=t;return n=lin_sRGB_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_lin_sRGB(t){let n=t;return n=D50_to_D65(n),n=XYZ_to_lin_sRGB(n),n}function a98_RGB_to_XYZ_D50(t){let n=t;\n/**\n * Convert an array of a98-rgb values in the range 0.0 - 1.0\n * to linear light (un-companded) form. Negative values are also now accepted\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n */\nvar _;return n=[lin_a98rgb_channel((_=n)[0]),lin_a98rgb_channel(_[1]),lin_a98rgb_channel(_[2])],n=multiplyMatrices(d,n),n=D65_to_D50(n),n}function XYZ_D50_to_a98_RGB(t){let n=t;var _;return n=D50_to_D65(n),n=multiplyMatrices(h,n),n=[gam_a98rgb_channel((_=n)[0]),gam_a98rgb_channel(_[1]),gam_a98rgb_channel(_[2])],n}function P3_to_XYZ_D50(t){let n=t;return n=lin_P3(n),n=lin_P3_to_XYZ(n),n=D65_to_D50(n),n}function XYZ_D50_to_P3(t){let n=t;return n=D50_to_D65(n),n=XYZ_to_lin_P3(n),n=gam_P3(n),n}function rec_2020_to_XYZ_D50(t){let n=t;var _;return n=[lin_2020_channel((_=n)[0]),lin_2020_channel(_[1]),lin_2020_channel(_[2])],n=multiplyMatrices(Y,n),n=D65_to_D50(n),n}function XYZ_D50_to_rec_2020(t){let n=t;var _;return n=D50_to_D65(n),n=multiplyMatrices(c,n),n=[gam_2020_channel((_=n)[0]),gam_2020_channel(_[1]),gam_2020_channel(_[2])],n}function ProPhoto_RGB_to_XYZ_D50(t){let n=t;var _;return n=[lin_ProPhoto_channel((_=n)[0]),lin_ProPhoto_channel(_[1]),lin_ProPhoto_channel(_[2])],n=multiplyMatrices(p,n),n}function XYZ_D50_to_ProPhoto(t){let n=t;var _;return n=multiplyMatrices(s,n),n=[gam_ProPhoto_channel((_=n)[0]),gam_ProPhoto_channel(_[1]),gam_ProPhoto_channel(_[2])],n}function XYZ_D65_to_XYZ_D50(t){let n=t;return n=D65_to_D50(n),n}function XYZ_D50_to_XYZ_D65(t){let n=t;return n=D50_to_D65(n),n}function XYZ_D50_to_XYZ_D50(t){return t}function inGamut(t){return t[0]>=-1e-4&&t[0]<=1.0001&&t[1]>=-1e-4&&t[1]<=1.0001&&t[2]>=-1e-4&&t[2]<=1.0001}function clip(t){return[t[0]<0?0:t[0]>1?1:t[0],t[1]<0?0:t[1]>1?1:t[1],t[2]<0?0:t[2]>1?1:t[2]]}\n/**\n * @description Calculate deltaE OK which is the simple root sum of squares\n * @param {number[]} reference - Array of OKLab values: L as 0..1, a and b as -1..1\n * @param {number[]} sample - Array of OKLab values: L as 0..1, a and b as -1..1\n * @return {number} How different a color sample is from reference\n *\n * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/deltaEOK.js. Copyright  2022 W3C (MIT, ERCIM, Keio, Beihang).\n * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/deltaEOK.js\n */function deltaEOK(t,n){const[_,o,e]=t,[a,r,l]=n,i=_-a,c=o-r,u=e-l;return Math.sqrt(i**2+c**2+u**2)}const B=.02,G=1e-4;function mapGamut(t,n,_){const o=t;let e=clip(n(o)),a=deltaEOK(OKLCH_to_OKLab(_(e)),OKLCH_to_OKLab(o));if(a<B)return e;let r=0,l=o[1],i=!0;for(;l-r>G;){const t=(r+l)/2;if(o[1]=t,i&&inGamut(n(o)))r=t;else if(e=clip(n(o)),a=deltaEOK(OKLCH_to_OKLab(_(e)),OKLCH_to_OKLab(o)),a<B){if(B-a<G)return e;i=!1,r=t}else l=t}return clip(n([...o]))}\n/**\n * @license MIT https://github.com/facelessuser/coloraide/blob/main/LICENSE.md\n */function mapGamutRayTrace(t,n,_){const o=t[0],e=t[2];let a=n(t);const r=n([o,0,e]);for(let t=0;t<4;t++){if(t>0){const t=_(a);t[0]=o,t[2]=e,a=n(t)}const l=rayTraceBox(r,a);if(!l)break;a=l}return clip(a)}function rayTraceBox(t,n){let _=1/0,o=-1/0;const e=[0,0,0];for(let a=0;a<3;a++){const r=t[a],l=n[a]-r;e[a]=l;const i=0,c=1;if(l){const t=1/l,n=(i-r)*t,e=(c-r)*t;o=Math.max(Math.min(n,e),o),_=Math.min(Math.max(n,e),_)}else if(r<i||r>c)return!1}return!(o>_||_<0)&&(o<0&&(o=_),!!isFinite(o)&&[t[0]+e[0]*o,t[1]+e[1]*o,t[2]+e[2]*o])}const R={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function luminance(t){const[n,_,o]=t.map((t=>t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)));return.2126*n+.7152*_+.0722*o}function contrast_ratio_wcag_2_1(t,n){const _=luminance(t),o=luminance(n);return(Math.max(_,o)+.05)/(Math.min(_,o)+.05)}export{HSL_to_XYZ_D50,HWB_to_XYZ_D50,LCH_to_XYZ_D50,Lab_to_XYZ_D50,OKLCH_to_OKLab,OKLCH_to_XYZ_D50,OKLab_to_OKLCH,OKLab_to_XYZ,OKLab_to_XYZ_D50,P3_to_XYZ_D50,ProPhoto_RGB_to_XYZ_D50,XYZ_D50_to_HSL,XYZ_D50_to_HWB,XYZ_D50_to_LCH,XYZ_D50_to_Lab,XYZ_D50_to_OKLCH,XYZ_D50_to_OKLab,XYZ_D50_to_P3,XYZ_D50_to_ProPhoto,XYZ_D50_to_XYZ_D50,XYZ_D50_to_XYZ_D65,XYZ_D50_to_a98_RGB,XYZ_D50_to_lin_sRGB,XYZ_D50_to_rec_2020,XYZ_D50_to_sRGB,XYZ_D65_to_XYZ_D50,XYZ_to_OKLab,XYZ_to_lin_P3,XYZ_to_lin_sRGB,a98_RGB_to_XYZ_D50,clip,contrast_ratio_wcag_2_1,gam_P3,gam_sRGB,inGamut,lin_P3,lin_P3_to_XYZ,lin_sRGB,lin_sRGB_to_XYZ,lin_sRGB_to_XYZ_D50,mapGamut,mapGamutRayTrace,R as namedColors,rec_2020_to_XYZ_D50,sRGB_to_XYZ_D50};\n","import{TokenType as e,NumberType as a,isTokenIdent as n,isTokenPercentage as r,isTokenNumber as o,isTokenDelim as t,isTokenNumeric as l,isTokenComma as s,isTokenDimension as u,isTokenHash as c}from\"@csstools/css-tokenizer\";import{XYZ_D65_to_XYZ_D50 as i,XYZ_D50_to_XYZ_D50 as h,OKLCH_to_XYZ_D50 as m,LCH_to_XYZ_D50 as p,OKLab_to_XYZ_D50 as N,Lab_to_XYZ_D50 as b,HWB_to_XYZ_D50 as v,HSL_to_XYZ_D50 as g,ProPhoto_RGB_to_XYZ_D50 as f,a98_RGB_to_XYZ_D50 as d,rec_2020_to_XYZ_D50 as y,P3_to_XYZ_D50 as _,lin_sRGB_to_XYZ_D50 as C,sRGB_to_XYZ_D50 as w,XYZ_D50_to_XYZ_D65 as x,XYZ_D50_to_OKLab as H,XYZ_D50_to_OKLCH as L,XYZ_D50_to_LCH as k,XYZ_D50_to_Lab as P,XYZ_D50_to_HWB as S,XYZ_D50_to_HSL as z,XYZ_D50_to_a98_RGB as D,XYZ_D50_to_ProPhoto as F,XYZ_D50_to_rec_2020 as Z,XYZ_D50_to_P3 as M,XYZ_D50_to_lin_sRGB as R,XYZ_D50_to_sRGB as B,namedColors as G,inGamut as T,clip as V,gam_sRGB as A,mapGamutRayTrace as X,OKLCH_to_OKLab as Y,OKLab_to_XYZ as K,XYZ_to_lin_sRGB as I,lin_sRGB_to_XYZ as O,XYZ_to_OKLab as E,OKLab_to_OKLCH as W,contrast_ratio_wcag_2_1 as U,gam_P3 as $,XYZ_to_lin_P3 as j,lin_P3_to_XYZ as q}from\"@csstools/color-helpers\";import{isWhitespaceNode as J,isCommentNode as Q,isTokenNode as ee,isFunctionNode as ae,TokenNode as ne,FunctionNode as re,WhitespaceNode as oe}from\"@csstools/css-parser-algorithms\";import{mathFunctionNames as te,calcFromComponentValues as le}from\"@csstools/css-calc\";var se,ue;function convertNaNToZero(e){return[Number.isNaN(e[0])?0:e[0],Number.isNaN(e[1])?0:e[1],Number.isNaN(e[2])?0:e[2]]}function colorData_to_XYZ_D50(e){switch(e.colorNotation){case se.HEX:case se.RGB:case se.sRGB:return{...e,colorNotation:se.XYZ_D50,channels:w(convertNaNToZero(e.channels))};case se.Linear_sRGB:return{...e,colorNotation:se.XYZ_D50,channels:C(convertNaNToZero(e.channels))};case se.Display_P3:return{...e,colorNotation:se.XYZ_D50,channels:_(convertNaNToZero(e.channels))};case se.Rec2020:return{...e,colorNotation:se.XYZ_D50,channels:y(convertNaNToZero(e.channels))};case se.A98_RGB:return{...e,colorNotation:se.XYZ_D50,channels:d(convertNaNToZero(e.channels))};case se.ProPhoto_RGB:return{...e,colorNotation:se.XYZ_D50,channels:f(convertNaNToZero(e.channels))};case se.HSL:return{...e,colorNotation:se.XYZ_D50,channels:g(convertNaNToZero(e.channels))};case se.HWB:return{...e,colorNotation:se.XYZ_D50,channels:v(convertNaNToZero(e.channels))};case se.Lab:return{...e,colorNotation:se.XYZ_D50,channels:b(convertNaNToZero(e.channels))};case se.OKLab:return{...e,colorNotation:se.XYZ_D50,channels:N(convertNaNToZero(e.channels))};case se.LCH:return{...e,colorNotation:se.XYZ_D50,channels:p(convertNaNToZero(e.channels))};case se.OKLCH:return{...e,colorNotation:se.XYZ_D50,channels:m(convertNaNToZero(e.channels))};case se.XYZ_D50:return{...e,colorNotation:se.XYZ_D50,channels:h(convertNaNToZero(e.channels))};case se.XYZ_D65:return{...e,colorNotation:se.XYZ_D50,channels:i(convertNaNToZero(e.channels))};default:throw new Error(\"Unsupported color notation\")}}!function(e){e.A98_RGB=\"a98-rgb\",e.Display_P3=\"display-p3\",e.HEX=\"hex\",e.HSL=\"hsl\",e.HWB=\"hwb\",e.LCH=\"lch\",e.Lab=\"lab\",e.Linear_sRGB=\"srgb-linear\",e.OKLCH=\"oklch\",e.OKLab=\"oklab\",e.ProPhoto_RGB=\"prophoto-rgb\",e.RGB=\"rgb\",e.sRGB=\"srgb\",e.Rec2020=\"rec2020\",e.XYZ_D50=\"xyz-d50\",e.XYZ_D65=\"xyz-d65\"}(se||(se={})),function(e){e.ColorKeyword=\"color-keyword\",e.HasAlpha=\"has-alpha\",e.HasDimensionValues=\"has-dimension-values\",e.HasNoneKeywords=\"has-none-keywords\",e.HasNumberValues=\"has-number-values\",e.HasPercentageAlpha=\"has-percentage-alpha\",e.HasPercentageValues=\"has-percentage-values\",e.HasVariableAlpha=\"has-variable-alpha\",e.Hex=\"hex\",e.LegacyHSL=\"legacy-hsl\",e.LegacyRGB=\"legacy-rgb\",e.NamedColor=\"named-color\",e.RelativeColorSyntax=\"relative-color-syntax\",e.ColorMix=\"color-mix\",e.ContrastColor=\"contrast-color\",e.Experimental=\"experimental\"}(ue||(ue={}));const ce=new Set([se.A98_RGB,se.Display_P3,se.HEX,se.Linear_sRGB,se.ProPhoto_RGB,se.RGB,se.sRGB,se.Rec2020,se.XYZ_D50,se.XYZ_D65]);function colorDataTo(e,a){const n={...e};if(e.colorNotation!==a){const e=colorData_to_XYZ_D50(n);switch(a){case se.HEX:case se.RGB:n.colorNotation=se.RGB,n.channels=B(e.channels);break;case se.sRGB:n.colorNotation=se.sRGB,n.channels=B(e.channels);break;case se.Linear_sRGB:n.colorNotation=se.Linear_sRGB,n.channels=R(e.channels);break;case se.Display_P3:n.colorNotation=se.Display_P3,n.channels=M(e.channels);break;case se.Rec2020:n.colorNotation=se.Rec2020,n.channels=Z(e.channels);break;case se.ProPhoto_RGB:n.colorNotation=se.ProPhoto_RGB,n.channels=F(e.channels);break;case se.A98_RGB:n.colorNotation=se.A98_RGB,n.channels=D(e.channels);break;case se.HSL:n.colorNotation=se.HSL,n.channels=z(e.channels);break;case se.HWB:n.colorNotation=se.HWB,n.channels=S(e.channels);break;case se.Lab:n.colorNotation=se.Lab,n.channels=P(e.channels);break;case se.LCH:n.colorNotation=se.LCH,n.channels=k(e.channels);break;case se.OKLCH:n.colorNotation=se.OKLCH,n.channels=L(e.channels);break;case se.OKLab:n.colorNotation=se.OKLab,n.channels=H(e.channels);break;case se.XYZ_D50:n.colorNotation=se.XYZ_D50,n.channels=h(e.channels);break;case se.XYZ_D65:n.colorNotation=se.XYZ_D65,n.channels=x(e.channels);break;default:throw new Error(\"Unsupported color notation\")}}else n.channels=convertNaNToZero(e.channels);if(a===e.colorNotation)n.channels=carryForwardMissingComponents(e.channels,[0,1,2],n.channels,[0,1,2]);else if(ce.has(a)&&ce.has(e.colorNotation))n.channels=carryForwardMissingComponents(e.channels,[0,1,2],n.channels,[0,1,2]);else switch(a){case se.HSL:switch(e.colorNotation){case se.HWB:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[0]);break;case se.Lab:case se.OKLab:n.channels=carryForwardMissingComponents(e.channels,[2],n.channels,[0]);break;case se.LCH:case se.OKLCH:n.channels=carryForwardMissingComponents(e.channels,[0,1,2],n.channels,[2,1,0])}break;case se.HWB:switch(e.colorNotation){case se.HSL:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[0]);break;case se.LCH:case se.OKLCH:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[2])}break;case se.Lab:case se.OKLab:switch(e.colorNotation){case se.HSL:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[2]);break;case se.Lab:case se.OKLab:n.channels=carryForwardMissingComponents(e.channels,[0,1,2],n.channels,[0,1,2]);break;case se.LCH:case se.OKLCH:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[0])}break;case se.LCH:case se.OKLCH:switch(e.colorNotation){case se.HSL:n.channels=carryForwardMissingComponents(e.channels,[0,1,2],n.channels,[2,1,0]);break;case se.HWB:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[2]);break;case se.Lab:case se.OKLab:n.channels=carryForwardMissingComponents(e.channels,[0],n.channels,[0]);break;case se.LCH:case se.OKLCH:n.channels=carryForwardMissingComponents(e.channels,[0,1,2],n.channels,[0,1,2])}}return n.channels=convertPowerlessComponentsToMissingComponents(n.channels,a),n}function convertPowerlessComponentsToMissingComponents(e,a){const n=[...e];switch(a){case se.HSL:!Number.isNaN(n[1])&&reducePrecision(n[1],4)<=0&&(n[0]=NaN);break;case se.HWB:Math.max(0,reducePrecision(n[1],4))+Math.max(0,reducePrecision(n[2],4))>=100&&(n[0]=NaN);break;case se.LCH:!Number.isNaN(n[1])&&reducePrecision(n[1],4)<=0&&(n[2]=NaN);break;case se.OKLCH:!Number.isNaN(n[1])&&reducePrecision(n[1],6)<=0&&(n[2]=NaN)}return n}function convertPowerlessComponentsToZeroValuesForDisplay(e,a){const n=[...e];switch(a){case se.HSL:(reducePrecision(n[2])<=0||reducePrecision(n[2])>=100)&&(n[0]=NaN,n[1]=NaN),reducePrecision(n[1])<=0&&(n[0]=NaN);break;case se.HWB:Math.max(0,reducePrecision(n[1]))+Math.max(0,reducePrecision(n[2]))>=100&&(n[0]=NaN);break;case se.Lab:(reducePrecision(n[0])<=0||reducePrecision(n[0])>=100)&&(n[1]=NaN,n[2]=NaN);break;case se.LCH:reducePrecision(n[1])<=0&&(n[2]=NaN),(reducePrecision(n[0])<=0||reducePrecision(n[0])>=100)&&(n[1]=NaN,n[2]=NaN);break;case se.OKLab:(reducePrecision(n[0])<=0||reducePrecision(n[0])>=1)&&(n[1]=NaN,n[2]=NaN);break;case se.OKLCH:reducePrecision(n[1])<=0&&(n[2]=NaN),(reducePrecision(n[0])<=0||reducePrecision(n[0])>=1)&&(n[1]=NaN,n[2]=NaN)}return n}function carryForwardMissingComponents(e,a,n,r){const o=[...n];for(const n of a)Number.isNaN(e[a[n]])&&(o[r[n]]=NaN);return o}function normalizeRelativeColorDataChannels(e){const a=new Map;switch(e.colorNotation){case se.RGB:case se.HEX:a.set(\"r\",dummyNumberToken(255*e.channels[0])),a.set(\"g\",dummyNumberToken(255*e.channels[1])),a.set(\"b\",dummyNumberToken(255*e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha));break;case se.HSL:a.set(\"h\",dummyNumberToken(e.channels[0])),a.set(\"s\",dummyNumberToken(e.channels[1])),a.set(\"l\",dummyNumberToken(e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha));break;case se.HWB:a.set(\"h\",dummyNumberToken(e.channels[0])),a.set(\"w\",dummyNumberToken(e.channels[1])),a.set(\"b\",dummyNumberToken(e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha));break;case se.Lab:case se.OKLab:a.set(\"l\",dummyNumberToken(e.channels[0])),a.set(\"a\",dummyNumberToken(e.channels[1])),a.set(\"b\",dummyNumberToken(e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha));break;case se.LCH:case se.OKLCH:a.set(\"l\",dummyNumberToken(e.channels[0])),a.set(\"c\",dummyNumberToken(e.channels[1])),a.set(\"h\",dummyNumberToken(e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha));break;case se.sRGB:case se.A98_RGB:case se.Display_P3:case se.Rec2020:case se.Linear_sRGB:case se.ProPhoto_RGB:a.set(\"r\",dummyNumberToken(e.channels[0])),a.set(\"g\",dummyNumberToken(e.channels[1])),a.set(\"b\",dummyNumberToken(e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha));break;case se.XYZ_D50:case se.XYZ_D65:a.set(\"x\",dummyNumberToken(e.channels[0])),a.set(\"y\",dummyNumberToken(e.channels[1])),a.set(\"z\",dummyNumberToken(e.channels[2])),\"number\"==typeof e.alpha&&a.set(\"alpha\",dummyNumberToken(e.alpha))}return a}function noneToZeroInRelativeColorDataChannels(e){const a=new Map(e);for(const[n,r]of e)Number.isNaN(r[4].value)&&a.set(n,dummyNumberToken(0));return a}function dummyNumberToken(n){return Number.isNaN(n)?[e.Number,\"none\",-1,-1,{value:Number.NaN,type:a.Number}]:[e.Number,n.toString(),-1,-1,{value:n,type:a.Number}]}function reducePrecision(e,a=7){if(Number.isNaN(e))return 0;const n=Math.pow(10,a);return Math.round(e*n)/n}function colorDataFitsRGB_Gamut(e){const a={...e,channels:[...e.channels]};a.channels=convertPowerlessComponentsToZeroValuesForDisplay(a.channels,a.colorNotation);return!colorDataTo(a,se.RGB).channels.find((e=>e<-1e-5||e>1.00001))}function colorDataFitsDisplayP3_Gamut(e){const a={...e,channels:[...e.channels]};a.channels=convertPowerlessComponentsToZeroValuesForDisplay(a.channels,a.colorNotation);return!colorDataTo(a,se.Display_P3).channels.find((e=>e<-1e-5||e>1.00001))}function normalize(e,a,n,r){return Math.min(Math.max(e/a,n),r)}const ie=/[A-Z]/g;function toLowerCaseAZ(e){return e.replace(ie,(e=>String.fromCharCode(e.charCodeAt(0)+32)))}function normalize_Color_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(r(t)){3!==l&&s.syntaxFlags.add(ue.HasPercentageValues);let n=normalize(t[4].value,100,-2147483647,2147483647);return 3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=normalize(t[4].value,1,-2147483647,2147483647);return 3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}const he=new Set([\"srgb\",\"srgb-linear\",\"display-p3\",\"a98-rgb\",\"prophoto-rgb\",\"rec2020\",\"xyz\",\"xyz-d50\",\"xyz-d65\"]);function color$1(e,a){const r=[],s=[],u=[],c=[];let i,h,m=!1,p=!1;const N={colorNotation:se.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([])};let b=r;for(let o=0;o<e.value.length;o++){let v=e.value[o];if(J(v)||Q(v))for(;J(e.value[o+1])||Q(e.value[o+1]);)o++;else if(b===r&&r.length&&(b=s),b===s&&s.length&&(b=u),ee(v)&&t(v.value)&&\"/\"===v.value[4].value){if(b===c)return!1;b=c}else{if(ae(v)){if(b===c&&\"var\"===toLowerCaseAZ(v.getName())){N.syntaxFlags.add(ue.HasVariableAlpha),b.push(v);continue}if(!te.has(toLowerCaseAZ(v.getName())))return!1;const[[e]]=le([[v]],{censorIntoStandardRepresentableValues:!0,globals:h,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!e||!ee(e)||!l(e.value))return!1;Number.isNaN(e.value[4].value)&&(e.value[4].value=0),v=e}if(b===r&&0===r.length&&ee(v)&&n(v.value)&&he.has(toLowerCaseAZ(v.value[4].value))){if(m)return!1;m=toLowerCaseAZ(v.value[4].value),N.colorNotation=colorSpaceNameToColorNotation(m),p&&(p.colorNotation!==N.colorNotation&&(p=colorDataTo(p,N.colorNotation)),i=normalizeRelativeColorDataChannels(p),h=noneToZeroInRelativeColorDataChannels(i))}else if(b===r&&0===r.length&&ee(v)&&n(v.value)&&\"from\"===toLowerCaseAZ(v.value[4].value)){if(p)return!1;if(m)return!1;for(;J(e.value[o+1])||Q(e.value[o+1]);)o++;if(o++,v=e.value[o],p=a(v),!1===p)return!1;p.syntaxFlags.has(ue.Experimental)&&N.syntaxFlags.add(ue.Experimental),N.syntaxFlags.add(ue.RelativeColorSyntax)}else{if(!ee(v))return!1;if(n(v.value)&&i&&i.has(toLowerCaseAZ(v.value[4].value))){b.push(new ne(i.get(toLowerCaseAZ(v.value[4].value))));continue}b.push(v)}}}if(!m)return!1;if(1!==b.length)return!1;if(1!==r.length||1!==s.length||1!==u.length)return!1;if(!ee(r[0])||!ee(s[0])||!ee(u[0]))return!1;if(i&&!i.has(\"alpha\"))return!1;const v=normalize_Color_ChannelValues(r[0].value,0,N);if(!v||!o(v))return!1;const g=normalize_Color_ChannelValues(s[0].value,1,N);if(!g||!o(g))return!1;const f=normalize_Color_ChannelValues(u[0].value,2,N);if(!f||!o(f))return!1;const d=[v,g,f];if(1===c.length)if(N.syntaxFlags.add(ue.HasAlpha),ee(c[0])){const e=normalize_Color_ChannelValues(c[0].value,3,N);if(!e||!o(e))return!1;d.push(e)}else N.alpha=c[0];else if(i&&i.has(\"alpha\")){const e=normalize_Color_ChannelValues(i.get(\"alpha\"),3,N);if(!e||!o(e))return!1;d.push(e)}return N.channels=[d[0][4].value,d[1][4].value,d[2][4].value],4===d.length&&(N.alpha=d[3][4].value),N}function colorSpaceNameToColorNotation(e){switch(e){case\"srgb\":return se.sRGB;case\"srgb-linear\":return se.Linear_sRGB;case\"display-p3\":return se.Display_P3;case\"a98-rgb\":return se.A98_RGB;case\"prophoto-rgb\":return se.ProPhoto_RGB;case\"rec2020\":return se.Rec2020;case\"xyz\":case\"xyz-d65\":return se.XYZ_D65;case\"xyz-d50\":return se.XYZ_D50;default:throw new Error(\"Unknown color space name: \"+e)}}const me=new Set([\"srgb\",\"srgb-linear\",\"display-p3\",\"a98-rgb\",\"prophoto-rgb\",\"rec2020\",\"lab\",\"oklab\",\"xyz\",\"xyz-d50\",\"xyz-d65\"]),pe=new Set([\"hsl\",\"hwb\",\"lch\",\"oklch\"]),Ne=new Set([\"shorter\",\"longer\",\"increasing\",\"decreasing\"]);function colorMix(e,a){let r=null,o=null,t=null,l=!1;for(let u=0;u<e.value.length;u++){const c=e.value[u];if(!J(c)&&!Q(c)){if(ee(c)&&n(c.value)){if(!r&&\"in\"===toLowerCaseAZ(c.value[4].value)){r=c;continue}if(r&&!o){o=toLowerCaseAZ(c.value[4].value);continue}if(r&&o&&!t&&pe.has(o)){t=toLowerCaseAZ(c.value[4].value);continue}if(r&&o&&t&&!l&&\"hue\"===toLowerCaseAZ(c.value[4].value)){l=!0;continue}return!1}return!(!ee(c)||!s(c.value))&&(!!o&&(t||l?!!(o&&t&&l&&pe.has(o)&&Ne.has(t))&&colorMixPolar(o,t,colorMixComponents(e.value.slice(u+1),a)):me.has(o)?colorMixRectangular(o,colorMixComponents(e.value.slice(u+1),a)):!!pe.has(o)&&colorMixPolar(o,\"shorter\",colorMixComponents(e.value.slice(u+1),a))))}}return!1}function colorMixComponents(e,a){const n=[];let o=1,t=!1,u=!1;for(let o=0;o<e.length;o++){let c=e[o];if(!J(c)&&!Q(c)){if(!ee(c)||!s(c.value)){if(!t){const e=a(c);if(e){t=e;continue}}if(!u){if(ae(c)&&te.has(toLowerCaseAZ(c.getName()))){if([[c]]=le([[c]],{censorIntoStandardRepresentableValues:!0,precision:-1,toCanonicalUnits:!0,rawPercentages:!0}),!c||!ee(c)||!l(c.value))return!1;Number.isNaN(c.value[4].value)&&(c.value[4].value=0)}if(ee(c)&&r(c.value)&&c.value[4].value>=0){u=c.value[4].value;continue}}return!1}if(!t)return!1;n.push({color:t,percentage:u}),t=!1,u=!1}}if(t&&n.push({color:t,percentage:u}),2!==n.length)return!1;let c=n[0].percentage,i=n[1].percentage;return(!1===c||!(c<0||c>100))&&((!1===i||!(i<0||i>100))&&(!1===c&&!1===i?(c=50,i=50):!1!==c&&!1===i?i=100-c:!1===c&&!1!==i&&(c=100-i),(0!==c||0!==i)&&(!1!==c&&!1!==i&&(c+i>100&&(c=c/(c+i)*100,i=i/(c+i)*100),c+i<100&&(o=(c+i)/100,c=c/(c+i)*100,i=i/(c+i)*100),{a:{color:n[0].color,percentage:c},b:{color:n[1].color,percentage:i},alphaMultiplier:o}))))}function colorMixRectangular(e,a){if(!a)return!1;const n=a.a.color,r=a.b.color,o=a.a.percentage/100;let t=n.channels,l=r.channels,s=se.RGB,u=n.alpha;if(\"number\"!=typeof u)return!1;let c=r.alpha;if(\"number\"!=typeof c)return!1;switch(u=Number.isNaN(u)?c:u,c=Number.isNaN(c)?u:c,e){case\"srgb\":s=se.RGB;break;case\"srgb-linear\":s=se.Linear_sRGB;break;case\"display-p3\":s=se.Display_P3;break;case\"a98-rgb\":s=se.A98_RGB;break;case\"prophoto-rgb\":s=se.ProPhoto_RGB;break;case\"rec2020\":s=se.Rec2020;break;case\"lab\":s=se.Lab;break;case\"oklab\":s=se.OKLab;break;case\"xyz-d50\":s=se.XYZ_D50;break;case\"xyz\":case\"xyz-d65\":s=se.XYZ_D65}t=colorDataTo(n,s).channels,l=colorDataTo(r,s).channels,t[0]=fillInMissingComponent(t[0],l[0]),l[0]=fillInMissingComponent(l[0],t[0]),t[1]=fillInMissingComponent(t[1],l[1]),l[1]=fillInMissingComponent(l[1],t[1]),t[2]=fillInMissingComponent(t[2],l[2]),l[2]=fillInMissingComponent(l[2],t[2]),t[0]=premultiply(t[0],u),t[1]=premultiply(t[1],u),t[2]=premultiply(t[2],u),l[0]=premultiply(l[0],c),l[1]=premultiply(l[1],c),l[2]=premultiply(l[2],c);const i=interpolate(u,c,o),h={colorNotation:s,channels:[un_premultiply(interpolate(t[0],l[0],o),i),un_premultiply(interpolate(t[1],l[1],o),i),un_premultiply(interpolate(t[2],l[2],o),i)],alpha:i*a.alphaMultiplier,syntaxFlags:new Set([ue.ColorMix])};return(a.a.color.syntaxFlags.has(ue.Experimental)||a.b.color.syntaxFlags.has(ue.Experimental))&&h.syntaxFlags.add(ue.Experimental),h}function colorMixPolar(e,a,n){if(!n)return!1;const r=n.a.color,o=n.b.color,t=n.a.percentage/100;let l=r.channels,s=o.channels,u=0,c=0,i=0,h=0,m=0,p=0,N=se.RGB,b=r.alpha;if(\"number\"!=typeof b)return!1;let v=o.alpha;if(\"number\"!=typeof v)return!1;switch(b=Number.isNaN(b)?v:b,v=Number.isNaN(v)?b:v,e){case\"hsl\":N=se.HSL;break;case\"hwb\":N=se.HWB;break;case\"lch\":N=se.LCH;break;case\"oklch\":N=se.OKLCH}switch(l=colorDataTo(r,N).channels,s=colorDataTo(o,N).channels,e){case\"hsl\":case\"hwb\":u=l[0],c=s[0],i=l[1],h=s[1],m=l[2],p=s[2];break;case\"lch\":case\"oklch\":i=l[0],h=s[0],m=l[1],p=s[1],u=l[2],c=s[2]}u=fillInMissingComponent(u,c),Number.isNaN(u)&&(u=0),c=fillInMissingComponent(c,u),Number.isNaN(c)&&(c=0),i=fillInMissingComponent(i,h),h=fillInMissingComponent(h,i),m=fillInMissingComponent(m,p),p=fillInMissingComponent(p,m);const g=c-u;switch(a){case\"shorter\":g>180?u+=360:g<-180&&(c+=360);break;case\"longer\":-180<g&&g<180&&(g>0?u+=360:c+=360);break;case\"increasing\":g<0&&(c+=360);break;case\"decreasing\":g>0&&(u+=360);break;default:throw new Error(\"Unknown hue interpolation method\")}i=premultiply(i,b),m=premultiply(m,b),h=premultiply(h,v),p=premultiply(p,v);let f=[0,0,0];const d=interpolate(b,v,t);switch(e){case\"hsl\":case\"hwb\":f=[interpolate(u,c,t),un_premultiply(interpolate(i,h,t),d),un_premultiply(interpolate(m,p,t),d)];break;case\"lch\":case\"oklch\":f=[un_premultiply(interpolate(i,h,t),d),un_premultiply(interpolate(m,p,t),d),interpolate(u,c,t)]}const y={colorNotation:N,channels:f,alpha:d*n.alphaMultiplier,syntaxFlags:new Set([ue.ColorMix])};return(n.a.color.syntaxFlags.has(ue.Experimental)||n.b.color.syntaxFlags.has(ue.Experimental))&&y.syntaxFlags.add(ue.Experimental),y}function fillInMissingComponent(e,a){return Number.isNaN(e)?a:e}function interpolate(e,a,n){return e*n+a*(1-n)}function premultiply(e,a){return Number.isNaN(a)?e:Number.isNaN(e)?NaN:e*a}function un_premultiply(e,a){return 0===a||Number.isNaN(a)?e:Number.isNaN(e)?NaN:e/a}function hex(e){const a=toLowerCaseAZ(e[4].value);if(a.match(/[^a-f0-9]/))return!1;const n={colorNotation:se.HEX,channels:[0,0,0],alpha:1,syntaxFlags:new Set([ue.Hex])},r=a.length;if(3===r){const e=a[0],r=a[1],o=a[2];return n.channels=[parseInt(e+e,16)/255,parseInt(r+r,16)/255,parseInt(o+o,16)/255],n}if(6===r){const e=a[0]+a[1],r=a[2]+a[3],o=a[4]+a[5];return n.channels=[parseInt(e,16)/255,parseInt(r,16)/255,parseInt(o,16)/255],n}if(4===r){const e=a[0],r=a[1],o=a[2],t=a[3];return n.channels=[parseInt(e+e,16)/255,parseInt(r+r,16)/255,parseInt(o+o,16)/255],n.alpha=parseInt(t+t,16)/255,n.syntaxFlags.add(ue.HasAlpha),n}if(8===r){const e=a[0]+a[1],r=a[2]+a[3],o=a[4]+a[5],t=a[6]+a[7];return n.channels=[parseInt(e,16)/255,parseInt(r,16)/255,parseInt(o,16)/255],n.alpha=parseInt(t,16)/255,n.syntaxFlags.add(ue.HasAlpha),n}return!1}function normalizeHue(n){if(o(n))return n[4].value=n[4].value%360,n[1]=n[4].value.toString(),n;if(u(n)){let r=n[4].value;switch(toLowerCaseAZ(n[4].unit)){case\"deg\":break;case\"rad\":r=180*n[4].value/Math.PI;break;case\"grad\":r=.9*n[4].value;break;case\"turn\":r=360*n[4].value;break;default:return!1}return r%=360,[e.Number,r.toString(),n[2],n[3],{value:r,type:a.Number}]}return!1}function normalize_legacy_HSL_ChannelValues(n,t,l){if(0===t){const e=normalizeHue(n);return!1!==e&&(u(n)&&l.syntaxFlags.add(ue.HasDimensionValues),e)}if(r(n)){3===t?l.syntaxFlags.add(ue.HasPercentageAlpha):l.syntaxFlags.add(ue.HasPercentageValues);let r=normalize(n[4].value,1,0,100);return 3===t&&(r=normalize(n[4].value,100,0,1)),[e.Number,r.toString(),n[2],n[3],{value:r,type:a.Number}]}if(o(n)){if(3!==t)return!1;let r=normalize(n[4].value,1,0,100);return 3===t&&(r=normalize(n[4].value,1,0,1)),[e.Number,r.toString(),n[2],n[3],{value:r,type:a.Number}]}return!1}function normalize_modern_HSL_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(0===l){const e=normalizeHue(t);return!1!==e&&(u(t)&&s.syntaxFlags.add(ue.HasDimensionValues),e)}if(r(t)){3===l?s.syntaxFlags.add(ue.HasPercentageAlpha):s.syntaxFlags.add(ue.HasPercentageValues);let n=t[4].value;return 3===l?n=normalize(t[4].value,100,0,1):1===l&&(n=normalize(t[4].value,1,0,2147483647)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=t[4].value;return 3===l?n=normalize(t[4].value,1,0,1):1===l&&(n=normalize(t[4].value,1,0,2147483647)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function threeChannelLegacySyntax(e,a,n,r){const t=[],u=[],c=[],i=[],h={colorNotation:n,channels:[0,0,0],alpha:1,syntaxFlags:new Set(r)};let m=t;for(let a=0;a<e.value.length;a++){let n=e.value[a];if(!J(n)&&!Q(n)){if(ee(n)&&s(n.value)){if(m===t){m=u;continue}if(m===u){m=c;continue}if(m===c){m=i;continue}if(m===i)return!1}if(ae(n)){if(m===i&&\"var\"===n.getName().toLowerCase()){h.syntaxFlags.add(ue.HasVariableAlpha),m.push(n);continue}if(!te.has(n.getName().toLowerCase()))return!1;const[[e]]=le([[n]],{censorIntoStandardRepresentableValues:!0,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!e||!ee(e)||!l(e.value))return!1;Number.isNaN(e.value[4].value)&&(e.value[4].value=0),n=e}if(!ee(n))return!1;m.push(n)}}if(1!==m.length)return!1;if(1!==t.length||1!==u.length||1!==c.length)return!1;if(!ee(t[0])||!ee(u[0])||!ee(c[0]))return!1;const p=a(t[0].value,0,h);if(!p||!o(p))return!1;const N=a(u[0].value,1,h);if(!N||!o(N))return!1;const b=a(c[0].value,2,h);if(!b||!o(b))return!1;const v=[p,N,b];if(1===i.length)if(h.syntaxFlags.add(ue.HasAlpha),ee(i[0])){const e=a(i[0].value,3,h);if(!e||!o(e))return!1;v.push(e)}else h.alpha=i[0];return h.channels=[v[0][4].value,v[1][4].value,v[2][4].value],4===v.length&&(h.alpha=v[3][4].value),h}function threeChannelSpaceSeparated(e,a,r,s,u){const c=[],i=[],h=[],m=[];let p,N,b=!1;const v={colorNotation:r,channels:[0,0,0],alpha:1,syntaxFlags:new Set(s)};let g=c;for(let a=0;a<e.value.length;a++){let o=e.value[a];if(J(o)||Q(o))for(;J(e.value[a+1])||Q(e.value[a+1]);)a++;else if(g===c&&c.length&&(g=i),g===i&&i.length&&(g=h),ee(o)&&t(o.value)&&\"/\"===o.value[4].value){if(g===m)return!1;g=m}else{if(ae(o)){if(g===m&&\"var\"===o.getName().toLowerCase()){v.syntaxFlags.add(ue.HasVariableAlpha),g.push(o);continue}if(!te.has(o.getName().toLowerCase()))return!1;const[[e]]=le([[o]],{censorIntoStandardRepresentableValues:!0,globals:N,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!e||!ee(e)||!l(e.value))return!1;Number.isNaN(e.value[4].value)&&(e.value[4].value=0),o=e}if(g===c&&0===c.length&&ee(o)&&n(o.value)&&\"from\"===o.value[4].value.toLowerCase()){if(b)return!1;for(;J(e.value[a+1])||Q(e.value[a+1]);)a++;if(a++,o=e.value[a],b=u(o),!1===b)return!1;b.syntaxFlags.has(ue.Experimental)&&v.syntaxFlags.add(ue.Experimental),v.syntaxFlags.add(ue.RelativeColorSyntax),b.colorNotation!==r&&(b=colorDataTo(b,r)),p=normalizeRelativeColorDataChannels(b),N=noneToZeroInRelativeColorDataChannels(p)}else{if(!ee(o))return!1;if(n(o.value)&&p){const e=o.value[4].value.toLowerCase();if(p.has(e)){g.push(new ne(p.get(e)));continue}}g.push(o)}}}if(1!==g.length)return!1;if(1!==c.length||1!==i.length||1!==h.length)return!1;if(!ee(c[0])||!ee(i[0])||!ee(h[0]))return!1;if(p&&!p.has(\"alpha\"))return!1;const f=a(c[0].value,0,v);if(!f||!o(f))return!1;const d=a(i[0].value,1,v);if(!d||!o(d))return!1;const y=a(h[0].value,2,v);if(!y||!o(y))return!1;const _=[f,d,y];if(1===m.length)if(v.syntaxFlags.add(ue.HasAlpha),ee(m[0])){const e=a(m[0].value,3,v);if(!e||!o(e))return!1;_.push(e)}else v.alpha=m[0];else if(p&&p.has(\"alpha\")){const e=a(p.get(\"alpha\"),3,v);if(!e||!o(e))return!1;_.push(e)}return v.channels=[_[0][4].value,_[1][4].value,_[2][4].value],4===_.length&&(v.alpha=_[3][4].value),v}function hsl(e,a){if(e.value.some((e=>ee(e)&&s(e.value)))){const a=hslCommaSeparated(e);if(!1!==a)return a}{const n=hslSpaceSeparated(e,a);if(!1!==n)return n}return!1}function hslCommaSeparated(e){return threeChannelLegacySyntax(e,normalize_legacy_HSL_ChannelValues,se.HSL,[ue.LegacyHSL])}function hslSpaceSeparated(e,a){return threeChannelSpaceSeparated(e,normalize_modern_HSL_ChannelValues,se.HSL,[],a)}function normalize_HWB_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(0===l){const e=normalizeHue(t);return!1!==e&&(u(t)&&s.syntaxFlags.add(ue.HasDimensionValues),e)}if(r(t)){3===l?s.syntaxFlags.add(ue.HasPercentageAlpha):s.syntaxFlags.add(ue.HasPercentageValues);let n=t[4].value;return 3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=t[4].value;return 3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function normalize_Lab_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(r(t)){3!==l&&s.syntaxFlags.add(ue.HasPercentageValues);let n=normalize(t[4].value,1,0,100);return 1===l||2===l?n=normalize(t[4].value,.8,-2147483647,2147483647):3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=normalize(t[4].value,1,0,100);return 1===l||2===l?n=normalize(t[4].value,1,-2147483647,2147483647):3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function lab(e,a){return threeChannelSpaceSeparated(e,normalize_Lab_ChannelValues,se.Lab,[],a)}function normalize_LCH_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(2===l){const e=normalizeHue(t);return!1!==e&&(u(t)&&s.syntaxFlags.add(ue.HasDimensionValues),e)}if(r(t)){3!==l&&s.syntaxFlags.add(ue.HasPercentageValues);let n=normalize(t[4].value,1,0,100);return 1===l?n=normalize(t[4].value,100/150,0,2147483647):3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=normalize(t[4].value,1,0,100);return 1===l?n=normalize(t[4].value,1,0,2147483647):3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function lch(e,a){return threeChannelSpaceSeparated(e,normalize_LCH_ChannelValues,se.LCH,[],a)}const be=new Map;for(const[e,a]of Object.entries(G))be.set(e,a);function namedColor(e){const a=be.get(toLowerCaseAZ(e));return!!a&&{colorNotation:se.RGB,channels:[a[0]/255,a[1]/255,a[2]/255],alpha:1,syntaxFlags:new Set([ue.ColorKeyword,ue.NamedColor])}}function normalize_OKLab_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(r(t)){3!==l&&s.syntaxFlags.add(ue.HasPercentageValues);let n=normalize(t[4].value,100,0,1);return 1===l||2===l?n=normalize(t[4].value,250,-2147483647,2147483647):3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=normalize(t[4].value,1,0,1);return 1===l||2===l?n=normalize(t[4].value,1,-2147483647,2147483647):3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function oklab(e,a){return threeChannelSpaceSeparated(e,normalize_OKLab_ChannelValues,se.OKLab,[],a)}function normalize_OKLCH_ChannelValues(t,l,s){if(n(t)&&\"none\"===toLowerCaseAZ(t[4].value))return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(2===l){const e=normalizeHue(t);return!1!==e&&(u(t)&&s.syntaxFlags.add(ue.HasDimensionValues),e)}if(r(t)){3!==l&&s.syntaxFlags.add(ue.HasPercentageValues);let n=normalize(t[4].value,100,0,1);return 1===l?n=normalize(t[4].value,250,0,2147483647):3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=normalize(t[4].value,1,0,1);return 1===l?n=normalize(t[4].value,1,0,2147483647):3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function oklch(e,a){return threeChannelSpaceSeparated(e,normalize_OKLCH_ChannelValues,se.OKLCH,[],a)}function normalize_legacy_sRGB_ChannelValues(n,t,l){if(r(n)){3===t?l.syntaxFlags.add(ue.HasPercentageAlpha):l.syntaxFlags.add(ue.HasPercentageValues);const r=normalize(n[4].value,100,0,1);return[e.Number,r.toString(),n[2],n[3],{value:r,type:a.Number}]}if(o(n)){3!==t&&l.syntaxFlags.add(ue.HasNumberValues);let r=normalize(n[4].value,255,0,1);return 3===t&&(r=normalize(n[4].value,1,0,1)),[e.Number,r.toString(),n[2],n[3],{value:r,type:a.Number}]}return!1}function normalize_modern_sRGB_ChannelValues(t,l,s){if(n(t)&&\"none\"===t[4].value.toLowerCase())return s.syntaxFlags.add(ue.HasNoneKeywords),[e.Number,\"none\",t[2],t[3],{value:NaN,type:a.Number}];if(r(t)){3!==l&&s.syntaxFlags.add(ue.HasPercentageValues);let n=normalize(t[4].value,100,-2147483647,2147483647);return 3===l&&(n=normalize(t[4].value,100,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}if(o(t)){3!==l&&s.syntaxFlags.add(ue.HasNumberValues);let n=normalize(t[4].value,255,-2147483647,2147483647);return 3===l&&(n=normalize(t[4].value,1,0,1)),[e.Number,n.toString(),t[2],t[3],{value:n,type:a.Number}]}return!1}function rgb(e,a){if(e.value.some((e=>ee(e)&&s(e.value)))){const a=rgbCommaSeparated(e);if(!1!==a)return(!a.syntaxFlags.has(ue.HasNumberValues)||!a.syntaxFlags.has(ue.HasPercentageValues))&&a}else{const n=rgbSpaceSeparated(e,a);if(!1!==n)return n}return!1}function rgbCommaSeparated(e){return threeChannelLegacySyntax(e,normalize_legacy_sRGB_ChannelValues,se.RGB,[ue.LegacyRGB])}function rgbSpaceSeparated(e,a){return threeChannelSpaceSeparated(e,normalize_modern_sRGB_ChannelValues,se.RGB,[],a)}function XYZ_D50_to_sRGB_Gamut(e){const a=B(e);if(T(a))return V(a);let n=e;return n=L(n),n[0]<1e-6&&(n=[0,0,0]),n[0]>.999999&&(n=[1,0,0]),A(X(n,oklch_to_lin_srgb,lin_srgb_to_oklch))}function oklch_to_lin_srgb(e){return e=Y(e),e=K(e),I(e)}function lin_srgb_to_oklch(e){return e=O(e),e=E(e),W(e)}function contrastColor(e,a){let r=!1,o=!1;for(let t=0;t<e.value.length;t++){const l=e.value[t];if(!J(l)&&!Q(l)&&(r||(r=a(l),!r))){if(!r||o||!ee(l)||!n(l.value)||\"max\"!==toLowerCaseAZ(l.value[4].value))return!1;o=!0}}if(!r||!o)return!1;r.channels=convertNaNToZero(r.channels),r.channels=XYZ_D50_to_sRGB_Gamut(colorData_to_XYZ_D50(r).channels),r.colorNotation=se.sRGB;const t={colorNotation:se.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([ue.ContrastColor,ue.Experimental])},l=U(r.channels,[1,1,1]),s=U(r.channels,[0,0,0]);return t.channels=l>s?[1,1,1]:[0,0,0],t}function XYZ_D50_to_P3_Gamut(e){const a=M(e);if(T(a))return V(a);let n=e;return n=L(n),n[0]<1e-6&&(n=[0,0,0]),n[0]>.999999&&(n=[1,0,0]),$(X(n,oklch_to_lin_p3,lin_p3_to_oklch))}function oklch_to_lin_p3(e){return e=Y(e),e=K(e),j(e)}function lin_p3_to_oklch(e){return e=q(e),e=E(e),W(e)}function toPrecision(e,a=7){e=+e,a=+a;const n=(Math.floor(Math.abs(e))+\"\").length;if(a>n)return+e.toFixed(a-n);{const r=10**(n-a);return Math.round(e/r)*r}}function serializeWithAlpha(n,r,o,t){const l=[e.CloseParen,\")\",-1,-1,void 0];if(\"number\"==typeof n.alpha){const s=Math.min(1,Math.max(0,toPrecision(Number.isNaN(n.alpha)?0:n.alpha)));return 1===toPrecision(s,4)?new re(r,l,t):new re(r,l,[...t,new oe([o]),new ne([e.Delim,\"/\",-1,-1,{value:\"/\"}]),new oe([o]),new ne([e.Number,toPrecision(s,4).toString(),-1,-1,{value:n.alpha,type:a.Integer}])])}return new re(r,l,[...t,new oe([o]),new ne([e.Delim,\"/\",-1,-1,{value:\"/\"}]),new oe([o]),n.alpha])}function serializeP3(n,r=!0){n.channels=convertPowerlessComponentsToZeroValuesForDisplay(n.channels,n.colorNotation);let o=n.channels.map((e=>Number.isNaN(e)?0:e));r?o=XYZ_D50_to_P3_Gamut(colorData_to_XYZ_D50(n).channels):n.colorNotation!==se.Display_P3&&(o=M(colorData_to_XYZ_D50(n).channels));const t=r?Math.min(1,Math.max(0,toPrecision(o[0],6))):toPrecision(o[0],6),l=r?Math.min(1,Math.max(0,toPrecision(o[1],6))):toPrecision(o[1],6),s=r?Math.min(1,Math.max(0,toPrecision(o[2],6))):toPrecision(o[2],6),u=[e.Function,\"color(\",-1,-1,{value:\"color\"}],c=[e.Whitespace,\" \",-1,-1,void 0];return serializeWithAlpha(n,u,c,[new ne([e.Ident,\"display-p3\",-1,-1,{value:\"display-p3\"}]),new oe([c]),new ne([e.Number,t.toString(),-1,-1,{value:o[0],type:a.Number}]),new oe([c]),new ne([e.Number,l.toString(),-1,-1,{value:o[1],type:a.Number}]),new oe([c]),new ne([e.Number,s.toString(),-1,-1,{value:o[2],type:a.Number}])])}function serializeRGB(n,r=!0){n.channels=convertPowerlessComponentsToZeroValuesForDisplay(n.channels,n.colorNotation);let o=n.channels.map((e=>Number.isNaN(e)?0:e));o=r?XYZ_D50_to_sRGB_Gamut(colorData_to_XYZ_D50(n).channels):B(colorData_to_XYZ_D50(n).channels);const t=Math.min(255,Math.max(0,Math.round(255*toPrecision(o[0])))),l=Math.min(255,Math.max(0,Math.round(255*toPrecision(o[1])))),s=Math.min(255,Math.max(0,Math.round(255*toPrecision(o[2])))),u=[e.CloseParen,\")\",-1,-1,void 0],c=[e.Whitespace,\" \",-1,-1,void 0],i=[e.Comma,\",\",-1,-1,void 0],h=[new ne([e.Number,t.toString(),-1,-1,{value:Math.min(255,255*Math.max(0,o[0])),type:a.Integer}]),new ne(i),new oe([c]),new ne([e.Number,l.toString(),-1,-1,{value:Math.min(255,255*Math.max(0,o[1])),type:a.Integer}]),new ne(i),new oe([c]),new ne([e.Number,s.toString(),-1,-1,{value:Math.min(255,255*Math.max(0,o[2])),type:a.Integer}])];if(\"number\"==typeof n.alpha){const r=Math.min(1,Math.max(0,toPrecision(Number.isNaN(n.alpha)?0:n.alpha)));return 1===toPrecision(r,4)?new re([e.Function,\"rgb(\",-1,-1,{value:\"rgb\"}],u,h):new re([e.Function,\"rgba(\",-1,-1,{value:\"rgba\"}],u,[...h,new ne(i),new oe([c]),new ne([e.Number,toPrecision(r,4).toString(),-1,-1,{value:n.alpha,type:a.Number}])])}return new re([e.Function,\"rgba(\",-1,-1,{value:\"rgba\"}],u,[...h,new ne(i),new oe([c]),n.alpha])}function serializeHSL(n,r=!0){n.channels=convertPowerlessComponentsToZeroValuesForDisplay(n.channels,n.colorNotation);let o=n.channels.map((e=>Number.isNaN(e)?0:e));o=z(r?w(XYZ_D50_to_sRGB_Gamut(colorData_to_XYZ_D50(n).channels)):colorData_to_XYZ_D50(n).channels),o=o.map((e=>Number.isNaN(e)?0:e));const t=Math.min(360,Math.max(0,Math.round(toPrecision(o[0])))),l=Math.min(100,Math.max(0,Math.round(toPrecision(o[1])))),s=Math.min(100,Math.max(0,Math.round(toPrecision(o[2])))),u=[e.CloseParen,\")\",-1,-1,void 0],c=[e.Whitespace,\" \",-1,-1,void 0],i=[e.Comma,\",\",-1,-1,void 0],h=[new ne([e.Number,t.toString(),-1,-1,{value:o[0],type:a.Integer}]),new ne(i),new oe([c]),new ne([e.Percentage,l.toString()+\"%\",-1,-1,{value:o[1]}]),new ne(i),new oe([c]),new ne([e.Percentage,s.toString()+\"%\",-1,-1,{value:o[2]}])];if(\"number\"==typeof n.alpha){const r=Math.min(1,Math.max(0,toPrecision(Number.isNaN(n.alpha)?0:n.alpha)));return 1===toPrecision(r,4)?new re([e.Function,\"hsl(\",-1,-1,{value:\"hsl\"}],u,h):new re([e.Function,\"hsla(\",-1,-1,{value:\"hsla\"}],u,[...h,new ne(i),new oe([c]),new ne([e.Number,toPrecision(r,4).toString(),-1,-1,{value:n.alpha,type:a.Number}])])}return new re([e.Function,\"hsla(\",-1,-1,{value:\"hsla\"}],u,[...h,new ne(i),new oe([c]),n.alpha])}function serializeOKLCH(n){n.channels=convertPowerlessComponentsToZeroValuesForDisplay(n.channels,n.colorNotation);let r=n.channels.map((e=>Number.isNaN(e)?0:e));n.colorNotation!==se.OKLCH&&(r=L(colorData_to_XYZ_D50(n).channels));const o=toPrecision(r[0],6),t=toPrecision(r[1],6),l=toPrecision(r[2],6),s=[e.Function,\"oklch(\",-1,-1,{value:\"oklch\"}],u=[e.Whitespace,\" \",-1,-1,void 0];return serializeWithAlpha(n,s,u,[new ne([e.Number,o.toString(),-1,-1,{value:r[0],type:a.Number}]),new oe([u]),new ne([e.Number,t.toString(),-1,-1,{value:r[1],type:a.Number}]),new oe([u]),new ne([e.Number,l.toString(),-1,-1,{value:r[2],type:a.Number}])])}function color(e){if(ae(e)){switch(toLowerCaseAZ(e.getName())){case\"rgb\":case\"rgba\":return rgb(e,color);case\"hsl\":case\"hsla\":return hsl(e,color);case\"hwb\":return a=color,threeChannelSpaceSeparated(e,normalize_HWB_ChannelValues,se.HWB,[],a);case\"lab\":return lab(e,color);case\"lch\":return lch(e,color);case\"oklab\":return oklab(e,color);case\"oklch\":return oklch(e,color);case\"color\":return color$1(e,color);case\"color-mix\":return colorMix(e,color);case\"contrast-color\":return contrastColor(e,color)}}var a;if(ee(e)){if(c(e.value))return hex(e.value);if(n(e.value)){const a=namedColor(e.value[4].value);return!1!==a?a:\"transparent\"===toLowerCaseAZ(e.value[4].value)&&{colorNotation:se.RGB,channels:[0,0,0],alpha:0,syntaxFlags:new Set([ue.ColorKeyword])}}}return!1}export{se as ColorNotation,ue as SyntaxFlag,color,colorDataFitsDisplayP3_Gamut,colorDataFitsRGB_Gamut,serializeHSL,serializeOKLCH,serializeP3,serializeRGB};\n","/**\n * relative-color.js\n */\n\nimport { SyntaxFlag, color as colorParser } from '@csstools/css-color-parser';\nimport { parseComponentValue } from '@csstools/css-parser-algorithms';\nimport { TokenType, tokenize } from '@csstools/css-tokenizer';\nimport { LRUCache } from 'lru-cache';\nimport { isString } from './common';\nimport { colorToRgb } from './convert';\nimport { resolveDimension, serializeCalc } from './css-calc';\nimport { resolve } from './resolve';\nimport { roundToPrecision, valueToJsonString } from './util';\n\n/* types */\nimport type { ComponentValue } from '@csstools/css-parser-algorithms';\nimport type { CSSToken } from '@csstools/css-tokenizer';\n\n/* constants */\nimport {\n  CS_LAB,\n  CS_LCH,\n  FN_REL,\n  FN_REL_CAPT,\n  FN_VAR,\n  NONE,\n  SYN_COLOR_TYPE,\n  SYN_FN_MATH,\n  SYN_FN_VAR,\n  SYN_MIX,\n  VAL_SPEC\n} from './constant';\nimport { NAMED_COLORS } from './color';\nconst {\n  CloseParen: PAREN_CLOSE,\n  Comment: COMMENT,\n  Dimension: DIM,\n  EOF,\n  Function: FUNC,\n  Ident: IDENT,\n  Number: NUM,\n  OpenParen: PAREN_OPEN,\n  Percentage: PCT,\n  Whitespace: W_SPACE\n} = TokenType;\nconst { HasNoneKeywords: NONE_KEY } = SyntaxFlag;\nconst OCT = 8;\nconst DEC = 10;\nconst HEX = 16;\nconst MAX_PCT = 100;\nconst MAX_RGB = 255;\n\n/* regexp */\nconst REG_COLOR_CAPT = new RegExp(\n  `^${FN_REL}(${SYN_COLOR_TYPE}|${SYN_MIX})\\\\s+`\n);\nconst REG_CS_HSL = /(?:hsla?|hwb)$/;\nconst REG_CS_CIE = new RegExp(`^(?:${CS_LAB}|${CS_LCH})$`);\nconst REG_FN_VAR = new RegExp(SYN_FN_VAR);\nconst REG_REL = new RegExp(FN_REL);\nconst REG_REL_CAPT = new RegExp(`^${FN_REL_CAPT}`);\nconst REG_START_MATH = new RegExp(SYN_FN_MATH);\nconst REG_START_REL = new RegExp(`^${FN_REL}`);\n\n/* cached results */\nexport const cachedResults = new LRUCache({\n  max: 4096\n});\n\n/**\n * resolve relative color channels\n * @param {Array.<Array>} tokens - tokens\n * @param {object} [opt] - options\n * @param {string} [opt.colorSpace] - color space\n * @returns {?Array.<string>} - resolved channels\n */\nexport function resolveColorChannels(\n  tokens: Array<CSSToken>,\n  opt: {\n    colorSpace?: string;\n    currentColor?: string;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<string> | null {\n  if (!Array.isArray(tokens)) {\n    throw new TypeError(`${tokens} is not an array.`);\n  }\n  const { colorSpace, format } = opt;\n  const colorChannels = new Map([\n    ['color', ['r', 'g', 'b', 'alpha']],\n    ['hsl', ['h', 's', 'l', 'alpha']],\n    ['hsla', ['h', 's', 'l', 'alpha']],\n    ['hwb', ['h', 'w', 'b', 'alpha']],\n    ['lab', ['l', 'a', 'b', 'alpha']],\n    ['lch', ['l', 'c', 'h', 'alpha']],\n    ['oklab', ['l', 'a', 'b', 'alpha']],\n    ['oklch', ['l', 'c', 'h', 'alpha']],\n    ['rgb', ['r', 'g', 'b', 'alpha']],\n    ['rgba', ['r', 'g', 'b', 'alpha']]\n  ]);\n  const colorChannel = colorChannels.get(colorSpace as string);\n  const mathFunc = new Set();\n  const channels = [[], [], [], []] as Array<Array<string | number>>;\n  let i = 0;\n  let nest = 0;\n  let func = false;\n  while (tokens.length) {\n    const token = tokens.shift();\n    if (!Array.isArray(token)) {\n      throw new TypeError(`${token} is not an array.`);\n    }\n    const [type, value, , , detail = {}] = token;\n    const numValue = (\n      detail as {\n        value?: number;\n      }\n    )?.value as number | undefined;\n    const channel = channels[i]!;\n    switch (type as string) {\n      case DIM: {\n        let resolvedValue = resolveDimension(token, opt) as string | null;\n        if (!resolvedValue) {\n          resolvedValue = value as string;\n        }\n        channel.push(resolvedValue as string);\n        break;\n      }\n      case FUNC: {\n        channel.push(value);\n        func = true;\n        nest++;\n        if (REG_START_MATH.test(value)) {\n          mathFunc.add(nest);\n        }\n        break;\n      }\n      case IDENT: {\n        // invalid channel key\n        if (!colorChannel || !colorChannel.includes(value)) {\n          return null;\n        }\n        channel.push(value);\n        if (!func) {\n          i++;\n        }\n        break;\n      }\n      case NUM: {\n        const n = numValue ?? parseFloat(value);\n        channel.push(n);\n        if (!func) {\n          i++;\n        }\n        break;\n      }\n      case PAREN_OPEN: {\n        channel.push(value);\n        nest++;\n        break;\n      }\n      case PAREN_CLOSE: {\n        if (func) {\n          const lastValue = channel[channel.length - 1] as string | number;\n          if (lastValue === ' ') {\n            channel.splice(-1, 1, value);\n          } else {\n            channel.push(value);\n          }\n          if (mathFunc.has(nest)) {\n            mathFunc.delete(nest);\n          }\n          nest--;\n          if (nest === 0) {\n            func = false;\n            i++;\n          }\n        }\n        break;\n      }\n      case PCT: {\n        const n = numValue ?? parseFloat(value);\n        channel.push(n / MAX_PCT);\n        if (!func) {\n          i++;\n        }\n        break;\n      }\n      case W_SPACE: {\n        if (channel.length && func) {\n          const lastValue = channel[channel.length - 1] as string | number;\n          if (typeof lastValue === 'number') {\n            channel.push(value);\n          } else if (\n            isString(lastValue) &&\n            !lastValue.endsWith('(') &&\n            lastValue !== ' '\n          ) {\n            channel.push(value);\n          }\n        }\n        break;\n      }\n      default: {\n        if (type !== COMMENT && type !== EOF && func) {\n          channel.push(value);\n        }\n      }\n    }\n  }\n  const channelValues = [];\n  for (const channel of channels) {\n    if (channel.length === 1) {\n      const [resolvedValue] = channel;\n      channelValues.push(resolvedValue as string);\n    } else if (channel.length) {\n      const resolvedValue = serializeCalc(channel.join(''), {\n        format\n      });\n      if (resolvedValue) {\n        channelValues.push(resolvedValue);\n      } else {\n        return null;\n      }\n    }\n  }\n  return channelValues;\n}\n\n/**\n * extract origin color\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.currentColor] - current color value\n * @returns {?string} - value\n */\nexport function extractOriginColor(\n  value: string,\n  opt: {\n    colorSpace?: string;\n    currentColor?: string;\n    dimension?: object;\n    format?: string;\n  } = {}\n): string | null {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n    if (!value) {\n      return null;\n    }\n    if (!REG_START_REL.test(value)) {\n      return value;\n    }\n  } else {\n    return null;\n  }\n  const { currentColor, format } = opt;\n  const cacheKey = `{preProcess:${value},opt:${valueToJsonString(opt)}}`;\n  if (cachedResults.has(cacheKey)) {\n    return cachedResults.get(cacheKey) as string | null;\n  }\n  if (/currentcolor/.test(value)) {\n    if (currentColor) {\n      value = value.replace(/currentcolor/g, currentColor);\n    } else {\n      if (cacheKey) {\n        cachedResults.set(cacheKey, null!);\n      }\n      return null;\n    }\n  }\n  const cs = value.match(REG_REL_CAPT);\n  let colorSpace: string;\n  if (cs) {\n    [, colorSpace] = cs as [string, string];\n  } else {\n    return null;\n  }\n  opt.colorSpace = colorSpace;\n  if (REG_COLOR_CAPT.test(value)) {\n    const [, originColor] = value.match(REG_COLOR_CAPT) as [string, string];\n    const [, restValue] = value.split(originColor);\n    if (/^[a-z]+$/.test(originColor)) {\n      if (\n        !/^transparent$/.test(originColor) &&\n        !Object.prototype.hasOwnProperty.call(NAMED_COLORS, originColor)\n      ) {\n        if (cacheKey) {\n          cachedResults.set(cacheKey, null!);\n        }\n        return null;\n      }\n    } else if (format === VAL_SPEC) {\n      const resolvedOriginColor = resolve(originColor, opt) as string;\n      value = value.replace(originColor, resolvedOriginColor);\n    }\n    if (format === VAL_SPEC) {\n      const tokens = tokenize({ css: restValue as string });\n      const channelValues = resolveColorChannels(\n        tokens,\n        opt\n      ) as Array<string> | null;\n      if (!Array.isArray(channelValues)) {\n        if (cacheKey) {\n          cachedResults.set(cacheKey, null!);\n        }\n        return null;\n      }\n      let channelValue;\n      if (channelValues.length === 3) {\n        channelValue = ` ${channelValues.join(' ')})`;\n      } else {\n        const [v1, v2, v3, v4] = channelValues as [\n          string,\n          string,\n          string,\n          string\n        ];\n        channelValue = ` ${v1} ${v2} ${v3} / ${v4})`;\n      }\n      value = value.replace(restValue!, channelValue);\n    }\n    // nested relative color\n  } else {\n    const [, restValue] = value.split(REG_START_REL) as [string, string];\n    if (REG_START_REL.test(restValue)) {\n      const tokens = tokenize({ css: restValue });\n      const originColor = [] as Array<string>;\n      let nest = 0;\n      while (tokens.length) {\n        const token = tokens.shift();\n        const [type, tokenValue] = token as [TokenType, string];\n        switch (type) {\n          case FUNC:\n          case PAREN_OPEN: {\n            originColor.push(tokenValue);\n            nest++;\n            break;\n          }\n          case PAREN_CLOSE: {\n            const lastValue = originColor[originColor.length - 1] as string;\n            if (lastValue === ' ') {\n              originColor.splice(-1, 1, tokenValue);\n            } else {\n              originColor.push(tokenValue);\n            }\n            nest--;\n            break;\n          }\n          case W_SPACE: {\n            const lastValue = originColor[originColor.length - 1] as string;\n            if (!lastValue.endsWith('(') && lastValue !== ' ') {\n              originColor.push(tokenValue);\n            }\n            break;\n          }\n          default: {\n            if (type !== COMMENT && type !== EOF) {\n              originColor.push(tokenValue);\n            }\n          }\n        }\n        if (nest === 0) {\n          break;\n        }\n      }\n      const resolvedOriginColor = resolveRelativeColor(\n        originColor.join('').trim(),\n        opt\n      ) as string | null;\n      if (!resolvedOriginColor) {\n        if (cacheKey) {\n          cachedResults.set(cacheKey, null!);\n        }\n        return null;\n      }\n      const channelValues = resolveColorChannels(\n        tokens,\n        opt\n      ) as Array<string> | null;\n      if (!Array.isArray(channelValues)) {\n        if (cacheKey) {\n          cachedResults.set(cacheKey, null!);\n        }\n        return null;\n      }\n      let channelValue;\n      if (channelValues.length === 3) {\n        channelValue = ` ${channelValues.join(' ')})`;\n      } else {\n        const [v1, v2, v3, v4] = channelValues as [\n          string,\n          string,\n          string,\n          string\n        ];\n        channelValue = ` ${v1} ${v2} ${v3} / ${v4})`;\n      }\n      value = value.replace(restValue, `${resolvedOriginColor}${channelValue}`);\n    }\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, value);\n  }\n  return value;\n}\n\n/**\n * resolve relative color\n * @param {string} value - relative color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {?string} - value\n */\nexport function resolveRelativeColor(\n  value: string,\n  opt: {\n    colorSpace?: string;\n    currentColor?: string;\n    dimension?: object;\n    format?: string;\n  } = {}\n): string | null {\n  const { format } = opt;\n  if (isString(value)) {\n    if (REG_FN_VAR.test(value)) {\n      if (format === VAL_SPEC) {\n        return value;\n        // var() must be resolved before resolveRelativeColor()\n      } else {\n        throw new SyntaxError(`Unexpected token ${FN_VAR} found.`);\n      }\n    } else if (!REG_REL.test(value)) {\n      return value;\n    }\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string`);\n  }\n  const cacheKey = `{relativeColor:${value},opt:${valueToJsonString(opt)}}`;\n  if (cachedResults.has(cacheKey)) {\n    return cachedResults.get(cacheKey) as string | null;\n  }\n  const originColor = extractOriginColor(value, opt);\n  if (originColor) {\n    value = originColor;\n  } else {\n    if (cacheKey) {\n      cachedResults.set(cacheKey, null!);\n    }\n    return null;\n  }\n  if (format === VAL_SPEC) {\n    if (value.startsWith('rgba(')) {\n      value = value.replace(/^rgba\\(/, 'rgb(');\n    } else if (value.startsWith('hsla(')) {\n      value = value.replace(/^hsla\\(/, 'hsl(');\n    }\n    return value;\n  }\n  const tokens = tokenize({ css: value });\n  const components = parseComponentValue(tokens);\n  const parsedComponents = colorParser(components as ComponentValue);\n  if (!parsedComponents) {\n    if (cacheKey) {\n      cachedResults.set(cacheKey, null!);\n    }\n    return null;\n  }\n  const {\n    alpha: alphaComponent,\n    channels: channelsComponent,\n    colorNotation,\n    syntaxFlags\n  } = parsedComponents;\n  let alpha: number | string;\n  if (Number.isNaN(Number(alphaComponent))) {\n    if (syntaxFlags instanceof Set && syntaxFlags.has(NONE_KEY)) {\n      alpha = NONE;\n    } else {\n      alpha = 0;\n    }\n  } else {\n    alpha = roundToPrecision(alphaComponent as number, OCT);\n  }\n  let v1: number | string;\n  let v2: number | string;\n  let v3: number | string;\n  [v1, v2, v3] = channelsComponent;\n  let resolvedValue;\n  if (REG_CS_CIE.test(colorNotation)) {\n    const hasNone = syntaxFlags instanceof Set && syntaxFlags.has(NONE_KEY);\n    if (Number.isNaN(v1)) {\n      if (hasNone) {\n        v1 = NONE;\n      } else {\n        v1 = 0;\n      }\n    } else {\n      v1 = roundToPrecision(v1, HEX);\n    }\n    if (Number.isNaN(v2)) {\n      if (hasNone) {\n        v2 = NONE;\n      } else {\n        v2 = 0;\n      }\n    } else {\n      v2 = roundToPrecision(v2, HEX);\n    }\n    if (Number.isNaN(v3)) {\n      if (hasNone) {\n        v3 = NONE;\n      } else {\n        v3 = 0;\n      }\n    } else {\n      v3 = roundToPrecision(v3, HEX);\n    }\n    if (alpha === 1) {\n      resolvedValue = `${colorNotation}(${v1} ${v2} ${v3})`;\n    } else {\n      resolvedValue = `${colorNotation}(${v1} ${v2} ${v3} / ${alpha})`;\n    }\n  } else if (REG_CS_HSL.test(colorNotation)) {\n    if (Number.isNaN(v1)) {\n      v1 = 0;\n    }\n    if (Number.isNaN(v2)) {\n      v2 = 0;\n    }\n    if (Number.isNaN(v3)) {\n      v3 = 0;\n    }\n    let [r, g, b] = colorToRgb(\n      `${colorNotation}(${v1} ${v2} ${v3} / ${alpha})`\n    ) as [number, number, number];\n    r = roundToPrecision(r / MAX_RGB, DEC);\n    g = roundToPrecision(g / MAX_RGB, DEC);\n    b = roundToPrecision(b / MAX_RGB, DEC);\n    if (alpha === 1) {\n      resolvedValue = `color(srgb ${r} ${g} ${b})`;\n    } else {\n      resolvedValue = `color(srgb ${r} ${g} ${b} / ${alpha})`;\n    }\n  } else {\n    const cs = colorNotation === 'rgb' ? 'srgb' : colorNotation;\n    const hasNone = syntaxFlags instanceof Set && syntaxFlags.has(NONE_KEY);\n    if (Number.isNaN(v1)) {\n      if (hasNone) {\n        v1 = NONE;\n      } else {\n        v1 = 0;\n      }\n    } else {\n      v1 = roundToPrecision(v1, DEC);\n    }\n    if (Number.isNaN(v2)) {\n      if (hasNone) {\n        v2 = NONE;\n      } else {\n        v2 = 0;\n      }\n    } else {\n      v2 = roundToPrecision(v2, DEC);\n    }\n    if (Number.isNaN(v3)) {\n      if (hasNone) {\n        v3 = NONE;\n      } else {\n        v3 = 0;\n      }\n    } else {\n      v3 = roundToPrecision(v3, DEC);\n    }\n    if (alpha === 1) {\n      resolvedValue = `color(${cs} ${v1} ${v2} ${v3})`;\n    } else {\n      resolvedValue = `color(${cs} ${v1} ${v2} ${v3} / ${alpha})`;\n    }\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, resolvedValue);\n  }\n  return resolvedValue;\n}\n","/**\n * resolve.js\n */\n\nimport { LRUCache } from 'lru-cache';\nimport {\n  convertRgbToHex,\n  resolveColorFunc,\n  resolveColorMix,\n  resolveColorValue\n} from './color';\nimport { isString } from './common';\nimport { cssCalc } from './css-calc';\nimport { cssVar } from './css-var';\nimport { resolveRelativeColor } from './relative-color';\nimport { valueToJsonString } from './util';\n\n/* constants */\nimport {\n  FN_COLOR,\n  FN_MIX,\n  SYN_FN_MATH_CALC,\n  SYN_FN_REL,\n  SYN_FN_VAR,\n  VAL_COMP,\n  VAL_SPEC\n} from './constant.js';\n\nconst RGB_TRANSPARENT = 'rgba(0, 0, 0, 0)';\n\n/* regexp */\nconst REG_FN_MATH_CALC = new RegExp(SYN_FN_MATH_CALC);\nconst REG_FN_REL = new RegExp(SYN_FN_REL);\nconst REG_FN_VAR = new RegExp(SYN_FN_VAR);\n\n/* cached results */\nexport const cachedResults = new LRUCache({\n  max: 4096\n});\n\n/**\n * resolve CSS color\n * @param {string} color - color value\n *   - system colors are not supported\n * @param {object} [opt] - options\n * @param {string} [opt.currentColor]\n *   - color to use for `currentcolor` keyword\n *   - if omitted, it will be treated as a missing color\n *     i.e. `rgb(none none none / none)`\n * @param {object} [opt.customProperty]\n *   - custom properties\n *   - pair of `--` prefixed property name and value,\n *     e.g. `customProperty: { '--some-color': '#0000ff' }`\n *   - and/or `callback` function to get the value of the custom property,\n *     e.g. `customProperty: { callback: someDeclaration.getPropertyValue }`\n * @param {object} [opt.dimension]\n *   - dimension, convert relative length to pixels\n *   - pair of unit and it's value as a number in pixels,\n *     e.g. `dimension: { em: 12, rem: 16, vw: 10.26 }`\n *   - and/or `callback` function to get the value as a number in pixels,\n *     e.g. `dimension: { callback: convertUnitToPixel }`\n * @param {string} [opt.format]\n *   - output format, one of below\n *   - `computedValue` (default), [computed value][139] of the color\n *   - `specifiedValue`, [specified value][140] of the color\n *   - `hex`, hex color notation, i.e. `rrggbb`\n *   - `hexAlpha`, hex color notation with alpha channel, i.e. `#rrggbbaa`\n * @param {*} [opt.key] - key e.g. CSS property `background-color`\n * @returns {?string|Array}\n *   - one of rgba?(), #rrggbb(aa)?, color-name, '(empty-string)',\n *     color(color-space r g b / alpha), color(color-space x y z / alpha),\n *     lab(l a b / alpha), lch(l c h / alpha), oklab(l a b / alpha),\n *     oklch(l c h / alpha), null or [key, rgba?()] etc. if `key` is specified\n *   - in `computedValue`, values are numbers, however `rgb()` values are\n *     integers\n *   - in `specifiedValue`, returns `empty string` for unknown and/or invalid\n *     color\n *   - in `hex`, returns `null` for `transparent`, and also returns `null` if\n *     any of `r`, `g`, `b`, `alpha` is not a number\n *   - in `hexAlpha`, returns `#00000000` for `transparent`,\n *     however returns `null` if any of `r`, `g`, `b`, `alpha` is not a number\n */\nexport const resolve = (\n  color: string,\n  opt: {\n    currentColor?: string;\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n    key?: any;\n  } = {}\n): (string | Array<any>) | null => {\n  if (isString(color)) {\n    color = color.trim();\n  } else {\n    throw new TypeError(`${color} is not a string.`);\n  }\n  const { currentColor, customProperty = {}, format = VAL_COMP, key } = opt;\n  let cacheKey;\n  if (\n    !REG_FN_VAR.test(color) ||\n    typeof (customProperty as { callback?: (value: string) => string })\n      .callback === 'function'\n  ) {\n    cacheKey = `{resolve:${color},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as string | Array<any>;\n    }\n  }\n  let res, cs, r, g, b, alpha;\n  if (REG_FN_VAR.test(color)) {\n    if (format === VAL_SPEC) {\n      if (cacheKey) {\n        cachedResults.set(cacheKey, color);\n      }\n      return color;\n    }\n    const resolvedColor = cssVar(color, opt);\n    if (resolvedColor) {\n      color = resolvedColor;\n    } else {\n      switch (format) {\n        case 'hex':\n        case 'hexAlpha': {\n          if (cacheKey) {\n            cachedResults.set(cacheKey, null!);\n          }\n          return null;\n        }\n        default: {\n          res = RGB_TRANSPARENT;\n          if (cacheKey) {\n            cachedResults.set(cacheKey, res);\n          }\n          return res;\n        }\n      }\n    }\n  }\n  if (opt.format !== format) {\n    opt.format = format;\n  }\n  color = color.toLowerCase();\n  if (REG_FN_REL.test(color)) {\n    const resolvedColor = resolveRelativeColor(color, opt) as string | null;\n    if (format === VAL_COMP) {\n      if (resolvedColor) {\n        res = resolvedColor;\n      } else {\n        res = RGB_TRANSPARENT;\n      }\n      if (cacheKey) {\n        cachedResults.set(cacheKey, res);\n      }\n      return res;\n    }\n    if (format === VAL_SPEC) {\n      if (resolvedColor) {\n        res = resolvedColor;\n      } else {\n        res = '';\n      }\n      if (cacheKey) {\n        cachedResults.set(cacheKey, res);\n      }\n      return res;\n    }\n    if (resolvedColor) {\n      color = resolvedColor;\n    } else {\n      color = '';\n    }\n  }\n  if (REG_FN_MATH_CALC.test(color)) {\n    const resolvedColor = cssCalc(color, opt) as string | null;\n    if (resolvedColor) {\n      color = resolvedColor;\n    } else {\n      color = '';\n    }\n  }\n  if (color === 'transparent') {\n    switch (format) {\n      case VAL_SPEC: {\n        if (cacheKey) {\n          cachedResults.set(cacheKey, color);\n        }\n        return color;\n      }\n      case 'hex': {\n        if (cacheKey) {\n          cachedResults.set(cacheKey, null!);\n        }\n        return null;\n      }\n      case 'hexAlpha': {\n        res = '#00000000';\n        if (cacheKey) {\n          cachedResults.set(cacheKey, res);\n        }\n        return res;\n      }\n      case VAL_COMP:\n      default: {\n        res = RGB_TRANSPARENT;\n        if (cacheKey) {\n          cachedResults.set(cacheKey, res);\n        }\n        return res;\n      }\n    }\n  } else if (color === 'currentcolor') {\n    if (format === VAL_SPEC) {\n      if (cacheKey) {\n        cachedResults.set(cacheKey, color);\n      }\n      return color;\n    }\n    if (currentColor) {\n      if (currentColor.startsWith(FN_MIX)) {\n        [cs, r, g, b, alpha] = resolveColorMix(currentColor, opt) as [\n          string,\n          number,\n          number,\n          number,\n          number\n        ];\n      } else if (currentColor.startsWith(FN_COLOR)) {\n        [cs, r, g, b, alpha] = resolveColorFunc(currentColor, opt) as [\n          string,\n          number,\n          number,\n          number,\n          number\n        ];\n      } else {\n        [cs, r, g, b, alpha] = resolveColorValue(currentColor, opt) as [\n          string,\n          number,\n          number,\n          number,\n          number\n        ];\n      }\n    } else if (format === VAL_COMP) {\n      res = RGB_TRANSPARENT;\n      if (cacheKey) {\n        cachedResults.set(cacheKey, res);\n      }\n      return res;\n    }\n  } else if (format === VAL_SPEC) {\n    if (color.startsWith(FN_MIX)) {\n      res = resolveColorMix(color, opt);\n      if (cacheKey) {\n        cachedResults.set(cacheKey, res!);\n      }\n      return res;\n    } else if (color.startsWith(FN_COLOR)) {\n      [cs, r, g, b, alpha] = resolveColorFunc(color, opt) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n      if (alpha === 1) {\n        res = `color(${cs} ${r} ${g} ${b})`;\n      } else {\n        res = `color(${cs} ${r} ${g} ${b} / ${alpha})`;\n      }\n      if (cacheKey) {\n        cachedResults.set(cacheKey, res);\n      }\n      return res;\n    } else {\n      const rgb = resolveColorValue(color, opt);\n      if (!rgb) {\n        res = '';\n        if (cacheKey) {\n          cachedResults.set(cacheKey, res);\n        }\n        return res;\n      }\n      [cs, r, g, b, alpha] = rgb;\n      if (cs === 'rgb') {\n        if (alpha === 1) {\n          res = `${cs}(${r}, ${g}, ${b})`;\n        } else {\n          res = `${cs}a(${r}, ${g}, ${b}, ${alpha})`;\n        }\n        if (cacheKey) {\n          cachedResults.set(cacheKey, res);\n        }\n        return res;\n      }\n      if (alpha === 1) {\n        res = `${cs}(${r} ${g} ${b})`;\n      } else {\n        res = `${cs}(${r} ${g} ${b} / ${alpha})`;\n      }\n      if (cacheKey) {\n        cachedResults.set(cacheKey, res);\n      }\n      return res;\n    }\n  } else if (/currentcolor/.test(color)) {\n    if (currentColor) {\n      color = color.replace(/currentcolor/g, currentColor);\n    }\n    if (/transparent/.test(color)) {\n      color = color.replace(/transparent/g, RGB_TRANSPARENT);\n    }\n    if (color.startsWith(FN_MIX)) {\n      [cs, r, g, b, alpha] = resolveColorMix(color, opt) as [\n        string,\n        number,\n        number,\n        number,\n        number\n      ];\n    }\n  } else if (/transparent/.test(color)) {\n    color = color.replace(/transparent/g, RGB_TRANSPARENT);\n    if (color.startsWith(FN_MIX)) {\n      [cs, r, g, b, alpha] = resolveColorMix(color, opt) as [\n        string,\n        number,\n        number,\n        number,\n        number\n      ];\n    }\n  } else if (color.startsWith(FN_MIX)) {\n    [cs, r, g, b, alpha] = resolveColorMix(color, opt) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else if (color.startsWith(FN_COLOR)) {\n    [cs, r, g, b, alpha] = resolveColorFunc(color, opt) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else if (color) {\n    [cs, r, g, b, alpha] = resolveColorValue(color, opt) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  switch (format) {\n    case 'hex': {\n      let hex;\n      if (\n        isNaN(r as number) ||\n        isNaN(g as number) ||\n        isNaN(b as number) ||\n        isNaN(alpha as number) ||\n        alpha === 0\n      ) {\n        hex = null;\n      } else {\n        hex = convertRgbToHex([r as number, g as number, b as number]);\n      }\n      if (key) {\n        res = [key, hex];\n      } else {\n        res = hex;\n      }\n      break;\n    }\n    case 'hexAlpha': {\n      let hex;\n      if (\n        isNaN(r as number) ||\n        isNaN(g as number) ||\n        isNaN(b as number) ||\n        isNaN(alpha as number)\n      ) {\n        hex = null;\n      } else {\n        hex = convertRgbToHex([\n          r as number,\n          g as number,\n          b as number,\n          alpha as number\n        ]);\n      }\n      if (key) {\n        res = [key, hex];\n      } else {\n        res = hex;\n      }\n      break;\n    }\n    case VAL_COMP:\n    default: {\n      let value;\n      switch (cs) {\n        case 'rgb': {\n          if (alpha === 1) {\n            value = `${cs}(${r}, ${g}, ${b})`;\n          } else {\n            value = `${cs}a(${r}, ${g}, ${b}, ${alpha})`;\n          }\n          break;\n        }\n        case 'lab':\n        case 'lch':\n        case 'oklab':\n        case 'oklch': {\n          if (alpha === 1) {\n            value = `${cs}(${r} ${g} ${b})`;\n          } else {\n            value = `${cs}(${r} ${g} ${b} / ${alpha})`;\n          }\n          break;\n        }\n        // color()\n        default: {\n          if (alpha === 1) {\n            value = `color(${cs} ${r} ${g} ${b})`;\n          } else {\n            value = `color(${cs} ${r} ${g} ${b} / ${alpha})`;\n          }\n        }\n      }\n      if (key) {\n        res = [key, value];\n      } else {\n        res = value;\n      }\n    }\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, res!);\n  }\n  return res;\n};\n","/**\n * util.js\n */\n\nimport { isString } from './common';\nimport { resolve } from './resolve';\n\n/* constants */\nimport { NAMED_COLORS } from './color';\nimport { SYN_COLOR_TYPE, SYN_MIX, VAL_SPEC } from './constant';\nconst DEC = 10;\nconst HEX = 16;\nconst DEG = 360;\nconst DEG_HALF = 180;\n\n/* regexp */\nconst REG_COLOR = new RegExp(`^(?:${SYN_COLOR_TYPE})$`);\nconst REG_MIX = new RegExp(`${SYN_MIX}`);\n\n/**\n * is color\n * @param {string} value - value\n * @returns {boolean} - result\n */\nexport const isColor = (value: string): boolean => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n    if (value) {\n      if (/^[a-z]+$/.test(value)) {\n        if (\n          /^(?:currentcolor|transparent)$/.test(value) ||\n          Object.prototype.hasOwnProperty.call(NAMED_COLORS, value)\n        ) {\n          return true;\n        }\n      } else if (REG_COLOR.test(value) || REG_MIX.test(value)) {\n        return true;\n      } else {\n        const resolvedValue = resolve(value, {\n          format: VAL_SPEC\n        });\n        if (resolvedValue) {\n          return true;\n        }\n        return false;\n      }\n    }\n  }\n  return false;\n};\n\n/**\n * value to JSON string\n * @param {*} value - value\n * @param {boolean} func - stringify function\n * @returns {string} - stringified value in JSON notation\n */\nexport const valueToJsonString = (\n  value: any,\n  func: boolean = false\n): string => {\n  if (typeof value === 'undefined') {\n    return '';\n  }\n  const res = JSON.stringify(value, (_key, val) => {\n    let replacedValue;\n    if (typeof val === 'undefined') {\n      replacedValue = null;\n    } else if (typeof val === 'function') {\n      if (func) {\n        replacedValue = val.toString();\n      } else {\n        replacedValue = val.name;\n      }\n    } else if (val instanceof Map || val instanceof Set) {\n      replacedValue = [...val];\n    } else if (typeof val === 'bigint') {\n      replacedValue = val.toString();\n    } else {\n      replacedValue = val;\n    }\n    return replacedValue;\n  });\n  return res;\n};\n\n/**\n * round to specified precision\n * @param {number} value - value\n * @param {number} bit - minimum bits\n * @returns {number} - rounded value\n */\nexport const roundToPrecision = (value: number, bit: number = 0): number => {\n  if (!Number.isFinite(value)) {\n    throw new TypeError(`${value} is not a number.`);\n  }\n  if (!Number.isFinite(bit)) {\n    throw new TypeError(`${bit} is not a number.`);\n  } else if (bit < 0 || bit > HEX) {\n    throw new RangeError(`${bit} is not between 0 and ${HEX}.`);\n  }\n  if (bit === 0) {\n    return Math.round(value);\n  }\n  let val;\n  if (bit === HEX) {\n    val = value.toPrecision(6);\n  } else if (bit < DEC) {\n    val = value.toPrecision(4);\n  } else {\n    val = value.toPrecision(5);\n  }\n  return parseFloat(val);\n};\n\n/**\n * interpolate hue\n * @param {number} hueA - hue\n * @param {number} hueB - hue\n * @param {string} arc - arc\n * @returns {Array} - [hueA, hueB]\n */\nexport const interpolateHue = (\n  hueA: number,\n  hueB: number,\n  arc: string = 'shorter'\n): Array<number> => {\n  if (!Number.isFinite(hueA)) {\n    throw new TypeError(`${hueA} is not a number.`);\n  }\n  if (!Number.isFinite(hueB)) {\n    throw new TypeError(`${hueB} is not a number.`);\n  }\n  switch (arc) {\n    case 'decreasing': {\n      if (hueB > hueA) {\n        hueA += DEG;\n      }\n      break;\n    }\n    case 'increasing': {\n      if (hueB < hueA) {\n        hueB += DEG;\n      }\n      break;\n    }\n    case 'longer': {\n      if (hueB > hueA && hueB < hueA + DEG_HALF) {\n        hueA += DEG;\n      } else if (hueB > hueA + DEG_HALF * -1 && hueB <= hueA) {\n        hueB += DEG;\n      }\n      break;\n    }\n    case 'shorter':\n    default: {\n      if (hueB > hueA + DEG_HALF) {\n        hueA += DEG;\n      } else if (hueB < hueA + DEG_HALF * -1) {\n        hueB += DEG;\n      }\n    }\n  }\n  return [hueA, hueB];\n};\n","/**\n * color.js\n *\n * Ref: CSS Color Module Level 4\n *      Sample code for Color Conversions\n *      https://w3c.github.io/csswg-drafts/css-color-4/#color-conversion-code\n */\n\nimport { isString } from './common';\nimport { interpolateHue, roundToPrecision } from './util';\n\n/* constants */\nimport {\n  ANGLE,\n  CS_HUE_CAPT,\n  CS_MIX,\n  CS_RGB,\n  CS_XYZ,\n  FN_COLOR,\n  FN_MIX,\n  NONE,\n  NUM,\n  PCT,\n  SYN_COLOR_TYPE,\n  SYN_FN_COLOR,\n  SYN_HSL,\n  SYN_HSL_LV3,\n  SYN_LCH,\n  SYN_MIX,\n  SYN_MIX_CAPT,\n  SYN_MOD,\n  SYN_RGB_LV3,\n  VAL_COMP,\n  VAL_SPEC\n} from './constant.js';\n\nconst VAL_MIX = 'mixValue';\n\n/* numeric constants */\nconst PPTH = 0.001;\nconst HALF = 0.5;\nconst DUO = 2;\nconst TRIA = 3;\nconst QUAT = 4;\nconst OCT = 8;\nconst DEC = 10;\nconst DOZ = 12;\nconst HEX = 16;\nconst SEXA = 60;\nconst DEG = 360;\nconst MAX_PCT = 100;\nconst MAX_RGB = 255;\nconst POW_SQR = 2;\nconst POW_CUBE = 3;\nconst POW_LINEAR = 2.4;\nconst LINEAR_COEF = 12.92;\nconst LINEAR_OFFSET = 0.055;\nconst LAB_L = 116;\nconst LAB_A = 500;\nconst LAB_B = 200;\nconst LAB_EPSILON = 216 / 24389;\nconst LAB_KAPPA = 24389 / 27;\n\n/* white point */\nconst D50 = [0.3457 / 0.3585, 1.0, (1.0 - 0.3457 - 0.3585) / 0.3585];\nconst MATRIX_D50_TO_D65 = [\n  [0.955473421488075, -0.02309845494876471, 0.06325924320057072],\n  [-0.0283697093338637, 1.0099953980813041, 0.021041441191917323],\n  [0.012314014864481998, -0.020507649298898964, 1.330365926242124]\n];\nconst MATRIX_D65_TO_D50 = [\n  [1.0479297925449969, 0.022946870601609652, -0.05019226628920524],\n  [0.02962780877005599, 0.9904344267538799, -0.017073799063418826],\n  [-0.009243040646204504, 0.015055191490298152, 0.7518742814281371]\n];\n\n/* color space */\nconst MATRIX_L_RGB_TO_XYZ = [\n  [506752 / 1228815, 87881 / 245763, 12673 / 70218],\n  [87098 / 409605, 175762 / 245763, 12673 / 175545],\n  [7918 / 409605, 87881 / 737289, 1001167 / 1053270]\n];\nconst MATRIX_XYZ_TO_L_RGB = [\n  [12831 / 3959, -329 / 214, -1974 / 3959],\n  [-851781 / 878810, 1648619 / 878810, 36519 / 878810],\n  [705 / 12673, -2585 / 12673, 705 / 667]\n];\nconst MATRIX_XYZ_TO_LMS = [\n  [0.819022437996703, 0.3619062600528904, -0.1288737815209879],\n  [0.0329836539323885, 0.9292868615863434, 0.0361446663506424],\n  [0.0481771893596242, 0.2642395317527308, 0.6335478284694309]\n];\nconst MATRIX_LMS_TO_XYZ = [\n  [1.2268798758459243, -0.5578149944602171, 0.2813910456659647],\n  [-0.0405757452148008, 1.112286803280317, -0.0717110580655164],\n  [-0.0763729366746601, -0.4214933324022432, 1.5869240198367816]\n];\nconst MATRIX_OKLAB_TO_LMS = [\n  [1.0, 0.3963377773761749, 0.2158037573099136],\n  [1.0, -0.1055613458156586, -0.0638541728258133],\n  [1.0, -0.0894841775298119, -1.2914855480194092]\n];\nconst MATRIX_LMS_TO_OKLAB = [\n  [0.210454268309314, 0.7936177747023054, -0.0040720430116193],\n  [1.9779985324311684, -2.4285922420485799, 0.450593709617411],\n  [0.0259040424655478, 0.7827717124575296, -0.8086757549230774]\n];\nconst MATRIX_P3_TO_XYZ = [\n  [608311 / 1250200, 189793 / 714400, 198249 / 1000160],\n  [35783 / 156275, 247089 / 357200, 198249 / 2500400],\n  [0 / 1, 32229 / 714400, 5220557 / 5000800]\n];\nconst MATRIX_REC2020_TO_XYZ = [\n  [63426534 / 99577255, 20160776 / 139408157, 47086771 / 278816314],\n  [26158966 / 99577255, 472592308 / 697040785, 8267143 / 139408157],\n  [0 / 1, 19567812 / 697040785, 295819943 / 278816314]\n];\nconst MATRIX_A98_TO_XYZ = [\n  [573536 / 994567, 263643 / 1420810, 187206 / 994567],\n  [591459 / 1989134, 6239551 / 9945670, 374412 / 4972835],\n  [53769 / 1989134, 351524 / 4972835, 4929758 / 4972835]\n];\nconst MATRIX_PROPHOTO_TO_XYZ_D50 = [\n  [0.7977666449006423, 0.13518129740053308, 0.0313477341283922],\n\n  [0.2880748288194013, 0.711835234241873, 0.00008993693872564],\n\n  [0.0, 0.0, 0.8251046025104602]\n];\n\n/* regexp */\nconst REG_COLOR = new RegExp(`^(?:${SYN_COLOR_TYPE})$`);\nconst REG_CS_HUE = new RegExp(`^${CS_HUE_CAPT}$`);\nconst REG_CS_XYZ = /^xyz(?:-d(?:50|65))?$/;\nconst REG_CURRENT = /^currentColor$/i;\nconst REG_FN_COLOR = new RegExp(`^color\\\\(\\\\s*(${SYN_FN_COLOR})\\\\s*\\\\)$`);\nconst REG_HSL = new RegExp(`^hsla?\\\\(\\\\s*(${SYN_HSL}|${SYN_HSL_LV3})\\\\s*\\\\)$`);\nconst REG_HWB = new RegExp(`^hwb\\\\(\\\\s*(${SYN_HSL})\\\\s*\\\\)$`);\nconst REG_LAB = new RegExp(`^lab\\\\(\\\\s*(${SYN_MOD})\\\\s*\\\\)$`);\nconst REG_LCH = new RegExp(`^lch\\\\(\\\\s*(${SYN_LCH})\\\\s*\\\\)$`);\nconst REG_MIX = new RegExp(`^${SYN_MIX}$`);\nconst REG_MIX_CAPT = new RegExp(`^${SYN_MIX_CAPT}$`);\nconst REG_MIX_NEST = new RegExp(`${SYN_MIX}`, 'g');\nconst REG_OKLAB = new RegExp(`^oklab\\\\(\\\\s*(${SYN_MOD})\\\\s*\\\\)$`);\nconst REG_OKLCH = new RegExp(`^oklch\\\\(\\\\s*(${SYN_LCH})\\\\s*\\\\)$`);\nconst REG_SPEC = /^(?:specifi|comput)edValue$/;\n\n/* named colors */\nexport const NAMED_COLORS = {\n  aliceblue: [0xf0, 0xf8, 0xff],\n  antiquewhite: [0xfa, 0xeb, 0xd7],\n  aqua: [0x00, 0xff, 0xff],\n  aquamarine: [0x7f, 0xff, 0xd4],\n  azure: [0xf0, 0xff, 0xff],\n  beige: [0xf5, 0xf5, 0xdc],\n  bisque: [0xff, 0xe4, 0xc4],\n  black: [0x00, 0x00, 0x00],\n  blanchedalmond: [0xff, 0xeb, 0xcd],\n  blue: [0x00, 0x00, 0xff],\n  blueviolet: [0x8a, 0x2b, 0xe2],\n  brown: [0xa5, 0x2a, 0x2a],\n  burlywood: [0xde, 0xb8, 0x87],\n  cadetblue: [0x5f, 0x9e, 0xa0],\n  chartreuse: [0x7f, 0xff, 0x00],\n  chocolate: [0xd2, 0x69, 0x1e],\n  coral: [0xff, 0x7f, 0x50],\n  cornflowerblue: [0x64, 0x95, 0xed],\n  cornsilk: [0xff, 0xf8, 0xdc],\n  crimson: [0xdc, 0x14, 0x3c],\n  cyan: [0x00, 0xff, 0xff],\n  darkblue: [0x00, 0x00, 0x8b],\n  darkcyan: [0x00, 0x8b, 0x8b],\n  darkgoldenrod: [0xb8, 0x86, 0x0b],\n  darkgray: [0xa9, 0xa9, 0xa9],\n  darkgreen: [0x00, 0x64, 0x00],\n  darkgrey: [0xa9, 0xa9, 0xa9],\n  darkkhaki: [0xbd, 0xb7, 0x6b],\n  darkmagenta: [0x8b, 0x00, 0x8b],\n  darkolivegreen: [0x55, 0x6b, 0x2f],\n  darkorange: [0xff, 0x8c, 0x00],\n  darkorchid: [0x99, 0x32, 0xcc],\n  darkred: [0x8b, 0x00, 0x00],\n  darksalmon: [0xe9, 0x96, 0x7a],\n  darkseagreen: [0x8f, 0xbc, 0x8f],\n  darkslateblue: [0x48, 0x3d, 0x8b],\n  darkslategray: [0x2f, 0x4f, 0x4f],\n  darkslategrey: [0x2f, 0x4f, 0x4f],\n  darkturquoise: [0x00, 0xce, 0xd1],\n  darkviolet: [0x94, 0x00, 0xd3],\n  deeppink: [0xff, 0x14, 0x93],\n  deepskyblue: [0x00, 0xbf, 0xff],\n  dimgray: [0x69, 0x69, 0x69],\n  dimgrey: [0x69, 0x69, 0x69],\n  dodgerblue: [0x1e, 0x90, 0xff],\n  firebrick: [0xb2, 0x22, 0x22],\n  floralwhite: [0xff, 0xfa, 0xf0],\n  forestgreen: [0x22, 0x8b, 0x22],\n  fuchsia: [0xff, 0x00, 0xff],\n  gainsboro: [0xdc, 0xdc, 0xdc],\n  ghostwhite: [0xf8, 0xf8, 0xff],\n  gold: [0xff, 0xd7, 0x00],\n  goldenrod: [0xda, 0xa5, 0x20],\n  gray: [0x80, 0x80, 0x80],\n  green: [0x00, 0x80, 0x00],\n  greenyellow: [0xad, 0xff, 0x2f],\n  grey: [0x80, 0x80, 0x80],\n  honeydew: [0xf0, 0xff, 0xf0],\n  hotpink: [0xff, 0x69, 0xb4],\n  indianred: [0xcd, 0x5c, 0x5c],\n  indigo: [0x4b, 0x00, 0x82],\n  ivory: [0xff, 0xff, 0xf0],\n  khaki: [0xf0, 0xe6, 0x8c],\n  lavender: [0xe6, 0xe6, 0xfa],\n  lavenderblush: [0xff, 0xf0, 0xf5],\n  lawngreen: [0x7c, 0xfc, 0x00],\n  lemonchiffon: [0xff, 0xfa, 0xcd],\n  lightblue: [0xad, 0xd8, 0xe6],\n  lightcoral: [0xf0, 0x80, 0x80],\n  lightcyan: [0xe0, 0xff, 0xff],\n  lightgoldenrodyellow: [0xfa, 0xfa, 0xd2],\n  lightgray: [0xd3, 0xd3, 0xd3],\n  lightgreen: [0x90, 0xee, 0x90],\n  lightgrey: [0xd3, 0xd3, 0xd3],\n  lightpink: [0xff, 0xb6, 0xc1],\n  lightsalmon: [0xff, 0xa0, 0x7a],\n  lightseagreen: [0x20, 0xb2, 0xaa],\n  lightskyblue: [0x87, 0xce, 0xfa],\n  lightslategray: [0x77, 0x88, 0x99],\n  lightslategrey: [0x77, 0x88, 0x99],\n  lightsteelblue: [0xb0, 0xc4, 0xde],\n  lightyellow: [0xff, 0xff, 0xe0],\n  lime: [0x00, 0xff, 0x00],\n  limegreen: [0x32, 0xcd, 0x32],\n  linen: [0xfa, 0xf0, 0xe6],\n  magenta: [0xff, 0x00, 0xff],\n  maroon: [0x80, 0x00, 0x00],\n  mediumaquamarine: [0x66, 0xcd, 0xaa],\n  mediumblue: [0x00, 0x00, 0xcd],\n  mediumorchid: [0xba, 0x55, 0xd3],\n  mediumpurple: [0x93, 0x70, 0xdb],\n  mediumseagreen: [0x3c, 0xb3, 0x71],\n  mediumslateblue: [0x7b, 0x68, 0xee],\n  mediumspringgreen: [0x00, 0xfa, 0x9a],\n  mediumturquoise: [0x48, 0xd1, 0xcc],\n  mediumvioletred: [0xc7, 0x15, 0x85],\n  midnightblue: [0x19, 0x19, 0x70],\n  mintcream: [0xf5, 0xff, 0xfa],\n  mistyrose: [0xff, 0xe4, 0xe1],\n  moccasin: [0xff, 0xe4, 0xb5],\n  navajowhite: [0xff, 0xde, 0xad],\n  navy: [0x00, 0x00, 0x80],\n  oldlace: [0xfd, 0xf5, 0xe6],\n  olive: [0x80, 0x80, 0x00],\n  olivedrab: [0x6b, 0x8e, 0x23],\n  orange: [0xff, 0xa5, 0x00],\n  orangered: [0xff, 0x45, 0x00],\n  orchid: [0xda, 0x70, 0xd6],\n  palegoldenrod: [0xee, 0xe8, 0xaa],\n  palegreen: [0x98, 0xfb, 0x98],\n  paleturquoise: [0xaf, 0xee, 0xee],\n  palevioletred: [0xdb, 0x70, 0x93],\n  papayawhip: [0xff, 0xef, 0xd5],\n  peachpuff: [0xff, 0xda, 0xb9],\n  peru: [0xcd, 0x85, 0x3f],\n  pink: [0xff, 0xc0, 0xcb],\n  plum: [0xdd, 0xa0, 0xdd],\n  powderblue: [0xb0, 0xe0, 0xe6],\n  purple: [0x80, 0x00, 0x80],\n  rebeccapurple: [0x66, 0x33, 0x99],\n  red: [0xff, 0x00, 0x00],\n  rosybrown: [0xbc, 0x8f, 0x8f],\n  royalblue: [0x41, 0x69, 0xe1],\n  saddlebrown: [0x8b, 0x45, 0x13],\n  salmon: [0xfa, 0x80, 0x72],\n  sandybrown: [0xf4, 0xa4, 0x60],\n  seagreen: [0x2e, 0x8b, 0x57],\n  seashell: [0xff, 0xf5, 0xee],\n  sienna: [0xa0, 0x52, 0x2d],\n  silver: [0xc0, 0xc0, 0xc0],\n  skyblue: [0x87, 0xce, 0xeb],\n  slateblue: [0x6a, 0x5a, 0xcd],\n  slategray: [0x70, 0x80, 0x90],\n  slategrey: [0x70, 0x80, 0x90],\n  snow: [0xff, 0xfa, 0xfa],\n  springgreen: [0x00, 0xff, 0x7f],\n  steelblue: [0x46, 0x82, 0xb4],\n  tan: [0xd2, 0xb4, 0x8c],\n  teal: [0x00, 0x80, 0x80],\n  thistle: [0xd8, 0xbf, 0xd8],\n  tomato: [0xff, 0x63, 0x47],\n  turquoise: [0x40, 0xe0, 0xd0],\n  violet: [0xee, 0x82, 0xee],\n  wheat: [0xf5, 0xde, 0xb3],\n  white: [0xff, 0xff, 0xff],\n  whitesmoke: [0xf5, 0xf5, 0xf5],\n  yellow: [0xff, 0xff, 0x00],\n  yellowgreen: [0x9a, 0xcd, 0x32]\n} as const;\n\n/**\n * validate color components\n * @param {Array} arr - array of color components\n * @param {object} [opt] - options\n * @param {boolean} [opt.alpha] - alpha channel\n * @param {number} [opt.minLength] - min length\n * @param {number} [opt.maxLength] - max length\n * @param {number} [opt.minRange] - min range\n * @param {number} [opt.maxRange] - max range\n * @param {boolean} [opt.validateRange] - validate range\n * @returns {Array} - validated color components\n */\nexport const validateColorComponents = (\n  arr: Array<any>,\n  opt: {\n    alpha?: boolean;\n    minLength?: number;\n    maxLength?: number;\n    minRange?: number;\n    maxRange?: number;\n    validateRange?: boolean;\n  } = {}\n): Array<any> => {\n  if (!Array.isArray(arr)) {\n    throw new TypeError(`${arr} is not an array.`);\n  }\n  const {\n    alpha = false,\n    minLength = TRIA,\n    maxLength = QUAT,\n    minRange = 0,\n    maxRange = 1,\n    validateRange = true\n  } = opt;\n  if (!Number.isFinite(minLength)) {\n    throw new TypeError(`${minLength} is not a number.`);\n  }\n  if (!Number.isFinite(maxLength)) {\n    throw new TypeError(`${maxLength} is not a number.`);\n  }\n  if (!Number.isFinite(minRange)) {\n    throw new TypeError(`${minRange} is not a number.`);\n  }\n  if (!Number.isFinite(maxRange)) {\n    throw new TypeError(`${maxRange} is not a number.`);\n  }\n  const l = arr.length;\n  if (l < minLength || l > maxLength) {\n    throw new Error(`Unexpected array length ${l}.`);\n  }\n  let i = 0;\n  while (i < l) {\n    const v = arr[i];\n    if (!Number.isFinite(v)) {\n      throw new TypeError(`${v} is not a number.`);\n    } else if (i < TRIA && validateRange && (v < minRange || v > maxRange)) {\n      throw new RangeError(`${v} is not between ${minRange} and ${maxRange}.`);\n    } else if (i === TRIA && (v < 0 || v > 1)) {\n      throw new RangeError(`${v} is not between 0 and 1.`);\n    }\n    i++;\n  }\n  if (alpha && l === TRIA) {\n    arr.push(1);\n  }\n  return arr;\n};\n\n/**\n * transform matrix\n * @param {Array.<Array.<number>>} mtx - 3 * 3 matrix\n * @param {Array.<number>} vct - vector\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [p1, p2, p3]\n */\nexport const transformMatrix = (\n  mtx: Array<Array<number>>,\n  vct: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  if (!Array.isArray(mtx)) {\n    throw new TypeError(`${mtx} is not an array.`);\n  } else if (mtx.length !== TRIA) {\n    throw new Error(`Unexpected array length ${mtx.length}.`);\n  } else if (!skip) {\n    for (let i of mtx) {\n      i = validateColorComponents(i, {\n        maxLength: TRIA,\n        validateRange: false\n      });\n    }\n  }\n  const [[r1c1, r1c2, r1c3], [r2c1, r2c2, r2c3], [r3c1, r3c2, r3c3]] = mtx as [\n    [number, number, number],\n    [number, number, number],\n    [number, number, number]\n  ];\n  let v1, v2, v3;\n  if (skip) {\n    [v1, v2, v3] = vct;\n  } else {\n    [v1, v2, v3] = validateColorComponents(vct, {\n      maxLength: TRIA,\n      validateRange: false\n    });\n  }\n  const p1 = r1c1 * v1 + r1c2 * v2 + r1c3 * v3;\n  const p2 = r2c1 * v1 + r2c2 * v2 + r2c3 * v3;\n  const p3 = r3c1 * v1 + r3c2 * v2 + r3c3 * v3;\n  return [p1, p2, p3];\n};\n\n/**\n * normalize color components\n * @param {Array} colorA - array of color components [v1, v2, v3, v4]\n * @param {Array} colorB - array of color components [v1, v2, v3, v4]\n * @param {boolean} skip - skip validate\n * @returns {Array.<Array.<number>>} - [colorA, colorB]\n */\nexport const normalizeColorComponents = (\n  colorA: Array<any>,\n  colorB: Array<any>,\n  skip: boolean = false\n): Array<Array<number>> => {\n  if (!Array.isArray(colorA)) {\n    throw new TypeError(`${colorA} is not an array.`);\n  } else if (colorA.length !== QUAT) {\n    throw new Error(`Unexpected array length ${colorA.length}.`);\n  }\n  if (!Array.isArray(colorB)) {\n    throw new TypeError(`${colorB} is not an array.`);\n  } else if (colorB.length !== QUAT) {\n    throw new Error(`Unexpected array length ${colorB.length}.`);\n  }\n  let i = 0;\n  while (i < QUAT) {\n    if (colorA[i] === NONE && colorB[i] === NONE) {\n      colorA[i] = 0;\n      colorB[i] = 0;\n    } else if (colorA[i] === NONE) {\n      colorA[i] = colorB[i];\n    } else if (colorB[i] === NONE) {\n      colorB[i] = colorA[i];\n    }\n    i++;\n  }\n  if (!skip) {\n    colorA = validateColorComponents(colorA, {\n      minLength: QUAT,\n      validateRange: false\n    });\n    colorB = validateColorComponents(colorB, {\n      minLength: QUAT,\n      validateRange: false\n    });\n  }\n  return [colorA, colorB];\n};\n\n/**\n * number to hex string\n * @param {number} value - color value\n * @returns {string} - hex string\n */\nexport const numberToHexString = (value: number): string => {\n  if (!Number.isFinite(value)) {\n    throw new TypeError(`${value} is not a number.`);\n  } else {\n    value = Math.round(value);\n    if (value < 0 || value > MAX_RGB) {\n      throw new RangeError(`${value} is not between 0 and ${MAX_RGB}.`);\n    }\n  }\n  let hex = value.toString(HEX);\n  if (hex.length === 1) {\n    hex = `0${hex}`;\n  }\n  return hex;\n};\n\n/**\n * angle to deg\n * @param {string} angle - angle\n * @returns {number} - deg: 0..360\n */\nexport const angleToDeg = (angle: string): number => {\n  if (isString(angle)) {\n    angle = angle.trim();\n  } else {\n    throw new TypeError(`${angle} is not a string.`);\n  }\n  const GRAD = DEG / 400;\n  const RAD = DEG / (Math.PI * DUO);\n  const reg = new RegExp(`^(${NUM})(${ANGLE})?$`);\n  if (!reg.test(angle)) {\n    throw new SyntaxError(`Invalid property value: ${angle}`);\n  }\n  const [, val, unit] = angle.match(reg) as [string, string, string];\n  const value = val[0] === '.' ? `0${val}` : val;\n  let deg;\n  switch (unit) {\n    case 'grad':\n      deg = parseFloat(value) * GRAD;\n      break;\n    case 'rad':\n      deg = parseFloat(value) * RAD;\n      break;\n    case 'turn':\n      deg = parseFloat(value) * DEG;\n      break;\n    default:\n      deg = parseFloat(value);\n  }\n  deg %= DEG;\n  if (deg < 0) {\n    deg += DEG;\n  } else if (Object.is(deg, -0)) {\n    deg = 0;\n  }\n  return deg;\n};\n\n/**\n * parse alpha\n * @param {?string} [_alpha] - alpha value\n * @returns {number} - alpha: 0..1\n */\nexport const parseAlpha = (_alpha?: string | null): number => {\n  let alpha: number | string | null | undefined = _alpha;\n  if (isString(alpha)) {\n    alpha = alpha.trim();\n    if (!alpha) {\n      alpha = 1;\n    } else if (alpha === NONE) {\n      alpha = 0;\n    } else {\n      if (alpha[0] === '.') {\n        alpha = `0${alpha}`;\n      }\n      if (alpha.endsWith('%')) {\n        alpha = parseFloat(alpha) / MAX_PCT;\n      } else {\n        alpha = parseFloat(alpha);\n      }\n      if (!Number.isFinite(alpha)) {\n        throw new TypeError(`${alpha} is not a number.`);\n      }\n      if (alpha < PPTH) {\n        alpha = 0;\n      } else if (alpha > 1) {\n        alpha = 1;\n      } else {\n        alpha = parseFloat(alpha.toFixed(3));\n      }\n    }\n  } else {\n    alpha = 1;\n  }\n  return alpha;\n};\n\n/**\n * parse hex alpha\n * @param {string} value - alpha value in hex string\n * @returns {number} - alpha: 0..1\n */\nexport const parseHexAlpha = (value: string): number => {\n  if (isString(value)) {\n    if (value === '') {\n      throw new SyntaxError('Invalid property value: (empty string)');\n    }\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  let alpha = parseInt(value, HEX);\n  if (alpha <= 0) {\n    return 0;\n  }\n  if (alpha >= MAX_RGB) {\n    return 1;\n  }\n  const alphaMap = new Map();\n  for (let i = 1; i < MAX_PCT; i++) {\n    alphaMap.set(Math.round((i * MAX_RGB) / MAX_PCT), i);\n  }\n  if (alphaMap.has(alpha)) {\n    alpha = alphaMap.get(alpha) / MAX_PCT;\n  } else {\n    alpha = Math.round(alpha / MAX_RGB / PPTH) * PPTH;\n  }\n  return parseFloat(alpha.toFixed(3));\n};\n\n/**\n * convert rgb to linear rgb\n * @param {Array.<number>} rgb - [r, g, b] r|g|b: 0..255\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [r, g, b] r|g|b: 0..1\n */\nexport const convertRgbToLinearRgb = (\n  rgb: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  let rr, gg, bb;\n  if (skip) {\n    [rr, gg, bb] = rgb;\n  } else {\n    [rr, gg, bb] = validateColorComponents(rgb, {\n      maxLength: TRIA,\n      maxRange: MAX_RGB\n    });\n  }\n  let r = rr / MAX_RGB;\n  let g = gg / MAX_RGB;\n  let b = bb / MAX_RGB;\n  const COND_POW = 0.04045;\n  if (r > COND_POW) {\n    r = Math.pow((r + LINEAR_OFFSET) / (1 + LINEAR_OFFSET), POW_LINEAR);\n  } else {\n    r /= LINEAR_COEF;\n  }\n  if (g > COND_POW) {\n    g = Math.pow((g + LINEAR_OFFSET) / (1 + LINEAR_OFFSET), POW_LINEAR);\n  } else {\n    g /= LINEAR_COEF;\n  }\n  if (b > COND_POW) {\n    b = Math.pow((b + LINEAR_OFFSET) / (1 + LINEAR_OFFSET), POW_LINEAR);\n  } else {\n    b /= LINEAR_COEF;\n  }\n  return [r, g, b];\n};\n\n/**\n * convert rgb to xyz\n * @param {Array.<number>} rgb - [r, g, b, ?alpha] r|g|b: 0..255 alpha: 0..1\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const convertRgbToXyz = (\n  rgb: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  let r, g, b, alpha;\n  if (skip) {\n    [r, g, b, alpha] = rgb;\n  } else {\n    [r, g, b, alpha] = validateColorComponents(rgb, {\n      alpha: true,\n      maxRange: MAX_RGB\n    });\n  }\n  const [rr, gg, bb] = convertRgbToLinearRgb([r, g, b], true);\n  const [x, y, z] = transformMatrix(MATRIX_L_RGB_TO_XYZ, [rr!, gg!, bb!], true);\n  return [x, y, z, alpha];\n};\n\n/**\n * convert rgb to xyz-d50\n * @param {Array.<number>} rgb - [r, g, b, ?alpha] r|g|b: 0..255 alpha: 0..1\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const convertRgbToXyzD50 = (rgb: Array<number>): Array<number> => {\n  const [xx, yy, zz, alpha] = convertRgbToXyz(rgb);\n  const [x, y, z] = transformMatrix(MATRIX_D65_TO_D50, [xx!, yy!, zz!], true);\n  return [x!, y!, z!, alpha!];\n};\n\n/**\n * convert rgb to hex color\n * @param {Array.<number>} rgb - [r, g, b, alpha] r|g|b: 0..255 alpha: 0..1\n * @returns {string} - hex color\n */\nexport const convertRgbToHex = (rgb: Array<number>): string => {\n  const [r, g, b, alpha] = validateColorComponents(rgb, {\n    alpha: true,\n    maxRange: MAX_RGB\n  });\n  const rr = numberToHexString(r);\n  const gg = numberToHexString(g);\n  const bb = numberToHexString(b);\n  const aa = numberToHexString(alpha * MAX_RGB);\n  let hex;\n  if (aa === 'ff') {\n    hex = `#${rr}${gg}${bb}`;\n  } else {\n    hex = `#${rr}${gg}${bb}${aa}`;\n  }\n  return hex;\n};\n\n/**\n * convert linear rgb to rgb\n * @param {Array.<number>} rgb - [r, g, b] r|g|b: 0..1\n * @param {boolean} round - round result\n * @returns {Array.<number>} - [r, g, b] r|g|b: 0..255\n */\nexport const convertLinearRgbToRgb = (\n  rgb: Array<number>,\n  round: boolean = false\n): Array<number> => {\n  let [r, g, b] = validateColorComponents(rgb, {\n    maxLength: TRIA\n  });\n  const COND_POW = 809 / 258400;\n  if (r > COND_POW) {\n    r = Math.pow(r, 1 / POW_LINEAR) * (1 + LINEAR_OFFSET) - LINEAR_OFFSET;\n  } else {\n    r *= LINEAR_COEF;\n  }\n  r *= MAX_RGB;\n  if (g > COND_POW) {\n    g = Math.pow(g, 1 / POW_LINEAR) * (1 + LINEAR_OFFSET) - LINEAR_OFFSET;\n  } else {\n    g *= LINEAR_COEF;\n  }\n  g *= MAX_RGB;\n  if (b > COND_POW) {\n    b = Math.pow(b, 1 / POW_LINEAR) * (1 + LINEAR_OFFSET) - LINEAR_OFFSET;\n  } else {\n    b *= LINEAR_COEF;\n  }\n  b *= MAX_RGB;\n  return [\n    round ? Math.round(r) : r,\n    round ? Math.round(g) : g,\n    round ? Math.round(b) : b\n  ];\n};\n\n/**\n * convert linear rgb to hex color\n * @param {Array.<number>} rgb - [r, g, b, alpha] r|g|b|alpha: 0..1\n * @param {boolean} skip - skip validate\n * @returns {string} - hex color\n */\nexport const convertLinearRgbToHex = (\n  rgb: Array<number>,\n  skip: boolean = false\n): string => {\n  let r, g, b, alpha;\n  if (skip) {\n    [r, g, b, alpha] = rgb;\n  } else {\n    [r, g, b, alpha] = validateColorComponents(rgb, {\n      minLength: QUAT\n    });\n  }\n  [r, g, b] = convertLinearRgbToRgb([r, g, b], true);\n\n  const rr = numberToHexString(r!);\n\n  const gg = numberToHexString(g!);\n\n  const bb = numberToHexString(b!);\n  const aa = numberToHexString(alpha * MAX_RGB);\n  let hex;\n  if (aa === 'ff') {\n    hex = `#${rr}${gg}${bb}`;\n  } else {\n    hex = `#${rr}${gg}${bb}${aa}`;\n  }\n  return hex;\n};\n\n/**\n * convert xyz to hex color\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @returns {string} - hex color\n */\nexport const convertXyzToHex = (xyz: Array<number>): string => {\n  const [x, y, z, alpha] = validateColorComponents(xyz, {\n    minLength: QUAT,\n    validateRange: false\n  });\n  const [r, g, b] = transformMatrix(MATRIX_XYZ_TO_L_RGB, [x, y, z], true);\n  const hex = convertLinearRgbToHex(\n    [\n      Math.min(Math.max(r!, 0), 1),\n      Math.min(Math.max(g!, 0), 1),\n      Math.min(Math.max(b!, 0), 1),\n      alpha\n    ],\n    true\n  );\n  return hex;\n};\n\n/**\n * convert xyz D50 to hex color\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @returns {string} - hex color\n */\nexport const convertXyzD50ToHex = (xyz: Array<number>): string => {\n  const [x, y, z, alpha] = validateColorComponents(xyz, {\n    minLength: QUAT,\n    validateRange: false\n  });\n  const xyzD65 = transformMatrix(MATRIX_D50_TO_D65, [x, y, z], true);\n  const [r, g, b] = transformMatrix(MATRIX_XYZ_TO_L_RGB, xyzD65, true);\n  const hex = convertLinearRgbToHex([\n    Math.min(Math.max(r!, 0), 1),\n    Math.min(Math.max(g!, 0), 1),\n    Math.min(Math.max(b!, 0), 1),\n    alpha\n  ]);\n  return hex;\n};\n\n/**\n * convert xyz to rgb\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [r, g, b, alpha] r|g|b: 0..255 alpha: 0..1\n */\nexport const convertXyzToRgb = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  let x, y, z, alpha;\n  if (skip) {\n    [x, y, z, alpha] = xyz;\n  } else {\n    [x, y, z, alpha] = validateColorComponents(xyz, {\n      validateRange: false\n    });\n  }\n  let [r, g, b] = transformMatrix(MATRIX_XYZ_TO_L_RGB, [x, y, z], true);\n  [r, g, b] = convertLinearRgbToRgb(\n    [\n      Math.min(Math.max(r!, 0), 1),\n      Math.min(Math.max(g!, 0), 1),\n      Math.min(Math.max(b!, 0), 1)\n    ],\n    true\n  );\n  return [r, g, b, alpha];\n};\n\n/**\n * convert xyz to xyz-d50\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const convertXyzToXyzD50 = (xyz: Array<number>): Array<number> => {\n  const [xx, yy, zz, alpha] = validateColorComponents(xyz, {\n    validateRange: false\n  });\n  const [x, y, z] = transformMatrix(MATRIX_D65_TO_D50, [xx, yy, zz], true);\n  return [x, y, z, alpha];\n};\n\n/**\n * convert xyz to hsl\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [h, s, l, alpha]\n */\nexport const convertXyzToHsl = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  const [rr, gg, bb, alpha] = convertXyzToRgb(xyz, skip);\n  const r = rr! / MAX_RGB;\n  const g = gg! / MAX_RGB;\n  const b = bb! / MAX_RGB;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const d = max - min;\n  const l = (max + min) * HALF * MAX_PCT;\n  let h, s;\n  if (Math.round(l) === 0 || Math.round(l) === MAX_PCT) {\n    h = NONE as never;\n    s = NONE as never;\n  } else {\n    s = (d / (1 - Math.abs(max + min - 1))) * MAX_PCT;\n    if (s === 0) {\n      h = NONE as never;\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d;\n          break;\n        case g:\n          h = (b - r) / d + DUO;\n          break;\n        case b:\n        default:\n          h = (r - g) / d + QUAT;\n          break;\n      }\n      h = (h * SEXA) % DEG;\n      if (h < 0) {\n        h += DEG;\n      }\n    }\n  }\n  return [h, s, l, alpha!];\n};\n\n/**\n * convert xyz to hwb\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [h, w, b, alpha]\n */\nexport const convertXyzToHwb = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  const [r, g, b, alpha] = convertXyzToRgb(xyz, skip);\n  const w = Math.min(r!, g!, b!) / MAX_RGB;\n  const bk = 1 - Math.max(r!, g!, b!) / MAX_RGB;\n  let h;\n  if (w + bk === 1) {\n    h = NONE as never;\n  } else {\n    [h] = convertXyzToHsl(xyz);\n  }\n  return [h!, w * MAX_PCT, bk * MAX_PCT, alpha!];\n};\n\n/**\n * convert xyz to oklab\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [l, a, b, alpha]\n */\nexport const convertXyzToOklab = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  let x, y, z, alpha;\n  if (skip) {\n    [x, y, z, alpha] = xyz;\n  } else {\n    [x, y, z, alpha] = validateColorComponents(xyz, {\n      validateRange: false\n    });\n  }\n  const lms = transformMatrix(MATRIX_XYZ_TO_LMS, [x, y, z], true);\n  const xyzLms = lms.map(c => Math.cbrt(c));\n  let [l, a, b] = transformMatrix(MATRIX_LMS_TO_OKLAB, xyzLms, true);\n  l = Math.min(Math.max(l!, 0), 1);\n  const lPct = Math.round(parseFloat(l.toFixed(QUAT)) * MAX_PCT);\n  if (lPct === 0 || lPct === MAX_PCT) {\n    a = NONE as never;\n    b = NONE as never;\n  }\n  return [l, a, b, alpha];\n};\n\n/**\n * convert xyz to oklch\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [l, c, h, alpha]\n */\nexport const convertXyzToOklch = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  const [l, a, b, aa] = convertXyzToOklab(xyz, skip);\n  let c, h;\n  const lPct = Math.round(parseFloat(l!.toFixed(QUAT)) * MAX_PCT);\n  if (lPct === 0 || lPct === MAX_PCT) {\n    c = NONE as never;\n    h = NONE as never;\n  } else {\n    c = Math.max(Math.sqrt(Math.pow(a!, POW_SQR) + Math.pow(b!, POW_SQR)), 0);\n    if (parseFloat(c.toFixed(QUAT)) === 0) {\n      h = NONE as never;\n    } else {\n      h = (Math.atan2(b!, a!) * DEG * HALF) / Math.PI;\n      if (h < 0) {\n        h += DEG;\n      }\n    }\n  }\n  return [l!, c, h, aa!];\n};\n\n/**\n * convert xyz D50 to rgb\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [r, g, b, alpha] r|g|b: 0..255 alpha: 0..1\n */\nexport const convertXyzD50ToRgb = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  let x, y, z, alpha;\n  if (skip) {\n    [x, y, z, alpha] = xyz;\n  } else {\n    [x, y, z, alpha] = validateColorComponents(xyz, {\n      minLength: QUAT,\n      validateRange: false\n    });\n  }\n  const xyzD65 = transformMatrix(MATRIX_D50_TO_D65, [x, y, z], true);\n  const [r, g, b] = convertXyzToRgb(xyzD65, true);\n  return [r, g, b, alpha];\n};\n\n/**\n * convert xyz-d50 to lab\n * @param {Array.<number>} xyz - [x, y, z, a]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [l, a, b, alpha]\n */\nexport const convertXyzD50ToLab = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  let x, y, z, alpha;\n  if (skip) {\n    [x, y, z, alpha] = xyz;\n  } else {\n    [x, y, z, alpha] = validateColorComponents(xyz, {\n      validateRange: false\n    });\n  }\n  const xyzD50 = [x, y, z].map((val, i) => val / D50[i]!);\n  const [f0, f1, f2] = xyzD50.map(val =>\n    val > LAB_EPSILON ? Math.cbrt(val) : (val * LAB_KAPPA + HEX) / LAB_L\n  );\n  const l = Math.min(Math.max(LAB_L * f1! - HEX, 0), MAX_PCT);\n  let a, b;\n  if (l === 0 || l === MAX_PCT) {\n    a = NONE as never;\n    b = NONE as never;\n  } else {\n    a = (f0! - f1!) * LAB_A;\n    b = (f1! - f2!) * LAB_B;\n  }\n  return [l, a, b, alpha];\n};\n\n/**\n * convert xyz-d50 to lch\n * @param {Array.<number>} xyz - [x, y, z, alpha]\n * @param {boolean} skip - skip validate\n * @returns {Array.<number>} - [l, c, h, alpha]\n */\nexport const convertXyzD50ToLch = (\n  xyz: Array<number>,\n  skip: boolean = false\n): Array<number> => {\n  const [l, a, b, alpha] = convertXyzD50ToLab(xyz, skip);\n  let c, h;\n  if (l === 0 || l === MAX_PCT) {\n    c = NONE as never;\n    h = NONE as never;\n  } else {\n    c = Math.max(Math.sqrt(Math.pow(a!, POW_SQR) + Math.pow(b!, POW_SQR)), 0);\n    h = (Math.atan2(b!, a!) * DEG * HALF) / Math.PI;\n    if (h < 0) {\n      h += DEG;\n    }\n  }\n  return [l!, c, h, alpha!];\n};\n\n/**\n * convert hex color to rgb\n * @param {string} value - color value\n * @returns {Array.<number>} - [r, g, b, alpha] r|g|b: 0..255 alpha: 0..1\n */\nexport const convertHexToRgb = (value: string): Array<number> => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  if (\n    !(\n      /^#[\\da-f]{6}$/.test(value) ||\n      /^#[\\da-f]{3}$/.test(value) ||\n      /^#[\\da-f]{8}$/.test(value) ||\n      /^#[\\da-f]{4}$/.test(value)\n    )\n  ) {\n    throw new SyntaxError(`Invalid property value: ${value}`);\n  }\n  const arr = [];\n  if (/^#[\\da-f]{6}$/.test(value)) {\n    const [, r, g, b] = value.match(\n      /^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})$/\n    ) as [string, string, string, string];\n    arr.push(parseInt(r, HEX), parseInt(g, HEX), parseInt(b, HEX), 1);\n  } else if (/^#[\\da-f]{3}$/.test(value)) {\n    const [, r, g, b] = value.match(/^#([\\da-f])([\\da-f])([\\da-f])$/) as [\n      string,\n      string,\n      string,\n      string\n    ];\n    arr.push(\n      parseInt(`${r}${r}`, HEX),\n      parseInt(`${g}${g}`, HEX),\n      parseInt(`${b}${b}`, HEX),\n      1\n    );\n  } else if (/^#[\\da-f]{8}$/.test(value)) {\n    const [, r, g, b, alpha] = value.match(\n      /^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})$/\n    ) as [string, string, string, string, string];\n    arr.push(\n      parseInt(r, HEX),\n      parseInt(g, HEX),\n      parseInt(b, HEX),\n      parseHexAlpha(alpha)\n    );\n  } else if (/^#[\\da-f]{4}$/.test(value)) {\n    const [, r, g, b, alpha] = value.match(\n      /^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])$/\n    ) as [string, string, string, string, string];\n    arr.push(\n      parseInt(`${r}${r}`, HEX),\n      parseInt(`${g}${g}`, HEX),\n      parseInt(`${b}${b}`, HEX),\n      parseHexAlpha(`${alpha}${alpha}`)\n    );\n  }\n  return arr;\n};\n\n/**\n * convert hex color to linear rgb\n * @param {string} value - color value\n * @returns {Array.<number>} - [r, g, b, alpha] r|g|b|alpha: 0..1\n */\nexport const convertHexToLinearRgb = (value: string): Array<number> => {\n  const [rr, gg, bb, alpha] = convertHexToRgb(value);\n  const [r, g, b] = convertRgbToLinearRgb([rr!, gg!, bb!], true);\n  return [r!, g!, b!, alpha!];\n};\n\n/**\n * convert hex color to xyz\n * @param {string} value - color value\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const convertHexToXyz = (value: string): Array<number> => {\n  const [r, g, b, alpha] = convertHexToLinearRgb(value);\n  const [x, y, z] = transformMatrix(MATRIX_L_RGB_TO_XYZ, [r!, g!, b!], true);\n  return [x!, y!, z!, alpha!];\n};\n\n/**\n * parse rgb()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string} - ['rgb', r, g, b, alpha], '(empty)'\n */\nexport const parseRgb = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  const reg = new RegExp(`^rgba?\\\\(\\\\s*(${SYN_MOD}|${SYN_RGB_LV3})\\\\s*\\\\)$`);\n  if (!reg.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null!;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const [, val] = value.match(reg) as [string, string];\n\n  let [v1, v2, v3, v4] = val.replace(/[,/]/g, ' ').split(/\\s+/) as [\n    string,\n    string,\n    string,\n    string\n  ];\n  let r, g, b;\n  if (v1 === NONE) {\n    r = 0;\n  } else {\n    if (v1[0] === '.') {\n      v1 = `0${v1}`;\n    }\n    if (v1.endsWith('%')) {\n      r = (parseFloat(v1) * MAX_RGB) / MAX_PCT;\n    } else {\n      r = parseFloat(v1);\n    }\n    r = Math.min(Math.max(roundToPrecision(r, OCT), 0), MAX_RGB);\n  }\n  if (v2 === NONE) {\n    g = 0;\n  } else {\n    if (v2[0] === '.') {\n      v2 = `0${v2}`;\n    }\n    if (v2.endsWith('%')) {\n      g = (parseFloat(v2) * MAX_RGB) / MAX_PCT;\n    } else {\n      g = parseFloat(v2);\n    }\n    g = Math.min(Math.max(roundToPrecision(g, OCT), 0), MAX_RGB);\n  }\n  if (v3 === NONE) {\n    b = 0;\n  } else {\n    if (v3[0] === '.') {\n      v3 = `0${v3}`;\n    }\n    if (v3.endsWith('%')) {\n      b = (parseFloat(v3) * MAX_RGB) / MAX_PCT;\n    } else {\n      b = parseFloat(v3);\n    }\n    b = Math.min(Math.max(roundToPrecision(b, OCT), 0), MAX_RGB);\n  }\n  const alpha = parseAlpha(v4);\n  return ['rgb', r, g, b, format === VAL_MIX && v4 === NONE ? NONE : alpha];\n};\n\n/**\n * parse hsl()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['rgb', r, g, b, alpha], '(empty)', null\n */\nexport const parseHsl = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  if (!REG_HSL.test(value)) {\n    switch (format) {\n      case 'hsl':\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const [, val] = value.match(REG_HSL) as [string, string];\n  let [h, s, l, alpha] = val.replace(/[,/]/g, ' ').split(/\\s+/) as [\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (h === NONE) {\n    if (format !== 'hsl') {\n      h = 0;\n    }\n  } else {\n    h = angleToDeg(h as string);\n  }\n  if (s === NONE) {\n    if (format !== 'hsl') {\n      s = 0;\n    }\n  } else {\n    if ((s as string)[0] === '.') {\n      s = `0${s}`;\n    }\n    s = Math.min(Math.max(parseFloat(s as string), 0), MAX_PCT);\n  }\n  if (l === NONE) {\n    if (format !== 'hsl') {\n      l = 0;\n    }\n  } else {\n    if ((l as string)[0] === '.') {\n      l = `0${l}`;\n    }\n    l = Math.min(Math.max(parseFloat(l as string), 0), MAX_PCT);\n  }\n  if (alpha !== NONE || format !== 'hsl') {\n    alpha = parseAlpha(alpha as string);\n  }\n  if (format === 'hsl') {\n    return [format, h, s, l, alpha];\n  }\n  const ll = (l as number) / MAX_PCT;\n  const sa = ((s as number) / MAX_PCT) * Math.min(ll, 1 - ll);\n  const rk = (((h as number) / DEG) * DOZ) % DOZ;\n  const gk = (8 + ((h as number) / DEG) * DOZ) % DOZ;\n  const bk = (4 + ((h as number) / DEG) * DOZ) % DOZ;\n  const r =\n    ll - sa * Math.max(-1, Math.min(rk - TRIA, TRIA ** POW_SQR - rk, 1));\n  const g =\n    ll - sa * Math.max(-1, Math.min(gk - TRIA, TRIA ** POW_SQR - gk, 1));\n  const b =\n    ll - sa * Math.max(-1, Math.min(bk - TRIA, TRIA ** POW_SQR - bk, 1));\n  return [\n    'rgb',\n    Math.min(Math.max(roundToPrecision(r * MAX_RGB, OCT), 0), MAX_RGB),\n    Math.min(Math.max(roundToPrecision(g * MAX_RGB, OCT), 0), MAX_RGB),\n    Math.min(Math.max(roundToPrecision(b * MAX_RGB, OCT), 0), MAX_RGB),\n    alpha\n  ];\n};\n\n/**\n * parse hwb()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['rgb', r, g, b, alpha], '(empty)', null\n */\nexport const parseHwb = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  if (!REG_HWB.test(value)) {\n    switch (format) {\n      case 'hwb':\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const [, val] = value.match(REG_HWB) as [string, string];\n  let [h, w, b, alpha] = val.replace('/', ' ').split(/\\s+/) as [\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (h === NONE) {\n    if (format !== 'hwb') {\n      h = 0;\n    }\n  } else {\n    h = angleToDeg(h as string);\n  }\n  if (w === NONE) {\n    if (format !== 'hwb') {\n      w = 0;\n    }\n  } else {\n    if ((w as string)[0] === '.') {\n      w = `0${w}`;\n    }\n    w = Math.min(Math.max(parseFloat(w as string), 0), MAX_PCT) / MAX_PCT;\n  }\n  if (b === NONE) {\n    if (format !== 'hwb') {\n      b = 0;\n    }\n  } else {\n    if ((b as string)[0] === '.') {\n      b = `0${b}`;\n    }\n    b = Math.min(Math.max(parseFloat(b as string), 0), MAX_PCT) / MAX_PCT;\n  }\n  if (alpha !== NONE || format !== 'hwb') {\n    alpha = parseAlpha(alpha as string);\n  }\n  if (format === 'hwb') {\n    return [\n      format,\n      h,\n      w === NONE ? w : w * MAX_PCT,\n      b === NONE ? b : b * MAX_PCT,\n      alpha\n    ];\n  }\n  if ((w as number) + (b as number) >= 1) {\n    const v = roundToPrecision(\n      ((w as number) / ((w as number) + (b as number))) * MAX_RGB,\n      OCT\n    );\n    return ['rgb', v, v, v, alpha];\n  }\n  const factor = (1 - (w as number) - (b as number)) / MAX_RGB;\n  let [, rr, gg, bb] = parseHsl(`hsl(${h} 100 50)`) as [\n    string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  rr = roundToPrecision(\n    ((rr as number) * factor + (w as number)) * MAX_RGB,\n    OCT\n  );\n  gg = roundToPrecision(\n    ((gg as number) * factor + (w as number)) * MAX_RGB,\n    OCT\n  );\n  bb = roundToPrecision(\n    ((bb as number) * factor + (w as number)) * MAX_RGB,\n    OCT\n  );\n  return [\n    'rgb',\n    Math.min(Math.max(rr, 0), MAX_RGB),\n    Math.min(Math.max(gg, 0), MAX_RGB),\n    Math.min(Math.max(bb, 0), MAX_RGB),\n    alpha\n  ];\n};\n\n/**\n * parse lab()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - [xyz-d50, x, y, z, alpha], ['lab', l, a, b, alpha], '(empty)', null\n */\nexport const parseLab = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  if (!REG_LAB.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const COEF_PCT = 1.25;\n  const COND_POW = 8;\n  const [, val] = value.match(REG_LAB) as [string, string];\n  let [l, a, b, alpha] = val.replace('/', ' ').split(/\\s+/) as [\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (l === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      l = 0;\n    }\n  } else {\n    if ((l as string)[0] === '.') {\n      l = `0${l}`;\n    }\n    if ((l as string).endsWith('%')) {\n      l = parseFloat(l as string);\n      if (l > MAX_PCT) {\n        l = MAX_PCT;\n      }\n    } else {\n      l = parseFloat(l as string);\n    }\n    if (l < 0) {\n      l = 0;\n    }\n  }\n  if (a === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      a = 0;\n    }\n  } else {\n    if ((a as string)[0] === '.') {\n      a = `0${a}`;\n    }\n    if ((a as string).endsWith('%')) {\n      a = parseFloat(a as string) * COEF_PCT;\n    } else {\n      a = parseFloat(a as string);\n    }\n  }\n  if (b === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      b = 0;\n    }\n  } else {\n    if ((b as string).endsWith('%')) {\n      b = parseFloat(b as string) * COEF_PCT;\n    } else {\n      b = parseFloat(b as string);\n    }\n  }\n  if (alpha !== NONE || !REG_SPEC.test(format!)) {\n    alpha = parseAlpha(alpha as string);\n  }\n  if (REG_SPEC.test(format!)) {\n    return [\n      'lab',\n      l === NONE ? l : roundToPrecision(l, HEX),\n      a === NONE ? a : roundToPrecision(a, HEX),\n      b === NONE ? b : roundToPrecision(b, HEX),\n      alpha\n    ];\n  }\n  const fl = ((l as number) + HEX) / LAB_L;\n  const fa = (a as number) / LAB_A + fl;\n  const fb = fl - (b as number) / LAB_B;\n  const powFl = Math.pow(fl, POW_CUBE);\n  const powFa = Math.pow(fa, POW_CUBE);\n  const powFb = Math.pow(fb, POW_CUBE);\n  const xyz = [\n    powFa > LAB_EPSILON ? powFa : (fa * LAB_L - HEX) / LAB_KAPPA,\n    (l as number) > COND_POW ? powFl : (l as number) / LAB_KAPPA,\n    powFb > LAB_EPSILON ? powFb : (fb * LAB_L - HEX) / LAB_KAPPA\n  ];\n  const [x, y, z] = xyz.map((val, i) => val * D50[i]!);\n  return [\n    'xyz-d50',\n    roundToPrecision(x!, HEX),\n    roundToPrecision(y!, HEX),\n    roundToPrecision(z!, HEX),\n    alpha\n  ];\n};\n\n/**\n * parse lch()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['xyz-d50', x, y, z, alpha], ['lch', l, c, h, alpha], '(empty)', null\n */\nexport const parseLch = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  if (!REG_LCH.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const COEF_PCT = 1.5;\n  const [, val] = value.match(REG_LCH) as [string, string];\n  let [l, c, h, alpha] = val.replace('/', ' ').split(/\\s+/) as [\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (l === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      l = 0;\n    }\n  } else {\n    if ((l as string)[0] === '.') {\n      l = `0${l}`;\n    }\n    l = parseFloat(l as string);\n    if (l < 0) {\n      l = 0;\n    }\n  }\n  if (c === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      c = 0;\n    }\n  } else {\n    if ((c as string)[0] === '.') {\n      c = `0${c}`;\n    }\n    if ((c as string).endsWith('%')) {\n      c = parseFloat(c as string) * COEF_PCT;\n    } else {\n      c = parseFloat(c as string);\n    }\n  }\n  if (h === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      h = 0;\n    }\n  } else {\n    h = angleToDeg(h as string);\n  }\n  if (alpha !== NONE || !REG_SPEC.test(format!)) {\n    alpha = parseAlpha(alpha as string);\n  }\n  if (REG_SPEC.test(format!)) {\n    return [\n      'lch',\n      l === NONE ? l : roundToPrecision(l, HEX),\n      c === NONE ? c : roundToPrecision(c, HEX),\n      h === NONE ? h : roundToPrecision(h, HEX),\n      alpha\n    ];\n  }\n  const a = (c as number) * Math.cos(((h as number) * Math.PI) / (DEG * HALF));\n  const b = (c as number) * Math.sin(((h as number) * Math.PI) / (DEG * HALF));\n  const [, x, y, z] = parseLab(`lab(${l} ${a} ${b})`) as [\n    string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  return [\n    'xyz-d50',\n    roundToPrecision(x as number, HEX),\n    roundToPrecision(y as number, HEX),\n    roundToPrecision(z as number, HEX),\n    alpha\n  ];\n};\n\n/**\n * parse oklab()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['xyz-d65', x, y, z, alpha], ['oklab', l, a, b, alpha], '(empty)', null\n */\nexport const parseOklab = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  if (!REG_OKLAB.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const COEF_PCT = 0.4;\n  const [, val] = value.match(REG_OKLAB) as [string, string];\n  let [l, a, b, alpha] = val.replace('/', ' ').split(/\\s+/) as [\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (l === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      l = 0;\n    }\n  } else {\n    if ((l as string)[0] === '.') {\n      l = `0${l}`;\n    }\n    if ((l as string).endsWith('%')) {\n      l = parseFloat(l as string) / MAX_PCT;\n    } else {\n      l = parseFloat(l as string);\n    }\n    if (l < 0) {\n      l = 0;\n    }\n  }\n  if (a === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      a = 0;\n    }\n  } else {\n    if ((a as string)[0] === '.') {\n      a = `0${a}`;\n    }\n    if ((a as string).endsWith('%')) {\n      a = (parseFloat(a as string) * COEF_PCT) / MAX_PCT;\n    } else {\n      a = parseFloat(a as string);\n    }\n  }\n  if (b === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      b = 0;\n    }\n  } else {\n    if ((b as string).endsWith('%')) {\n      b = (parseFloat(b as string) * COEF_PCT) / MAX_PCT;\n    } else {\n      b = parseFloat(b as string);\n    }\n  }\n  if (alpha !== NONE || !REG_SPEC.test(format!)) {\n    alpha = parseAlpha(alpha as string);\n  }\n  if (REG_SPEC.test(format!)) {\n    return [\n      'oklab',\n      l === NONE ? l : roundToPrecision(l, HEX),\n      a === NONE ? a : roundToPrecision(a, HEX),\n      b === NONE ? b : roundToPrecision(b, HEX),\n      alpha\n    ];\n  }\n  const lms = transformMatrix(MATRIX_OKLAB_TO_LMS, [\n    l as number,\n    a as number,\n    b as number\n  ]);\n  const xyzLms = lms.map(c => Math.pow(c, POW_CUBE));\n  const [x, y, z] = transformMatrix(MATRIX_LMS_TO_XYZ, xyzLms, true);\n  return [\n    'xyz-d65',\n    roundToPrecision(x!, HEX),\n    roundToPrecision(y!, HEX),\n    roundToPrecision(z!, HEX),\n    alpha\n  ];\n};\n\n/**\n * parse oklch()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['xyz-d65', x, y, z, alpha], ['oklch', l, c, h, alpha], '(empty)', null\n */\nexport const parseOklch = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  if (!REG_OKLCH.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const COEF_PCT = 0.4;\n  const [, val] = value.match(REG_OKLCH) as [string, string];\n  let [l, c, h, alpha] = val.replace('/', ' ').split(/\\s+/) as [\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (l === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      l = 0;\n    }\n  } else {\n    if ((l as string)[0] === '.') {\n      l = `0${l}`;\n    }\n    if ((l as string).endsWith('%')) {\n      l = parseFloat(l as string) / MAX_PCT;\n    } else {\n      l = parseFloat(l as string);\n    }\n    if (l < 0) {\n      l = 0;\n    }\n  }\n  if (c === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      c = 0;\n    }\n  } else {\n    if ((c as string)[0] === '.') {\n      c = `0${c}`;\n    }\n    if ((c as string).endsWith('%')) {\n      c = (parseFloat(c as string) * COEF_PCT) / MAX_PCT;\n    } else {\n      c = parseFloat(c as string);\n    }\n    if (c < 0) {\n      c = 0;\n    }\n  }\n  if (h === NONE) {\n    if (!REG_SPEC.test(format!)) {\n      h = 0;\n    }\n  } else {\n    h = angleToDeg(h as string);\n  }\n  if (alpha !== NONE || !REG_SPEC.test(format!)) {\n    alpha = parseAlpha(alpha as string);\n  }\n  if (REG_SPEC.test(format!)) {\n    return [\n      'oklch',\n      l === NONE ? l : roundToPrecision(l, HEX),\n      c === NONE ? c : roundToPrecision(c, HEX),\n      h === NONE ? h : roundToPrecision(h, HEX),\n      alpha\n    ];\n  }\n  const a = (c as number) * Math.cos(((h as number) * Math.PI) / (DEG * HALF));\n  const b = (c as number) * Math.sin(((h as number) * Math.PI) / (DEG * HALF));\n  const lms = transformMatrix(MATRIX_OKLAB_TO_LMS, [l as number, a, b]);\n  const xyzLms = lms.map(cl => Math.pow(cl, POW_CUBE));\n  const [x, y, z] = transformMatrix(MATRIX_LMS_TO_XYZ, xyzLms, true);\n  return [\n    'xyz-d65',\n    roundToPrecision(x!, HEX),\n    roundToPrecision(y!, HEX),\n    roundToPrecision(z!, HEX),\n    alpha\n  ];\n};\n\n/**\n * parse color()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.colorSpace] - color space\n * @param {boolean} [opt.d50] - xyz in d50 white point\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['xyz-(d50|d65)', x, y, z, alpha], [cs, r, g, b, alpha], '(empty)', null\n */\nexport const parseColorFunc = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    d50?: boolean;\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { colorSpace, d50, format } = opt;\n  if (!REG_FN_COLOR.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const [, val] = value.match(REG_FN_COLOR) as [string, string];\n  let [cs, v1, v2, v3, v4] = val.replace('/', ' ').split(/\\s+/) as [\n    string,\n    string,\n    string,\n    string,\n    string\n  ];\n  let r, g, b;\n  if (cs === 'xyz') {\n    cs = 'xyz-d65';\n  }\n  if (v1 === NONE) {\n    r = 0;\n  } else {\n    if (v1[0] === '.') {\n      v1 = `0${v1}`;\n    }\n    r = v1.endsWith('%') ? parseFloat(v1) / MAX_PCT : parseFloat(v1);\n  }\n  if (v2 === NONE) {\n    g = 0;\n  } else {\n    if (v2[0] === '.') {\n      v2 = `0${v2}`;\n    }\n    g = v2.endsWith('%') ? parseFloat(v2) / MAX_PCT : parseFloat(v2);\n  }\n  if (v3 === NONE) {\n    b = 0;\n  } else {\n    if (v3[0] === '.') {\n      v3 = `0${v3}`;\n    }\n    b = v3.endsWith('%') ? parseFloat(v3) / MAX_PCT : parseFloat(v3);\n  }\n  const alpha = parseAlpha(v4);\n  if (REG_SPEC.test(format!) || (format === VAL_MIX && cs === colorSpace)) {\n    return [\n      cs,\n      v1 === NONE ? NONE : roundToPrecision(r, DEC),\n      v2 === NONE ? NONE : roundToPrecision(g, DEC),\n      v3 === NONE ? NONE : roundToPrecision(b, DEC),\n      v4 === NONE ? NONE : alpha\n    ];\n  }\n  let x, y, z;\n  // srgb\n  if (cs === 'srgb') {\n    [x, y, z] = convertRgbToXyz([r * MAX_RGB, g * MAX_RGB, b * MAX_RGB]);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // srgb-linear\n  } else if (cs === 'srgb-linear') {\n    [x, y, z] = transformMatrix(MATRIX_L_RGB_TO_XYZ, [r, g, b]);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // display-p3\n  } else if (cs === 'display-p3') {\n    const linearRgb = convertRgbToLinearRgb([\n      r * MAX_RGB,\n      g * MAX_RGB,\n      b * MAX_RGB\n    ]);\n    [x, y, z] = transformMatrix(MATRIX_P3_TO_XYZ, linearRgb);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // rec2020\n  } else if (cs === 'rec2020') {\n    const ALPHA = 1.09929682680944;\n    const BETA = 0.018053968510807;\n    const REC_COEF = 0.45;\n    const rgb = [r, g, b].map(c => {\n      let cl;\n      if (c < BETA * REC_COEF * DEC) {\n        cl = c / (REC_COEF * DEC);\n      } else {\n        cl = Math.pow((c + ALPHA - 1) / ALPHA, 1 / REC_COEF);\n      }\n      return cl;\n    });\n    [x, y, z] = transformMatrix(MATRIX_REC2020_TO_XYZ, rgb);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // a98-rgb\n  } else if (cs === 'a98-rgb') {\n    const POW_A98 = 563 / 256;\n    const rgb = [r, g, b].map(c => {\n      const cl = Math.pow(c, POW_A98);\n      return cl;\n    });\n    [x, y, z] = transformMatrix(MATRIX_A98_TO_XYZ, rgb);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // prophoto-rgb\n  } else if (cs === 'prophoto-rgb') {\n    const POW_PROPHOTO = 1.8;\n    const rgb = [r, g, b].map(c => {\n      let cl;\n      if (c > 1 / (HEX * DUO)) {\n        cl = Math.pow(c, POW_PROPHOTO);\n      } else {\n        cl = c / HEX;\n      }\n      return cl;\n    });\n    [x, y, z] = transformMatrix(MATRIX_PROPHOTO_TO_XYZ_D50, rgb);\n    if (!d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D50_TO_D65,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // xyz, xyz-d50, xyz-d65\n  } else if (/^xyz(?:-d(?:50|65))?$/.test(cs)) {\n    [x, y, z] = [r, g, b];\n    if (cs === 'xyz-d50') {\n      if (!d50) {\n        [x, y, z] = transformMatrix(MATRIX_D50_TO_D65, [x, y, z]);\n      }\n    } else if (d50) {\n      [x, y, z] = transformMatrix(MATRIX_D65_TO_D50, [x, y, z], true);\n    }\n  }\n  return [\n    d50 ? 'xyz-d50' : 'xyz-d65',\n    roundToPrecision(x!, HEX),\n    roundToPrecision(y!, HEX),\n    roundToPrecision(z!, HEX),\n    format === VAL_MIX && v4 === NONE ? NONE : alpha\n  ];\n};\n\n/**\n * parse color value\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {boolean} [opt.d50] - xyz in d50 white point\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - ['xyz-(d50|d65)', x, y, z, alpha], ['rgb', r, g, b, alpha]\n *   - value, '(empty)', null\n */\nexport const parseColorValue = (\n  value: string,\n  opt: {\n    d50?: boolean;\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { d50, format } = opt;\n  // unknown color and/or invalid color\n  if (!REG_COLOR.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  let x, y, z, alpha;\n  // complement currentcolor as a missing color\n  if (REG_CURRENT.test(value)) {\n    if (format === VAL_COMP) {\n      return ['rgb', 0, 0, 0, 0];\n    }\n    if (format === VAL_SPEC) {\n      return value;\n    }\n    x = 0;\n    y = 0;\n    z = 0;\n    alpha = 0;\n    // named-color\n  } else if (/^[a-z]+$/.test(value)) {\n    if (Object.prototype.hasOwnProperty.call(NAMED_COLORS, value)) {\n      if (format === VAL_SPEC) {\n        return value;\n      }\n      const [r, g, b] = NAMED_COLORS[value as keyof typeof NAMED_COLORS] as [\n        number,\n        number,\n        number\n      ];\n      alpha = 1;\n      if (format === VAL_COMP) {\n        return ['rgb', r, g, b, alpha];\n      }\n      [x, y, z] = convertRgbToXyz([r, g, b], true);\n      if (d50) {\n        [x, y, z] = transformMatrix(\n          MATRIX_D65_TO_D50,\n          [x as number, y as number, z as number],\n          true\n        );\n      }\n    } else {\n      if (format === VAL_COMP) {\n        return ['rgb', 0, 0, 0, 0];\n      }\n      if (format === VAL_SPEC) {\n        if (value === 'transparent') {\n          return value;\n        }\n        return '';\n      }\n      if (format === VAL_MIX) {\n        if (value === 'transparent') {\n          return ['rgb', 0, 0, 0, 0];\n        }\n        return null;\n      }\n      x = 0;\n      y = 0;\n      z = 0;\n      alpha = 0;\n    }\n    // hex-color\n  } else if (value[0] === '#') {\n    if (REG_SPEC.test(format!)) {\n      const rgb = convertHexToRgb(value);\n      return ['rgb', ...rgb];\n    }\n    [x, y, z, alpha] = convertHexToXyz(value);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // lab()\n  } else if (value.startsWith('lab')) {\n    if (REG_SPEC.test(format!)) {\n      return parseLab(value, opt);\n    }\n    [, x, y, z, alpha] = parseLab(value) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    if (!d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D50_TO_D65,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // lch()\n  } else if (value.startsWith('lch')) {\n    if (REG_SPEC.test(format!)) {\n      return parseLch(value, opt);\n    }\n    [, x, y, z, alpha] = parseLch(value) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    if (!d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D50_TO_D65,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // oklab()\n  } else if (value.startsWith('oklab')) {\n    if (REG_SPEC.test(format!)) {\n      return parseOklab(value, opt);\n    }\n    [, x, y, z, alpha] = parseOklab(value) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n    // oklch()\n  } else if (value.startsWith('oklch')) {\n    if (REG_SPEC.test(format!)) {\n      return parseOklch(value, opt);\n    }\n    [, x, y, z, alpha] = parseOklch(value) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n  } else {\n    let r, g, b;\n    // hsl()\n    if (value.startsWith('hsl')) {\n      [, r, g, b, alpha] = parseHsl(value) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n      // hwb()\n    } else if (value.startsWith('hwb')) {\n      [, r, g, b, alpha] = parseHwb(value) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n      // rgb()\n    } else {\n      [, r, g, b, alpha] = parseRgb(value, opt) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n    }\n    if (REG_SPEC.test(format!)) {\n      return [\n        'rgb',\n        Math.round(r as number),\n        Math.round(g as number),\n        Math.round(b as number),\n        alpha\n      ];\n    }\n    [x, y, z] = convertRgbToXyz([r as number, g as number, b as number]);\n    if (d50) {\n      [x, y, z] = transformMatrix(\n        MATRIX_D65_TO_D50,\n        [x as number, y as number, z as number],\n        true\n      );\n    }\n  }\n  return [\n    d50 ? 'xyz-d50' : 'xyz-d65',\n    roundToPrecision(x as number, HEX),\n    roundToPrecision(y as number, HEX),\n    roundToPrecision(z as number, HEX),\n    alpha!\n  ];\n};\n\n/**\n * resolve color value\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.colorSpace] - color space\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - [cs, v1, v2, v3, alpha], value, '(empty)', null\n */\nexport const resolveColorValue = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { colorSpace, format } = opt;\n  // unknown color and/or invalid color\n  if (!REG_COLOR.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  let cs, r, g, b, alpha;\n  // complement currentcolor as a missing color\n  if (REG_CURRENT.test(value)) {\n    if (format === VAL_SPEC) {\n      return value;\n    }\n    r = 0;\n    g = 0;\n    b = 0;\n    alpha = 0;\n    // named-color\n  } else if (/^[a-z]+$/.test(value)) {\n    if (Object.prototype.hasOwnProperty.call(NAMED_COLORS, value)) {\n      if (format === VAL_SPEC) {\n        return value;\n      }\n      [r, g, b] = NAMED_COLORS[value as keyof typeof NAMED_COLORS] as [\n        number,\n        number,\n        number\n      ];\n      alpha = 1;\n    } else {\n      if (format === VAL_SPEC) {\n        if (value === 'transparent') {\n          return value;\n        }\n        return '';\n      }\n      if (format === VAL_MIX) {\n        if (value === 'transparent') {\n          return ['rgb', 0, 0, 0, 0];\n        }\n        return null;\n      }\n      r = 0;\n      g = 0;\n      b = 0;\n      alpha = 0;\n    }\n    // hex-color\n  } else if (value[0] === '#') {\n    [r, g, b, alpha] = convertHexToRgb(value) as [\n      number,\n      number,\n      number,\n      number\n    ];\n    // rgb()\n  } else if (value.startsWith('rgb')) {\n    [, r, g, b, alpha] = parseRgb(value, opt) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    // hsl()\n  } else if (value.startsWith('hsl')) {\n    [, r, g, b, alpha] = parseHsl(value, opt) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    // hwb()\n  } else if (value.startsWith('hwb')) {\n    [, r, g, b, alpha] = parseHwb(value, opt) as [\n      string,\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    // lab(), lch()\n  } else if (/^l(?:ab|ch)/.test(value)) {\n    let x, y, z;\n    if (value.startsWith('lab')) {\n      [cs, x, y, z, alpha] = parseLab(value, opt) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n    } else {\n      [cs, x, y, z, alpha] = parseLch(value, opt) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n    }\n    if (REG_SPEC.test(format!)) {\n      return [cs, x, y, z, alpha];\n    }\n    [r, g, b, alpha] = convertXyzD50ToRgb([\n      x as number,\n      y as number,\n      z as number,\n      alpha as number\n    ]);\n    // oklab(), oklch()\n  } else if (/^okl(?:ab|ch)/.test(value)) {\n    let x, y, z;\n    if (value.startsWith('oklab')) {\n      [cs, x, y, z, alpha] = parseOklab(value, opt) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n    } else {\n      [cs, x, y, z, alpha] = parseOklch(value, opt) as [\n        string,\n        number | string,\n        number | string,\n        number | string,\n        number | string\n      ];\n    }\n    if (REG_SPEC.test(format!)) {\n      return [cs, x, y, z, alpha];\n    }\n    [r, g, b, alpha] = convertXyzToRgb([\n      x as number,\n      y as number,\n      z as number,\n      alpha as number\n    ]);\n  }\n  if (format === VAL_MIX && colorSpace === 'srgb') {\n    return [\n      'srgb',\n      (r as number) / MAX_RGB,\n      (g as number) / MAX_RGB,\n      (b as number) / MAX_RGB,\n      alpha!\n    ];\n  }\n  return [\n    'rgb',\n    Math.round(r as number),\n    Math.round(g as number),\n    Math.round(b as number),\n    alpha!\n  ];\n};\n\n/**\n * resolve color()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.colorSpace] - color space\n * @param {string} [opt.format] - output format\n * @returns {Array.<string|number>|?string}\n *   - [cs, v1, v2, v3, alpha], '(empty)', null\n */\nexport const resolveColorFunc = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number | string> | string | null => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { colorSpace, format } = opt;\n  if (!REG_FN_COLOR.test(value)) {\n    switch (format) {\n      case VAL_MIX: {\n        return null;\n      }\n      case VAL_SPEC: {\n        return '';\n      }\n      default: {\n        return ['rgb', 0, 0, 0, 0];\n      }\n    }\n  }\n  const [cs, x, y, z, alpha] = parseColorFunc(value, opt) as [\n    string,\n    number | string,\n    number | string,\n    number | string,\n    number | string\n  ];\n  if (REG_SPEC.test(format!) || (format === VAL_MIX && cs === colorSpace)) {\n    return [cs, x, y, z, alpha];\n  }\n  const [r, g, b] = convertXyzToRgb(\n    [x as number, y as number, z as number],\n    true\n  ) as [number, number, number];\n  return ['rgb', r, g, b, alpha as number];\n};\n\n/**\n * convert color value to linear rgb\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.colorSpace] - color space\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [r, g, b, alpha] r|g|b|alpha: 0..1\n */\nexport const convertColorToLinearRgb = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { colorSpace, format } = opt;\n  let cs, r, g, b, alpha, x, y, z;\n  if (format === VAL_MIX) {\n    let xyz;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [cs, x, y, z, alpha] = xyz as [string, number, number, number, number];\n    if (cs === colorSpace) {\n      return [x, y, z, alpha];\n    }\n    [r, g, b] = transformMatrix(MATRIX_XYZ_TO_L_RGB, [x, y, z], true) as [\n      number,\n      number,\n      number\n    ];\n  } else if (value.startsWith(FN_COLOR)) {\n    const [, val] = value.match(REG_FN_COLOR) as [string, string];\n    const [cs] = val.replace('/', ' ').split(/\\s+/);\n    if (cs === 'srgb-linear') {\n      [, r, g, b, alpha] = resolveColorFunc(value, {\n        format: VAL_COMP\n      }) as [string, number, number, number, number];\n    } else {\n      [, x, y, z, alpha] = parseColorFunc(value) as [\n        string,\n        number,\n        number,\n        number,\n        number\n      ];\n      [r, g, b] = transformMatrix(MATRIX_XYZ_TO_L_RGB, [x, y, z], true) as [\n        number,\n        number,\n        number\n      ];\n    }\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n    [r, g, b] = transformMatrix(MATRIX_XYZ_TO_L_RGB, [x, y, z], true) as [\n      number,\n      number,\n      number\n    ];\n  }\n  return [\n    Math.min(Math.max(r, 0), 1),\n    Math.min(Math.max(g, 0), 1),\n    Math.min(Math.max(b, 0), 1),\n    alpha\n  ];\n};\n\n/**\n * convert color value to rgb\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [r, g, b, alpha] r|g|b: 0..255 alpha: 0..1\n */\nexport const convertColorToRgb = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let r, g, b, alpha;\n  if (format === VAL_MIX) {\n    let rgb;\n    if (value.startsWith(FN_COLOR)) {\n      rgb = resolveColorFunc(value, opt);\n    } else {\n      rgb = resolveColorValue(value, opt);\n    }\n    if (rgb === null) {\n      return rgb!;\n    }\n    [, r, g, b, alpha] = rgb as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    const [, val] = value.match(REG_FN_COLOR) as [string, string];\n    const [cs] = val.replace('/', ' ').split(/\\s+/);\n    if (cs === 'srgb') {\n      [, r, g, b, alpha] = resolveColorFunc(value, {\n        format: VAL_COMP\n      }) as [string, number, number, number, number];\n      r *= MAX_RGB;\n      g *= MAX_RGB;\n      b *= MAX_RGB;\n    } else {\n      [, r, g, b, alpha] = resolveColorFunc(value) as [\n        string,\n        number,\n        number,\n        number,\n        number\n      ];\n    }\n  } else if (/^(?:ok)?l(?:ab|ch)/.test(value)) {\n    [r, g, b, alpha] = convertColorToLinearRgb(value) as [\n      number,\n      number,\n      number,\n      number\n    ];\n    [r, g, b] = convertLinearRgbToRgb([r, g, b]) as [number, number, number];\n  } else {\n    [, r, g, b, alpha] = resolveColorValue(value, {\n      format: VAL_COMP\n    }) as [string, number, number, number, number];\n  }\n  return [r, g, b, alpha];\n};\n\n/**\n * convert color value to xyz\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {boolean} [opt.d50] - xyz in d50 white point\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const convertColorToXyz = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    d50?: boolean;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { d50, format } = opt;\n  let x, y, z, alpha;\n  if (format === VAL_MIX) {\n    let xyz;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    const [, val] = value.match(REG_FN_COLOR) as [string, string];\n    const [cs] = val.replace('/', ' ').split(/\\s+/);\n    if (d50) {\n      if (cs === 'xyz-d50') {\n        [, x, y, z, alpha] = resolveColorFunc(value, {\n          format: VAL_COMP\n        }) as [string, number, number, number, number];\n      } else {\n        [, x, y, z, alpha] = parseColorFunc(value, opt) as [\n          string,\n          number,\n          number,\n          number,\n          number\n        ];\n      }\n    } else if (/^xyz(?:-d65)?$/.test(cs!)) {\n      [, x, y, z, alpha] = resolveColorFunc(value, {\n        format: VAL_COMP\n      }) as [string, number, number, number, number];\n    } else {\n      [, x, y, z, alpha] = parseColorFunc(value) as [\n        string,\n        number,\n        number,\n        number,\n        number\n      ];\n    }\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value, opt) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  return [x, y, z, alpha];\n};\n\n/**\n * convert color value to hsl\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [h, s, l, alpha]\n */\nexport const convertColorToHsl = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let h, s, l, alpha, x, y, z;\n  if (REG_HSL.test(value)) {\n    [, h, s, l, alpha] = parseHsl(value, {\n      format: 'hsl'\n    }) as [string, number, number, number, number];\n    if (format === 'hsl') {\n      return [\n        Math.round(h as number),\n        Math.round(s as number),\n        Math.round(l as number),\n        alpha as number\n      ];\n    }\n    return [h, s, l, alpha];\n  }\n  if (format === VAL_MIX) {\n    let xyz;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    [, x, y, z, alpha] = parseColorFunc(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  [h, s, l] = convertXyzToHsl([x, y, z], true) as [number, number, number];\n  if (format === 'hsl') {\n    return [Math.round(h), Math.round(s), Math.round(l), alpha];\n  }\n  return [h, s, l, alpha];\n};\n\n/**\n * convert color value to hwb\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [h, w, b, alpha]\n */\nexport const convertColorToHwb = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let h, w, b, alpha, x, y, z;\n  if (REG_HWB.test(value)) {\n    [, h, w, b, alpha] = parseHwb(value, {\n      format: 'hwb'\n    }) as [string, number, number, number, number];\n    if (format === 'hwb') {\n      return [Math.round(h), Math.round(w), Math.round(b), alpha];\n    }\n    return [h, w, b, alpha];\n  }\n  if (format === VAL_MIX) {\n    let xyz;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    [, x, y, z, alpha] = parseColorFunc(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  [h, w, b] = convertXyzToHwb([x, y, z], true) as [number, number, number];\n  if (format === 'hwb') {\n    return [Math.round(h), Math.round(w), Math.round(b), alpha];\n  }\n  return [h, w, b, alpha];\n};\n\n/**\n * convert color value to lab\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [l, a, b, alpha]\n */\nexport const convertColorToLab = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let l, a, b, alpha, x, y, z;\n  if (REG_LAB.test(value)) {\n    [, l, a, b, alpha] = parseLab(value, {\n      format: VAL_COMP\n    }) as [string, number, number, number, number];\n    return [l, a, b, alpha];\n  }\n  if (format === VAL_MIX) {\n    let xyz;\n    (opt as Record<string, boolean>).d50 = true;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    [, x, y, z, alpha] = parseColorFunc(value, {\n      d50: true\n    }) as [string, number, number, number, number];\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value, {\n      d50: true\n    }) as [string, number, number, number, number];\n  }\n  [l, a, b] = convertXyzD50ToLab([x, y, z], true) as [number, number, number];\n  return [l, a, b, alpha];\n};\n\n/**\n * convert color value to lch\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [l, c, h, alpha]\n */\nexport const convertColorToLch = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let l, c, h, alpha, x, y, z;\n  if (REG_LCH.test(value)) {\n    [, l, c, h, alpha] = parseLch(value, {\n      format: VAL_COMP\n    }) as [string, number, number, number, number];\n    return [l, c, h, alpha];\n  }\n  if (format === VAL_MIX) {\n    let xyz;\n    (opt as Record<string, boolean>).d50 = true;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    [, x, y, z, alpha] = parseColorFunc(value, {\n      d50: true\n    }) as [string, number, number, number, number];\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value, {\n      d50: true\n    }) as [string, number, number, number, number];\n  }\n  [l, c, h] = convertXyzD50ToLch([x, y, z], true) as [number, number, number];\n  return [l, c, h, alpha];\n};\n\n/**\n * convert color value to oklab\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [l, a, b, alpha]\n */\nexport const convertColorToOklab = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let l, a, b, alpha, x, y, z;\n  if (REG_OKLAB.test(value)) {\n    [, l, a, b, alpha] = parseOklab(value, {\n      format: VAL_COMP\n    }) as [string, number, number, number, number];\n    return [l, a, b, alpha];\n  }\n  if (format === VAL_MIX) {\n    let xyz;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    [, x, y, z, alpha] = parseColorFunc(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  [l, a, b] = convertXyzToOklab([x, y, z], true) as [number, number, number];\n  return [l, a, b, alpha];\n};\n\n/**\n * convert color value to oklch\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] - output format\n * @returns {Array.<number>} - [l, c, h, alpha]\n */\nexport const convertColorToOklch = (\n  value: string,\n  opt: {\n    colorSpace?: string;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    value = value.trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  let l, c, h, alpha, x, y, z;\n  if (REG_OKLCH.test(value)) {\n    [, l, c, h, alpha] = parseOklch(value, {\n      format: VAL_COMP\n    }) as [string, number, number, number, number];\n    return [l, c, h, alpha];\n  }\n  if (format === VAL_MIX) {\n    let xyz;\n    if (value.startsWith(FN_COLOR)) {\n      xyz = parseColorFunc(value, opt);\n    } else {\n      xyz = parseColorValue(value, opt);\n    }\n    if (xyz === null) {\n      return xyz!;\n    }\n    [, x, y, z, alpha] = xyz as [string, number, number, number, number];\n  } else if (value.startsWith(FN_COLOR)) {\n    [, x, y, z, alpha] = parseColorFunc(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else {\n    [, x, y, z, alpha] = parseColorValue(value) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  [l, c, h] = convertXyzToOklch([x, y, z], true) as [number, number, number];\n  return [l, c, h, alpha];\n};\n\n/**\n * resolve color-mix()\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {string} [opt.format] format - output format\n * @returns {Array.<string|number>|?string}\n *   - [cs, v1, v2, v3, alpha], '(empty)', null\n */\nexport const resolveColorMix = (\n  value: string,\n  opt: {\n    format?: string;\n  } = {}\n): Array<number | string> | (string | null) => {\n  if (isString(value)) {\n    value = value.toLowerCase().trim();\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { format } = opt;\n  const nestedItems = [] as Array<string>;\n  if (!REG_MIX.test(value)) {\n    if (value.startsWith(FN_MIX) && REG_MIX_NEST.test(value)) {\n      const regColorSpace = new RegExp(`^(?:${CS_RGB}|${CS_XYZ})$`);\n      const items = value.match(REG_MIX_NEST)!;\n      for (const item of items) {\n        let val = resolveColorMix(item, {\n          format: format === VAL_SPEC ? format : VAL_COMP\n        }) as [string, number, number, number, number] | string;\n        // computed value\n        if (Array.isArray(val)) {\n          const [v1, v2, v3, v4, v5] = val as [\n            string,\n            number,\n            number,\n            number,\n            number\n          ];\n          if (v2 === 0 && v3 === 0 && v4 === 0 && v5 === 0) {\n            value = '';\n            break;\n          }\n          if (regColorSpace.test(v1)) {\n            if (v5 === 1) {\n              val = `color(${v1} ${v2} ${v3} ${v4})`;\n            } else {\n              val = `color(${v1} ${v2} ${v3} ${v4} / ${v5})`;\n            }\n          } else if (v5 === 1) {\n            val = `${v1}(${v2} ${v3} ${v4})`;\n          } else {\n            val = `${v1}(${v2} ${v3} ${v4} / ${v5})`;\n          }\n        } else if (!REG_MIX.test(val)) {\n          value = '';\n          break;\n        }\n        nestedItems.push(val);\n        value = value.replace(item, val);\n      }\n      if (!value) {\n        if (format === VAL_SPEC) {\n          return '';\n        }\n        return ['rgb', 0, 0, 0, 0];\n      }\n    } else if (format === VAL_SPEC) {\n      return '';\n    } else {\n      return ['rgb', 0, 0, 0, 0];\n    }\n  }\n  let colorSpace, hueArc, colorA, pctA, colorB, pctB;\n  if (nestedItems.length && format === VAL_SPEC) {\n    const regColorSpace = new RegExp(`^color-mix\\\\(\\\\s*in\\\\s+(${CS_MIX})\\\\s*,`);\n    const [, cs] = value.match(regColorSpace) as [string, string];\n    if (REG_CS_HUE.test(cs)) {\n      [, colorSpace, hueArc] = cs.match(REG_CS_HUE) as [string, string, string];\n    } else {\n      colorSpace = cs;\n    }\n    if (nestedItems.length === 2) {\n      const itemA = nestedItems[0]!.replace(/(?=[()])/g, '\\\\');\n      const regA = new RegExp(`(${itemA})(?:\\\\s+(${PCT}))?`);\n      //if (regA.test(value)) {\n      [, colorA, pctA] = value.match(regA) as [string, string, string];\n      //}\n      const itemB = nestedItems[1]!.replace(/(?=[()])/g, '\\\\');\n      const regB = new RegExp(`(${itemB})(?:\\\\s+(${PCT}))?`);\n      //if (regB.test(value)) {\n      [, colorB, pctB] = value.match(regB) as [string, string, string];\n      //}\n    } else {\n      const colorPart = `(?:${SYN_COLOR_TYPE})(?:\\\\s+${PCT})?`;\n      const item = nestedItems[0]!.replace(/(?=[()])/g, '\\\\');\n      const itemPart = `${item}(?:\\\\s+${PCT})?`;\n      const itemPartCapt = `(${item})(?:\\\\s+(${PCT}))?`;\n      const regColorPart = new RegExp(`^(${SYN_COLOR_TYPE})(?:\\\\s+(${PCT}))?$`);\n      const regItemPart = new RegExp(`^${itemPartCapt}$`);\n      const regPosition = new RegExp(`${itemPartCapt}\\\\s*\\\\)$`);\n      // item is at the end\n      if (regPosition.test(value)) {\n        const reg = new RegExp(`(${colorPart})\\\\s*,\\\\s*(${itemPart})\\\\s*\\\\)$`);\n        const [, colorPartA, colorPartB] = value.match(reg) as [\n          string,\n          string,\n          string\n        ];\n        [, colorA, pctA] = colorPartA.match(regColorPart) as [\n          string,\n          string,\n          string\n        ];\n        [, colorB, pctB] = colorPartB.match(regItemPart) as [\n          string,\n          string,\n          string\n        ];\n      } else {\n        const reg = new RegExp(`(${itemPart})\\\\s*,\\\\s*(${colorPart})\\\\s*\\\\)$`);\n        const [, colorPartA, colorPartB] = value.match(reg) as [\n          string,\n          string,\n          string\n        ];\n        [, colorA, pctA] = colorPartA.match(regItemPart) as [\n          string,\n          string,\n          string\n        ];\n        [, colorB, pctB] = colorPartB.match(regColorPart) as [\n          string,\n          string,\n          string\n        ];\n      }\n    }\n  } else {\n    const [, cs, colorPartA, colorPartB] = value.match(REG_MIX_CAPT) as [\n      string,\n      string,\n      string,\n      string\n    ];\n    const reg = new RegExp(`^(${SYN_COLOR_TYPE})(?:\\\\s+(${PCT}))?$`);\n    [, colorA, pctA] = colorPartA.match(reg) as [string, string, string];\n    [, colorB, pctB] = colorPartB.match(reg) as [string, string, string];\n    if (REG_CS_HUE.test(cs)) {\n      [, colorSpace, hueArc] = REG_CS_HUE.exec(cs) as unknown as [\n        string,\n        string,\n        string\n      ];\n    } else {\n      colorSpace = cs;\n    }\n  }\n  // normalize percentages and set multipler\n  let pA, pB, m;\n  if (pctA && pctB) {\n    const p1 = parseFloat(pctA) / MAX_PCT;\n    const p2 = parseFloat(pctB) / MAX_PCT;\n    if (p1 < 0 || p1 > 1 || p2 < 0 || p2 > 1) {\n      if (format === VAL_SPEC) {\n        return '';\n      }\n      return ['rgb', 0, 0, 0, 0];\n    }\n    const factor = p1 + p2;\n    if (factor === 0) {\n      if (format === VAL_SPEC) {\n        return '';\n      }\n      return ['rgb', 0, 0, 0, 0];\n    }\n    pA = p1 / factor;\n    pB = p2 / factor;\n    m = factor < 1 ? factor : 1;\n  } else {\n    if (pctA) {\n      pA = parseFloat(pctA) / MAX_PCT;\n      if (pA < 0 || pA > 1) {\n        if (format === VAL_SPEC) {\n          return '';\n        }\n        return ['rgb', 0, 0, 0, 0];\n      }\n      pB = 1 - pA;\n    } else if (pctB) {\n      pB = parseFloat(pctB) / MAX_PCT;\n      if (pB < 0 || pB > 1) {\n        if (format === VAL_SPEC) {\n          return '';\n        }\n        return ['rgb', 0, 0, 0, 0];\n      }\n      pA = 1 - pB;\n    } else {\n      pA = HALF;\n      pB = HALF;\n    }\n    m = 1;\n  }\n  if (colorSpace === 'xyz') {\n    colorSpace = 'xyz-d65';\n  }\n  // specified value\n  if (format === VAL_SPEC) {\n    let valueA, valueB;\n    if (colorA.startsWith(FN_MIX)) {\n      valueA = colorA;\n    } else if (colorA.startsWith(FN_COLOR)) {\n      valueA = parseColorFunc(colorA, opt);\n      if (Array.isArray(valueA)) {\n        const [v1, v2, v3, v4, v5] = [...valueA];\n        if (v5 === 1) {\n          valueA = `color(${v1} ${v2} ${v3} ${v4})`;\n        } else {\n          valueA = `color(${v1} ${v2} ${v3} ${v4} / ${v5})`;\n        }\n      }\n    } else {\n      valueA = parseColorValue(colorA, opt);\n      if (valueA === '') {\n        return valueA;\n      }\n      if (Array.isArray(valueA)) {\n        const [v1, v2, v3, v4, v5] = [...valueA];\n        if (v5 === 1) {\n          if (v1 === 'rgb') {\n            valueA = `${v1}(${v2}, ${v3}, ${v4})`;\n          } else {\n            valueA = `${v1}(${v2} ${v3} ${v4})`;\n          }\n        } else if (v1 === 'rgb') {\n          valueA = `${v1}a(${v2}, ${v3}, ${v4}, ${v5})`;\n        } else {\n          valueA = `${v1}(${v2} ${v3} ${v4} / ${v5})`;\n        }\n      }\n    }\n    if (colorB!.startsWith(FN_MIX)) {\n      valueB = colorB;\n    } else if (colorB!.startsWith(FN_COLOR)) {\n      valueB = parseColorFunc(colorB!, opt);\n      if (Array.isArray(valueB)) {\n        const [v1, v2, v3, v4, v5] = [...valueB];\n        if (v5 === 1) {\n          valueB = `color(${v1} ${v2} ${v3} ${v4})`;\n        } else {\n          valueB = `color(${v1} ${v2} ${v3} ${v4} / ${v5})`;\n        }\n      }\n    } else {\n      valueB = parseColorValue(colorB!, opt);\n      if (valueB === '') {\n        return valueB;\n      }\n      if (Array.isArray(valueB)) {\n        const [v1, v2, v3, v4, v5] = [...valueB];\n        if (v5 === 1) {\n          if (v1 === 'rgb') {\n            valueB = `${v1}(${v2}, ${v3}, ${v4})`;\n          } else {\n            valueB = `${v1}(${v2} ${v3} ${v4})`;\n          }\n        } else if (v1 === 'rgb') {\n          valueB = `${v1}a(${v2}, ${v3}, ${v4}, ${v5})`;\n        } else {\n          valueB = `${v1}(${v2} ${v3} ${v4} / ${v5})`;\n        }\n      }\n    }\n    if (pctA && pctB) {\n      valueA += ` ${parseFloat(pctA)}%`;\n      valueB += ` ${parseFloat(pctB)}%`;\n    } else if (pctA) {\n      const pA = parseFloat(pctA);\n      if (pA !== MAX_PCT * HALF) {\n        valueA += ` ${pA}%`;\n      }\n    } else if (pctB) {\n      const pA = MAX_PCT - parseFloat(pctB);\n      if (pA !== MAX_PCT * HALF) {\n        valueA += ` ${pA}%`;\n      }\n    }\n    if (hueArc) {\n      return `color-mix(in ${colorSpace} ${hueArc} hue, ${valueA}, ${valueB})`;\n    } else {\n      return `color-mix(in ${colorSpace}, ${valueA}, ${valueB})`;\n    }\n  }\n  let r, g, b, alpha;\n  // in srgb, srgb-linear\n  if (/^srgb(?:-linear)?$/.test(colorSpace)) {\n    let rgbA, rgbB;\n    if (colorSpace === 'srgb') {\n      if (REG_CURRENT.test(colorA)) {\n        rgbA = [NONE, NONE, NONE, NONE];\n      } else {\n        rgbA = convertColorToRgb(colorA, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        rgbB = [NONE, NONE, NONE, NONE];\n      } else {\n        rgbB = convertColorToRgb(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    } else {\n      if (REG_CURRENT.test(colorA!)) {\n        rgbA = [NONE, NONE, NONE, NONE];\n      } else {\n        rgbA = convertColorToLinearRgb(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        rgbB = [NONE, NONE, NONE, NONE];\n      } else {\n        rgbB = convertColorToLinearRgb(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    }\n    if (rgbA === null || rgbB === null) {\n      return ['rgb', 0, 0, 0, 0];\n    }\n    let [rA, gA, bA, alphaA] = rgbA as [\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    let [rB, gB, bB, alphaB] = rgbB as [\n      number | string,\n      number | string,\n      number | string,\n      number | string\n    ];\n    const rNone = rA === NONE && rB === NONE;\n    const gNone = gA === NONE && gB === NONE;\n    const bNone = bA === NONE && bB === NONE;\n    const alphaNone = alphaA === NONE && alphaB === NONE;\n    [[rA, gA, bA, alphaA], [rB, gB, bB, alphaB]] = normalizeColorComponents(\n      [rA, gA, bA, alphaA],\n      [rB, gB, bB, alphaB],\n      true\n    ) as [[number, number, number, number], [number, number, number, number]];\n    const factorA = alphaA * pA;\n    const factorB = alphaB * pB;\n    alpha = factorA + factorB;\n    if (alpha === 0) {\n      r = rA * pA + rB * pB;\n      g = gA * pA + gB * pB;\n      b = bA * pA + bB * pB;\n    } else {\n      r = (rA * factorA + rB * factorB) / alpha;\n      g = (gA * factorA + gB * factorB) / alpha;\n      b = (bA * factorA + bB * factorB) / alpha;\n      alpha = parseFloat(alpha.toFixed(3));\n    }\n    if (format === VAL_COMP) {\n      return [\n        colorSpace,\n        rNone ? NONE : roundToPrecision(r, HEX),\n        gNone ? NONE : roundToPrecision(g, HEX),\n        bNone ? NONE : roundToPrecision(b, HEX),\n        alphaNone ? NONE : alpha * m\n      ];\n    }\n    r *= MAX_RGB;\n    g *= MAX_RGB;\n    b *= MAX_RGB;\n    // in xyz, xyz-d65, xyz-d50\n  } else if (REG_CS_XYZ.test(colorSpace)) {\n    let xyzA, xyzB;\n    if (REG_CURRENT.test(colorA!)) {\n      xyzA = [NONE, NONE, NONE, NONE];\n    } else {\n      xyzA = convertColorToXyz(colorA!, {\n        colorSpace,\n        d50: colorSpace === 'xyz-d50',\n        format: VAL_MIX\n      });\n    }\n    if (REG_CURRENT.test(colorB!)) {\n      xyzB = [NONE, NONE, NONE, NONE];\n    } else {\n      xyzB = convertColorToXyz(colorB!, {\n        colorSpace,\n        d50: colorSpace === 'xyz-d50',\n        format: VAL_MIX\n      });\n    }\n    if (xyzA === null || xyzB === null) {\n      return ['rgb', 0, 0, 0, 0];\n    }\n    let [xA, yA, zA, alphaA] = xyzA;\n    let [xB, yB, zB, alphaB] = xyzB;\n    const xNone = xA === NONE && xB === NONE;\n    const yNone = yA === NONE && yB === NONE;\n    const zNone = zA === NONE && zB === NONE;\n    const alphaNone = alphaA === NONE && alphaB === NONE;\n    [[xA, yA, zA, alphaA], [xB, yB, zB, alphaB]] = normalizeColorComponents(\n      [xA, yA, zA, alphaA],\n      [xB, yB, zB, alphaB],\n      true\n    ) as [[number, number, number, number], [number, number, number, number]];\n    const factorA = alphaA * pA;\n    const factorB = alphaB * pB;\n    alpha = factorA + factorB;\n    let x, y, z;\n    if (alpha === 0) {\n      x = xA * pA + xB * pB;\n      y = yA * pA + yB * pB;\n      z = zA * pA + zB * pB;\n    } else {\n      x = (xA * factorA + xB * factorB) / alpha;\n      y = (yA * factorA + yB * factorB) / alpha;\n      z = (zA * factorA + zB * factorB) / alpha;\n      alpha = parseFloat(alpha.toFixed(3));\n    }\n    if (format === VAL_COMP) {\n      return [\n        colorSpace,\n        xNone ? NONE : roundToPrecision(x, HEX),\n        yNone ? NONE : roundToPrecision(y, HEX),\n        zNone ? NONE : roundToPrecision(z, HEX),\n        alphaNone ? NONE : alpha * m\n      ];\n    }\n    if (colorSpace === 'xyz-d50') {\n      [r, g, b] = convertXyzD50ToRgb([x, y, z], true);\n    } else {\n      [r, g, b] = convertXyzToRgb([x, y, z], true);\n    }\n    // in hsl, hwb\n  } else if (/^h(?:sl|wb)$/.test(colorSpace)) {\n    let hslA, hslB;\n    if (colorSpace === 'hsl') {\n      if (REG_CURRENT.test(colorA!)) {\n        hslA = [NONE, NONE, NONE, NONE];\n      } else {\n        hslA = convertColorToHsl(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        hslB = [NONE, NONE, NONE, NONE];\n      } else {\n        hslB = convertColorToHsl(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    } else {\n      if (REG_CURRENT.test(colorA!)) {\n        hslA = [NONE, NONE, NONE, NONE];\n      } else {\n        hslA = convertColorToHwb(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        hslB = [NONE, NONE, NONE, NONE];\n      } else {\n        hslB = convertColorToHwb(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    }\n    if (hslA === null || hslB === null) {\n      return ['rgb', 0, 0, 0, 0];\n    }\n    let [hA, sA, lA, alphaA] = hslA;\n    let [hB, sB, lB, alphaB] = hslB;\n    const alphaNone = alphaA === NONE && alphaB === NONE;\n    [[hA, sA, lA, alphaA], [hB, sB, lB, alphaB]] = normalizeColorComponents(\n      [hA, sA, lA, alphaA],\n      [hB, sB, lB, alphaB],\n      true\n    ) as [[number, number, number, number], [number, number, number, number]];\n    if (hueArc) {\n      [hA, hB] = interpolateHue(hA, hB, hueArc);\n    }\n    const factorA = alphaA * pA;\n    const factorB = alphaB * pB;\n    alpha = factorA + factorB;\n    const h = ((hA as number) * pA + (hB as number) * pB) % DEG;\n    let s, l;\n    if (alpha === 0) {\n      s = sA * pA + sB * pB;\n      l = lA * pA + lB * pB;\n    } else {\n      s = (sA * factorA + sB * factorB) / alpha;\n      l = (lA * factorA + lB * factorB) / alpha;\n      alpha = parseFloat(alpha.toFixed(3));\n    }\n    [r, g, b] = convertColorToRgb(`${colorSpace}(${h} ${s} ${l})`) as [\n      number,\n      number,\n      number\n    ];\n    if (format === VAL_COMP) {\n      return [\n        'srgb',\n        roundToPrecision(r / MAX_RGB, HEX),\n        roundToPrecision(g / MAX_RGB, HEX),\n        roundToPrecision(b / MAX_RGB, HEX),\n        alphaNone ? NONE : alpha * m\n      ];\n    }\n    // in lab, oklab\n  } else if (/^(?:ok)?lab$/.test(colorSpace)) {\n    let labA, labB;\n    if (colorSpace === 'lab') {\n      if (REG_CURRENT.test(colorA!)) {\n        labA = [NONE, NONE, NONE, NONE];\n      } else {\n        labA = convertColorToLab(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        labB = [NONE, NONE, NONE, NONE];\n      } else {\n        labB = convertColorToLab(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    } else {\n      if (REG_CURRENT.test(colorA!)) {\n        labA = [NONE, NONE, NONE, NONE];\n      } else {\n        labA = convertColorToOklab(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        labB = [NONE, NONE, NONE, NONE];\n      } else {\n        labB = convertColorToOklab(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    }\n    if (labA === null || labB === null) {\n      return ['rgb', 0, 0, 0, 0];\n    }\n    let [lA, aA, bA, alphaA] = labA;\n    let [lB, aB, bB, alphaB] = labB;\n    const lNone = lA === NONE && lB === NONE;\n    const aNone = aA === NONE && aB === NONE;\n    const bNone = bA === NONE && bB === NONE;\n    const alphaNone = alphaA === NONE && alphaB === NONE;\n    [[lA, aA, bA, alphaA], [lB, aB, bB, alphaB]] = normalizeColorComponents(\n      [lA, aA, bA, alphaA],\n      [lB, aB, bB, alphaB],\n      true\n    ) as [[number, number, number, number], [number, number, number, number]];\n    const factorA = alphaA * pA;\n    const factorB = alphaB * pB;\n    alpha = factorA + factorB;\n    let l, aO, bO;\n    if (alpha === 0) {\n      l = lA * pA + lB * pB;\n      aO = aA * pA + aB * pB;\n      bO = bA * pA + bB * pB;\n    } else {\n      l = (lA * factorA + lB * factorB) / alpha;\n      aO = (aA * factorA + aB * factorB) / alpha;\n      bO = (bA * factorA + bB * factorB) / alpha;\n      alpha = parseFloat(alpha.toFixed(3));\n    }\n    if (format === VAL_COMP) {\n      return [\n        colorSpace,\n        lNone ? NONE : roundToPrecision(l, HEX),\n        aNone ? NONE : roundToPrecision(aO, HEX),\n        bNone ? NONE : roundToPrecision(bO, HEX),\n        alphaNone ? NONE : alpha * m\n      ];\n    }\n    [, r, g, b] = resolveColorValue(`${colorSpace}(${l} ${aO} ${bO})`) as [\n      string,\n      number,\n      number,\n      number\n    ];\n    // in lch, oklch\n  } else if (/^(?:ok)?lch$/.test(colorSpace)) {\n    let lchA, lchB;\n    if (colorSpace === 'lch') {\n      if (REG_CURRENT.test(colorA!)) {\n        lchA = [NONE, NONE, NONE, NONE];\n      } else {\n        lchA = convertColorToLch(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        lchB = [NONE, NONE, NONE, NONE];\n      } else {\n        lchB = convertColorToLch(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    } else {\n      if (REG_CURRENT.test(colorA!)) {\n        lchA = [NONE, NONE, NONE, NONE];\n      } else {\n        lchA = convertColorToOklch(colorA!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n      if (REG_CURRENT.test(colorB!)) {\n        lchB = [NONE, NONE, NONE, NONE];\n      } else {\n        lchB = convertColorToOklch(colorB!, {\n          colorSpace,\n          format: VAL_MIX\n        });\n      }\n    }\n    if (lchA === null || lchB === null) {\n      return ['rgb', 0, 0, 0, 0];\n    }\n    let [lA, cA, hA, alphaA] = lchA;\n    let [lB, cB, hB, alphaB] = lchB;\n    const lNone = lA === NONE && lB === NONE;\n    const cNone = cA === NONE && cB === NONE;\n    const hNone = hA === NONE && hB === NONE;\n    const alphaNone = alphaA === NONE && alphaB === NONE;\n    [[lA, cA, hA, alphaA], [lB, cB, hB, alphaB]] = normalizeColorComponents(\n      [lA, cA, hA, alphaA],\n      [lB, cB, hB, alphaB],\n      true\n    ) as [[number, number, number, number], [number, number, number, number]];\n    if (hueArc) {\n      [hA, hB] = interpolateHue(hA, hB, hueArc) as [number, number];\n    }\n    const factorA = alphaA * pA;\n    const factorB = alphaB * pB;\n    alpha = factorA + factorB;\n    const h = (hA * pA + hB * pB) % DEG;\n    let l, c;\n    if (alpha === 0) {\n      l = lA * pA + lB * pB;\n      c = cA * pA + cB * pB;\n    } else {\n      l = (lA * factorA + lB * factorB) / alpha;\n      c = (cA * factorA + cB * factorB) / alpha;\n      alpha = parseFloat(alpha.toFixed(3));\n    }\n    if (format === VAL_COMP) {\n      return [\n        colorSpace,\n        lNone ? NONE : roundToPrecision(l, HEX),\n        cNone ? NONE : roundToPrecision(c, HEX),\n        hNone ? NONE : roundToPrecision(h, HEX),\n        alphaNone ? NONE : alpha * m\n      ];\n    }\n    [, r, g, b] = resolveColorValue(`${colorSpace}(${l} ${c} ${h})`) as [\n      string,\n      number,\n      number,\n      number\n    ];\n  }\n  return [\n    'rgb',\n    Math.round(r!),\n    Math.round(g!),\n    Math.round(b!),\n    parseFloat((alpha! * m).toFixed(3))\n  ];\n};\n","/**\n * convert.js\n */\n\nimport { LRUCache } from 'lru-cache';\nimport {\n  convertColorToHsl,\n  convertColorToHwb,\n  convertColorToLab,\n  convertColorToLch,\n  convertColorToOklab,\n  convertColorToOklch,\n  convertColorToRgb,\n  numberToHexString,\n  parseColorFunc,\n  parseColorValue\n} from './color';\nimport { isString } from './common';\nimport { cssCalc } from './css-calc';\nimport { cssVar } from './css-var';\nimport { resolveRelativeColor } from './relative-color';\nimport { resolve } from './resolve';\nimport { valueToJsonString } from './util';\n\n/* constants */\nimport {\n  SYN_FN_MATH_CALC,\n  SYN_FN_REL,\n  SYN_FN_VAR,\n  VAL_COMP\n} from './constant.js';\n\n/* regexp */\nconst REG_FN_MATH_CALC = new RegExp(SYN_FN_MATH_CALC);\nconst REG_FN_REL = new RegExp(SYN_FN_REL);\nconst REG_FN_VAR = new RegExp(SYN_FN_VAR);\n\n/* cached results */\nexport const cachedResults = new LRUCache({\n  max: 4096\n});\n\n/**\n * pre process\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {?string} - value\n */\nexport const preProcess = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): string | null => {\n  if (isString(value)) {\n    value = value.trim();\n    if (!value) {\n      return null;\n    }\n  } else {\n    return null;\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{preProcess:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as string | null;\n    }\n  }\n  if (REG_FN_VAR.test(value)) {\n    const resolvedValue = cssVar(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue as string;\n    } else {\n      if (cacheKey) {\n        cachedResults.set(cacheKey, resolvedValue!);\n      }\n      return null;\n    }\n  }\n  if (REG_FN_REL.test(value)) {\n    value = resolveRelativeColor(value, opt) as string;\n  } else if (REG_FN_MATH_CALC.test(value)) {\n    const resolvedValue = cssCalc(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue as string;\n    } else {\n      if (cacheKey) {\n        cachedResults.set(cacheKey, resolvedValue!);\n      }\n      return null;\n    }\n  }\n  if (value.startsWith('color-mix')) {\n    value = resolve(value, {\n      format: VAL_COMP\n    }) as string;\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, value);\n  }\n  return value;\n};\n\n/**\n * convert number to hex string\n * @param {number} value - color value\n * @returns {string} - hex string: 00..ff\n */\nexport const numberToHex = (value: number): string => {\n  const cacheKey = typeof value === 'number' && `{numberToHex:${value}}`;\n  if (cacheKey && cachedResults.has(cacheKey)) {\n    return cachedResults.get(cacheKey) as string;\n  }\n  const hex = numberToHexString(value);\n  if (cacheKey) {\n    cachedResults.set(cacheKey, hex);\n  }\n  return hex;\n};\n\n/**\n * convert color to hex\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {boolean} [opt.alpha] - return in #rrggbbaa notation\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {?string} - #rrggbb | #rrggbbaa | null\n */\nexport const colorToHex = (\n  value: string,\n  opt: {\n    alpha?: boolean;\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): string | null => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return null!;\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { alpha, customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToHex:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as string | null;\n    }\n  }\n  let hex;\n  if (alpha) {\n    opt.format = 'hexAlpha';\n    hex = resolve(value, opt) as string | null;\n  } else {\n    opt.format = 'hex';\n    hex = resolve(value, opt) as string | null;\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, hex!);\n  }\n  return hex;\n};\n\n/**\n * convert color to hsl\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [h, s, l, alpha]\n */\nexport const colorToHsl = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToHsl:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  opt.format = 'hsl';\n  const hsl = convertColorToHsl(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, hsl);\n  }\n  return hsl;\n};\n\n/**\n * convert color to hwb\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [h, w, b, alpha]\n */\nexport const colorToHwb = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToHwb:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  opt.format = 'hwb';\n  const hwb = convertColorToHwb(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, hwb);\n  }\n  return hwb;\n};\n\n/**\n * convert color to lab\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [l, a, b, alpha]\n */\nexport const colorToLab = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToLab:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  const lab = convertColorToLab(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, lab);\n  }\n  return lab;\n};\n\n/**\n * convert color to lch\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [l, c, h, alpha]\n */\nexport const colorToLch = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToLch:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  const lch = convertColorToLch(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, lch);\n  }\n  return lch;\n};\n\n/**\n * convert color to oklab\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [l, a, b, alpha]\n */\nexport const colorToOklab = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToOklab:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  const lab = convertColorToOklab(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, lab);\n  }\n  return lab;\n};\n\n/**\n * convert color to oklch\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [l, c, h, alpha]\n */\nexport const colorToOklch = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToOklch:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  const lch = convertColorToOklch(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, lch);\n  }\n  return lch;\n};\n\n/**\n * convert color to rgb\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [r, g, b, alpha]\n */\nexport const colorToRgb = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToRgb:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  const rgb = convertColorToRgb(value, opt) as Array<number>;\n  if (cacheKey) {\n    cachedResults.set(cacheKey, rgb);\n  }\n  return rgb;\n};\n\n/**\n * convert color to xyz\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.d50] - white poin in d50\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const colorToXyz = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    d50?: boolean;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  if (isString(value)) {\n    const resolvedValue = preProcess(value, opt) as string | null;\n    if (resolvedValue) {\n      value = resolvedValue.toLowerCase() as string;\n    } else {\n      return [0, 0, 0, 0];\n    }\n  } else {\n    throw new TypeError(`${value} is not a string.`);\n  }\n  const { customProperty } = opt;\n  let cacheKey;\n  if (\n    typeof (customProperty as { callback?: (item: string) => string })\n      ?.callback !== 'function'\n  ) {\n    cacheKey = `{colorToXyz:${value},opt:${valueToJsonString(opt)}}`;\n    if (cachedResults.has(cacheKey)) {\n      return cachedResults.get(cacheKey) as Array<number>;\n    }\n  }\n  let xyz;\n  if (value.startsWith('color(')) {\n    [, ...xyz] = parseColorFunc(value, opt) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  } else {\n    [, ...xyz] = parseColorValue(value, opt) as [\n      string,\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n  if (cacheKey) {\n    cachedResults.set(cacheKey, xyz as Array<number>);\n  }\n  return xyz as Array<number>;\n};\n\n/**\n * convert color to xyz-d50\n * @param {string} value - color value\n * @param {object} [opt] - options\n * @param {object} [opt.customProperty] - custom properties\n * @param {object} [opt.dimension] - dimension\n * @returns {Array.<number>} - [x, y, z, alpha]\n */\nexport const colorToXyzD50 = (\n  value: string,\n  opt: {\n    customProperty?: object;\n    d50?: boolean;\n    dimension?: object;\n    format?: string;\n  } = {}\n): Array<number> => {\n  opt.d50 = true;\n  return colorToXyz(value, opt) as Array<number>;\n};\n\n/* convert */\nexport const convert = {\n  colorToHex,\n  colorToHsl,\n  colorToHwb,\n  colorToLab,\n  colorToLch,\n  colorToOklab,\n  colorToOklch,\n  colorToRgb,\n  colorToXyz,\n  colorToXyzD50,\n  numberToHex\n};\n"],"names":["perf","warned","PROCESS","emitWarning","msg","type","code","fn","AC","AS","_a","__publicField","_","warnACPolyfill","reason","_b","printACPolyfillWarning","shouldWarn","isPosInt","n","getUintArray","max","ZeroArray","size","_constructing","_Stack","HeapCls","__privateGet","__privateSet","s","__privateAdd","Stack","_max","_maxSize","_dispose","_disposeAfter","_fetchMethod","_memoMethod","_size","_calculatedSize","_keyMap","_keyList","_valList","_next","_prev","_head","_tail","_free","_disposed","_sizes","_starts","_ttls","_hasDispose","_hasFetchMethod","_hasDisposeAfter","_LRUCache_instances","initializeTTLTracking_fn","_updateItemAge","_statusTTL","_setItemTTL","_isStale","initializeSizeTracking_fn","_removeItemSize","_addItemSize","_requireSize","indexes_fn","rindexes_fn","isValidIndex_fn","evict_fn","backgroundFetch_fn","isBackgroundFetch_fn","connect_fn","moveToTail_fn","delete_fn","clear_fn","_LRUCache","options","_i","_s","_st","_k","_v","sizeCalculation","ttl","ttlResolution","ttlAutopurge","updateAgeOnGet","updateAgeOnHas","allowStale","dispose","disposeAfter","noDisposeOnSet","noUpdateTTL","maxSize","maxEntrySize","fetchMethod","memoMethod","noDeleteOnFetchRejection","noDeleteOnStaleGet","allowStaleOnFetchRejection","allowStaleOnFetchAbort","ignoreFetchAbort","UintArray","__privateMethod","c","p","k","index","context","key","i","getOptions","v","value","thisp","deleted","entry","start","remain","arr","age","setOptions","_c","_d","_e","status","__privateWrapper","oldVal","oldValue","dt","task","val","hasOptions","peekOptions","fetchOptions","forceRefresh","signal","stale","isStale","staleVal","memoOptions","vv","fetching","ttls","starts","t","cachedNow","getNow","sizes","free","head","ac","fetchOpts","cb","updateCache","aborted","ignoreAbort","fetchFail","bf","eb","er","allowStaleAborted","noDelete","pcall","res","rej","fmp","b","pi","ni","LRUCache","isString","o","ParseError","e","ParseErrorWithToken","r","stringify","checkIfFourCodePointsWouldStartCDO","isDigitCodePoint","isUppercaseLetterCodePoint","isLowercaseLetterCodePoint","isHexDigitCodePoint","isLetterCodePoint","isIdentStartCodePoint","isNonASCII_IdentCodePoint","isIdentCodePoint","isSurrogate","isNewLine","isWhitespace","checkIfTwoCodePointsAreAValidEscape","checkIfThreeCodePointsWouldStartAnIdentSequence","checkIfThreeCodePointsWouldStartANumber","checkIfTwoCodePointsStartAComment","checkIfThreeCodePointsWouldStartCDC","a","u","mirrorVariantType","mirrorVariant","consumeComment","consumeEscapedCodePoint","consumeIdentSequence","consumeHashToken","consumeNumber","consumeNumericToken","consumeWhiteSpace","Reader","consumeStringToken","checkIfCodePointsMatchURLIdent","consumeBadURL","consumeUrlToken","consumeIdentLikeToken","checkIfThreeCodePointsWouldStartAUnicodeRange","consumeUnicodeRangeToken","tokenize","tokenizer","d","noop","mutateUnit","ensureThatValueRoundTripsAsIdent","insertEscapedCodePoint","isToken","isTokenNumeric","isTokenWhiteSpaceOrComment","isTokenComma","isTokenComment","isTokenDelim","isTokenDimension","isTokenEOF","isTokenFunction","isTokenHash","isTokenIdent","isTokenNumber","isTokenPercentage","isTokenWhitespace","isTokenOpenParen","isTokenCloseParen","isTokenOpenSquare","isTokenOpenCurly","f","walkerIndexGenerator","consumeComponentValue","consumeSimpleBlock","consumeFunction","consumeWhitespace","l","TokenNode","ContainerNodeBaseClass","FunctionNode","h","consumeAllCommentsAndWhitespace","SimpleBlockNode","m","WhitespaceNode","CommentNode","parseComponentValue","parseCommaSeparatedListOfComponentValues","forEach","walk","replaceComponentValues","isSimpleBlockNode","isFunctionNode","isWhitespaceNode","isCommentNode","isWhiteSpaceOrCommentNode","isTokenNode","E","toLowerCaseAZ","S","I","y","M","T","x","P","O","W","L","U","Z","$","z","q","G","convertUnit","toCanonicalUnit","addition","C","g","division","isCalculation","solve","multiplication","resolveGlobalsAndConstants","D","unary","B","resultToCalculation","dimensionToCalculation","percentageToCalculation","numberToCalculation","solveACos","solveASin","solveATan","isDimensionOrNumber","arrayOfSameNumeric","twoOfSameNumeric","solveATan2","solveAbs","solveClamp","solveCos","solveExp","solveHypot","solveMax","solveMin","solveMod","solvePow","solveRem","solveRound","solveSign","solveSin","solveSqrt","solveTan","subtraction","solveLog","j","isNone","solveRandom","sfc32","crc32","N","R","singleNodeSolver","twoCommaSeparatedNodesSolver","calc$1","F","calcWrapper","maxWrapper","variadicNodesSolver","twoCommaSeparatedArguments","singleArgument","V","A","variadicArguments","patchNaN","patchInfinity","patchMinusZero","patchPrecision","patchCanonicalUnit","patchCalcResult","tokenizeGlobals","calc","calcFromComponentValues","w","Y","VAL_COMP","VAL_SPEC","_DIGIT","_COMP","_STEP","_TRIG","_EXP","_SIGN","_MATH","_CALC","_VAR","ANGLE","NUM","NONE","PCT","SYN_FN_MATH","SYN_FN_MATH_CALC","SYN_FN_MATH_VAR","SYN_FN_VAR","_ALPHA","_ALPHA_LV3","_COLOR_FUNC","_COLOR_KEY","_CS_HUE","_CS_HUE_ARC","_NUM_ANGLE","_NUM_ANGLE_NONE","_NUM_PCT_NONE","CS_HUE","CS_HUE_CAPT","CS_LAB","CS_LCH","CS_SRGB","CS_RGB","CS_XYZ","CS_MIX","FN_COLOR","FN_MIX","FN_REL","FN_REL_CAPT","FN_VAR","SYN_FN_COLOR","SYN_FN_REL","SYN_HSL","SYN_HSL_LV3","SYN_LCH","SYN_MOD","SYN_RGB_LV3","SYN_COLOR_TYPE","SYN_MIX_PART","SYN_MIX","SYN_MIX_CAPT","PAREN_CLOSE","COMMENT","DIM","EOF","FUNC","PAREN_OPEN","W_SPACE","TokenType","HEX","MAX_PCT","REG_FN_MATH_CALC","REG_FN_VAR","REG_OPERATOR","REG_START_MATH","REG_START_MATH_VAR","REG_TYPE_DIM","REG_TYPE_DIM_PCT","REG_TYPE_PCT","cachedResults","_hasNum","_numSum","_numMul","_hasPct","_pctSum","_pctMul","_hasDim","_dimSum","_dimSub","_dimMul","_dimDiv","_hasEtc","_etcSum","_etcSub","_etcMul","_etcDiv","Calculator","values","valA","unitA","valB","unitB","num","dim","mul","div","sum","sub","item","sortCalcValues","finalize","end","sortedValues","cal","operator","sortedValue","numValue","resolvedValue","finalizedValues","serializeCalc","opt","format","cacheKey","valueToJsonString","items","token","startIndex","endIndex","slicedValues","serializedValue","serializedCalc","resolveDimension","detail","unit","relativeValue","dimension","pixelValue","parseTokens","tokens","mathFunc","nest","lastValue","cssCalc","roundToPrecision","IDENT","resolveCustomProperty","customProperty","restTokens","resolveAsColor","isColor","cssVar","color","multiplyMatrices","D50_to_D65","D65_to_D50","HSL_to_sRGB","HSL_to_sRGB_channel","HWB_to_sRGB","LCH_to_Lab","Lab_to_LCH","Lab_to_XYZ","OKLCH_to_OKLab","OKLab_to_OKLCH","OKLab_to_XYZ","XYZ_to_Lab","compute_f","XYZ_to_OKLab","XYZ_to_lin_P3","XYZ_to_lin_sRGB","gam_2020_channel","gam_sRGB","gam_sRGB_channel","gam_P3","gam_ProPhoto_channel","gam_a98rgb_channel","X","lin_2020_channel","lin_sRGB","lin_sRGB_channel","lin_P3","lin_P3_to_XYZ","lin_ProPhoto_channel","lin_a98rgb_channel","lin_sRGB_to_XYZ","sRGB_to_HSL","sRGB_to_Hue","sRGB_to_XYZ_D50","XYZ_D50_to_sRGB","HSL_to_XYZ_D50","XYZ_D50_to_HSL","HWB_to_XYZ_D50","XYZ_D50_to_HWB","Lab_to_XYZ_D50","XYZ_D50_to_Lab","LCH_to_XYZ_D50","XYZ_D50_to_LCH","OKLab_to_XYZ_D50","XYZ_D50_to_OKLab","OKLCH_to_XYZ_D50","XYZ_D50_to_OKLCH","lin_sRGB_to_XYZ_D50","XYZ_D50_to_lin_sRGB","a98_RGB_to_XYZ_D50","XYZ_D50_to_a98_RGB","P3_to_XYZ_D50","XYZ_D50_to_P3","rec_2020_to_XYZ_D50","XYZ_D50_to_rec_2020","ProPhoto_RGB_to_XYZ_D50","XYZ_D50_to_ProPhoto","XYZ_D65_to_XYZ_D50","XYZ_D50_to_XYZ_D65","inGamut","clip","mapGamutRayTrace","rayTraceBox","luminance","contrast_ratio_wcag_2_1","se","ue","convertNaNToZero","colorData_to_XYZ_D50","ce","colorDataTo","H","carryForwardMissingComponents","convertPowerlessComponentsToMissingComponents","reducePrecision","normalizeRelativeColorDataChannels","dummyNumberToken","noneToZeroInRelativeColorDataChannels","normalize","ie","normalize_Color_ChannelValues","he","color$1","J","Q","ee","ae","te","le","colorSpaceNameToColorNotation","ne","me","pe","Ne","colorMix","colorMixPolar","colorMixComponents","colorMixRectangular","fillInMissingComponent","premultiply","interpolate","un_premultiply","hex","normalizeHue","normalize_legacy_HSL_ChannelValues","normalize_modern_HSL_ChannelValues","threeChannelLegacySyntax","threeChannelSpaceSeparated","hsl","hslCommaSeparated","hslSpaceSeparated","normalize_HWB_ChannelValues","normalize_Lab_ChannelValues","lab","normalize_LCH_ChannelValues","lch","be","namedColor","normalize_OKLab_ChannelValues","oklab","normalize_OKLCH_ChannelValues","oklch","normalize_legacy_sRGB_ChannelValues","normalize_modern_sRGB_ChannelValues","rgb","rgbCommaSeparated","rgbSpaceSeparated","XYZ_D50_to_sRGB_Gamut","oklch_to_lin_srgb","lin_srgb_to_oklch","K","contrastColor","NONE_KEY","SyntaxFlag","OCT","DEC","MAX_RGB","REG_COLOR_CAPT","REG_CS_HSL","REG_CS_CIE","REG_REL","REG_REL_CAPT","REG_START_REL","resolveColorChannels","colorSpace","colorChannel","channels","func","channel","channelValues","extractOriginColor","currentColor","cs","originColor","restValue","NAMED_COLORS","resolvedOriginColor","resolve","channelValue","v1","v2","v3","v4","tokenValue","resolveRelativeColor","components","parsedComponents","colorParser","alphaComponent","channelsComponent","colorNotation","syntaxFlags","alpha","hasNone","colorToRgb","RGB_TRANSPARENT","REG_FN_REL","resolvedColor","resolveColorMix","resolveColorFunc","resolveColorValue","convertRgbToHex","DEG","DEG_HALF","REG_COLOR","REG_MIX","_key","replacedValue","bit","interpolateHue","hueA","hueB","arc","VAL_MIX","PPTH","HALF","DUO","TRIA","QUAT","DOZ","SEXA","POW_SQR","POW_CUBE","POW_LINEAR","LINEAR_COEF","LINEAR_OFFSET","LAB_L","LAB_A","LAB_B","LAB_EPSILON","LAB_KAPPA","D50","MATRIX_D50_TO_D65","MATRIX_D65_TO_D50","MATRIX_L_RGB_TO_XYZ","MATRIX_XYZ_TO_L_RGB","MATRIX_XYZ_TO_LMS","MATRIX_LMS_TO_XYZ","MATRIX_OKLAB_TO_LMS","MATRIX_LMS_TO_OKLAB","MATRIX_P3_TO_XYZ","MATRIX_REC2020_TO_XYZ","MATRIX_A98_TO_XYZ","MATRIX_PROPHOTO_TO_XYZ_D50","REG_CS_HUE","REG_CS_XYZ","REG_CURRENT","REG_FN_COLOR","REG_HSL","REG_HWB","REG_LAB","REG_LCH","REG_MIX_CAPT","REG_MIX_NEST","REG_OKLAB","REG_OKLCH","REG_SPEC","validateColorComponents","minLength","maxLength","minRange","maxRange","validateRange","transformMatrix","mtx","vct","skip","r1c1","r1c2","r1c3","r2c1","r2c2","r2c3","r3c1","r3c2","r3c3","p1","p2","p3","normalizeColorComponents","colorA","colorB","numberToHexString","angleToDeg","angle","GRAD","RAD","reg","deg","parseAlpha","_alpha","parseHexAlpha","alphaMap","convertRgbToLinearRgb","rr","gg","bb","COND_POW","convertRgbToXyz","aa","convertLinearRgbToRgb","round","convertXyzToRgb","xyz","convertXyzToHsl","min","convertXyzToHwb","bk","convertXyzToOklab","xyzLms","lPct","convertXyzToOklch","convertXyzD50ToRgb","xyzD65","convertXyzD50ToLab","xyzD50","f0","f1","f2","convertXyzD50ToLch","convertHexToRgb","convertHexToLinearRgb","convertHexToXyz","parseRgb","parseHsl","ll","sa","rk","gk","parseHwb","factor","parseLab","COEF_PCT","fl","fa","fb","powFl","powFa","powFb","parseLch","parseOklab","parseOklch","cl","parseColorFunc","d50","linearRgb","ALPHA","BETA","REC_COEF","POW_A98","parseColorValue","convertColorToLinearRgb","convertColorToRgb","convertColorToXyz","convertColorToHsl","convertColorToHwb","convertColorToLab","convertColorToLch","convertColorToOklab","convertColorToOklch","nestedItems","regColorSpace","v5","hueArc","pctA","pctB","itemA","regA","itemB","regB","colorPart","itemPart","itemPartCapt","regColorPart","regItemPart","colorPartA","colorPartB","pA","pB","valueA","valueB","rgbA","rgbB","rA","gA","bA","alphaA","rB","gB","bB","alphaB","rNone","gNone","bNone","alphaNone","factorA","factorB","xyzA","xyzB","xA","yA","zA","xB","yB","zB","xNone","yNone","zNone","hslA","hslB","hA","sA","lA","hB","sB","lB","labA","labB","aA","aB","lNone","aNone","aO","bO","lchA","lchB","cA","cB","cNone","hNone","preProcess","numberToHex","colorToHex","colorToHsl","colorToHwb","hwb","colorToLab","colorToLch","colorToOklab","colorToOklch","colorToXyz","colorToXyzD50","convert"],"mappings":"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","x_google_ignoreList":[0,2,3,4,8,9]}