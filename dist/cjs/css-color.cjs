var Re=Object.defineProperty;var lr=Object.getOwnPropertyDescriptor;var fr=Object.getOwnPropertyNames;var hr=Object.prototype.hasOwnProperty;var xr=(t,n)=>{for(var a in n)Re(t,a,{get:n[a],enumerable:!0})},pr=(t,n,a,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of fr(n))!hr.call(t,r)&&r!==a&&Re(t,r,{get:()=>n[r],enumerable:!(i=lr(n,r))||i.enumerable});return t};var $r=t=>pr(Re({},"__esModule",{value:!0}),t);var Mn={};xr(Mn,{convert:()=>cr,cssCalc:()=>ut,isColor:()=>Nt,resolve:()=>pt});module.exports=$r(Mn);var or=require("lru-cache");var T=t=>typeof t=="string"||t instanceof String;var Xs=require("lru-cache");var K=require("@csstools/css-calc"),Gt=require("@csstools/css-tokenizer"),ys=require("lru-cache");var V="computedValue",R="specifiedValue",os="(?:0|[1-9]\\d*)",mr="clamp|max|min",gr="mod|rem|round",ur="a?(?:cos|sin|tan)|atan2",br="exp|hypot|log|pow|sqrt",Fr="abs|sign",as=`${mr}|${gr}|${ur}|${br}|${Fr}`,Me=`calc|${as}`,dr=`var|${Me}`,se="deg|g?rad|turn",tt=`[+-]?(?:${os}(?:\\.\\d*)?|\\.\\d+)(?:e-?${os})?`,h="none",Q=`${tt}%`,re=`^(?:${as})\\($`,Ft=`^(?:${Me})\\(|(?<=[*\\/\\s\\(])(?:${Me})\\(`,cs=`^(?:${dr})\\(`,ft="^var\\(|(?<=[*\\/\\s\\(])var\\(",ne=`(?:\\s*\\/\\s*(?:${tt}|${Q}|${h}))?`,ls=`(?:\\s*,\\s*(?:${tt}|${Q}))?`,fs="(?:ok)?l(?:ab|ch)|color|hsla?|hwb|rgba?",wr="[a-z]+|#[\\da-f]{3}|#[\\da-f]{4}|#[\\da-f]{6}|#[\\da-f]{8}",hs="(?:ok)?lch|hsl|hwb",xs="(?:de|in)creasing|longer|shorter",yr=`${tt}(?:${se})?`,ps=`(?:${tt}(?:${se})?|${h})`,Xt=`(?:${tt}|${Q}|${h})`,Er=`(?:${hs})(?:\\s(?:${xs})\\shue)?`,$s=`(${hs})(?:\\s(${xs})\\shue)?`,Le="(?:ok)?lab",ms="(?:ok)?lch",gs="srgb(?:-linear)?",Se=`(?:a98|prophoto)-rgb|display-p3|rec2020|${gs}`,ie="xyz(?:-d(?:50|65))?",oe=`${Er}|${Le}|${gs}|${ie}`,B="color(",ht="color-mix(",Lt=`(?:${fs})\\(\\s*from\\s+`,us=`(${fs})\\(\\s*from\\s+`,_t="var(",Pe=`(?:${Se}|${ie})(?:\\s+${Xt}){3}${ne}`,ae=`^${Lt}|(?<=[\\s])${Lt}`,ce=`${ps}(?:\\s+${Xt}){2}${ne}`,Oe=`${yr}(?:\\s*,\\s*${Q}){2}${ls}`,le=`(?:${Xt}\\s+){2}${ps}${ne}`,Yt=`${Xt}(?:\\s+${Xt}){2}${ne}`,ke=`(?:${tt}(?:\\s*,\\s*${tt}){2}|${Q}(?:\\s*,\\s*${Q}){2})${ls}`,xt=`${wr}|hsla?\\(\\s*${Oe}\\s*\\)|rgba?\\(\\s*${ke}\\s*\\)|(?:hsla?|hwb)\\(\\s*${ce}\\s*\\)|(?:(?:ok)?lab|rgba?)\\(\\s*${Yt}\\s*\\)|(?:ok)?lch\\(\\s*${le}\\s*\\)|color\\(\\s*${Pe}\\s*\\)`,ee=`(?:${xt})(?:\\s+${Q})?`,Ct=`color-mix\\(\\s*in\\s+(?:${oe})\\s*,\\s*${ee}\\s*,\\s*${ee}\\s*\\)`,bs=`color-mix\\(\\s*in\\s+(${oe})\\s*,\\s*(${ee})\\s*,\\s*(${ee})\\s*\\)`;var{CloseParen:_r,Comment:Es,Dimension:Cr,EOF:Nr,Function:Ar,OpenParen:Tr,Whitespace:_s}=Gt.TokenType,Rr=16,Fs=100,Mr=new RegExp(Ft),Lr=new RegExp(ft),ds=/\s[*+/-]\s/,Sr=new RegExp(re),he=new RegExp(cs),fe=new RegExp(`^(${tt})([a-z]+)$`),St=new RegExp(`^(${tt})([a-z]+|%)$`),dt=new RegExp(`^(${tt})%$`),Pt=new ys.LRUCache({max:4096}),De=class{#e;#x;#p;#s;#$;#m;#t;#c;#l;#r;#n;#o;#a;#i;#f;#h;constructor(){this.#e=!1,this.#x=[],this.#p=[],this.#s=!1,this.#$=[],this.#m=[],this.#t=!1,this.#c=[],this.#l=[],this.#r=[],this.#n=[],this.#o=!1,this.#a=[],this.#i=[],this.#f=[],this.#h=[]}get hasNum(){return this.#e}set hasNum(n){this.#e=!!n}get numSum(){return this.#x}get numMul(){return this.#p}get hasPct(){return this.#s}set hasPct(n){this.#s=!!n}get pctSum(){return this.#$}get pctMul(){return this.#m}get hasDim(){return this.#t}set hasDim(n){this.#t=!!n}get dimSum(){return this.#c}get dimSub(){return this.#l}get dimMul(){return this.#r}get dimDiv(){return this.#n}get hasEtc(){return this.#o}set hasEtc(n){this.#o=!!n}get etcSum(){return this.#a}get etcSub(){return this.#i}get etcMul(){return this.#f}get etcDiv(){return this.#h}clear(){this.#e=!1,this.#x=[],this.#p=[],this.#s=!1,this.#$=[],this.#m=[],this.#t=!1,this.#c=[],this.#l=[],this.#r=[],this.#n=[],this.#o=!1,this.#a=[],this.#i=[],this.#f=[],this.#h=[]}sort(n=[]){let a=[...n];return a.length>1&&a.sort((i,r)=>{let s;if(St.test(i)&&St.test(r)){let[,e,o]=St.exec(i),[,c,f]=St.exec(r);o===f?Number(e)===Number(c)?s=0:Number(e)>Number(c)?s=1:s=-1:o>f?s=1:s=-1}else i===r?s=0:i>r?s=1:s=-1;return s}),a}multiply(){let n=[],a;if(this.#e){a=1;for(let i of this.#p)if(a*=i,a===0||!Number.isFinite(a)||Number.isNaN(a))break;!this.#s&&!this.#t&&!this.hasEtc&&n.push(a)}if(this.#s){this.#e||(a=1);for(let i of this.#m)if(a*=i,a===0||!Number.isFinite(a)||Number.isNaN(a))break;Number.isFinite(a)&&(a=`${a}%`),!this.#t&&!this.hasEtc&&n.push(a)}if(this.#t){let i,r,s;this.#r.length&&(this.#r.length===1?[r]=this.#r:r=`${this.sort(this.#r).join(" * ")}`),this.#n.length&&(this.#n.length===1?[s]=this.#n:s=`${this.sort(this.#n).join(" * ")}`),Number.isFinite(a)?(r?s?s.includes("*")?i=(0,K.calc)(`calc(${a} * ${r} / (${s}))`,{toCanonicalUnits:!0}):i=(0,K.calc)(`calc(${a} * ${r} / ${s})`,{toCanonicalUnits:!0}):i=(0,K.calc)(`calc(${a} * ${r})`,{toCanonicalUnits:!0}):s.includes("*")?i=(0,K.calc)(`calc(${a} / (${s}))`,{toCanonicalUnits:!0}):i=(0,K.calc)(`calc(${a} / ${s})`,{toCanonicalUnits:!0}),n.push(i.replace(/^calc/,""))):(!n.length&&a!==void 0&&n.push(a),r?(s?s.includes("*")?i=(0,K.calc)(`calc(${r} / (${s}))`,{toCanonicalUnits:!0}):i=(0,K.calc)(`calc(${r} / ${s})`,{toCanonicalUnits:!0}):i=(0,K.calc)(`calc(${r})`,{toCanonicalUnits:!0}),n.length?n.push("*",i.replace(/^calc/,"")):n.push(i.replace(/^calc/,""))):(i=(0,K.calc)(`calc(${s})`,{toCanonicalUnits:!0}),n.length?n.push("/",i.replace(/^calc/,"")):n.push("1","/",i.replace(/^calc/,""))))}if(this.#o){if(this.#f.length){!n.length&&a!==void 0&&n.push(a);let i=this.sort(this.#f).join(" * ");n.length?n.push(`* ${i}`):n.push(`${i}`)}if(this.#h.length){let i=this.sort(this.#h).join(" * ");i.includes("*")?n.length?n.push(`/ (${i})`):n.push(`1 / (${i})`):n.length?n.push(`/ ${i}`):n.push(`1 / ${i}`)}}return n.join(" ")||null}sum(){let n=[];if(this.#e){let a=0;for(let i of this.#x)if(a+=i,!Number.isFinite(a)||Number.isNaN(a))break;n.push(a)}if(this.#s){let a=0;for(let i of this.#$)if(a+=i,!Number.isFinite(a)||Number.isNaN(a))break;Number.isFinite(a)&&(a=`${a}%`),n.length?n.push(`+ ${a}`):n.push(a)}if(this.#t){let a,i,r;this.#c.length&&(i=this.#c.join(" + ")),this.#l.length&&(r=this.#l.join(" + ")),i?r?r.includes("-")?a=(0,K.calc)(`calc(${i} - (${r}))`,{toCanonicalUnits:!0}):a=(0,K.calc)(`calc(${i} - ${r})`,{toCanonicalUnits:!0}):a=(0,K.calc)(`calc(${i})`,{toCanonicalUnits:!0}):a=(0,K.calc)(`calc(-1 * (${r}))`,{toCanonicalUnits:!0}),n.length?n.push("+",a.replace(/^calc/,"")):n.push(a.replace(/^calc/,""))}if(this.#o){if(this.#a.length){let a=this.sort(this.#a).map(i=>{let r;return ds.test(i)&&!i.startsWith("(")&&!i.endsWith(")")?r=`(${i})`:r=i,r}).join(" + ");n.length?this.#a.length>1?n.push(`+ (${a})`):n.push(`+ ${a}`):n.push(`${a}`)}if(this.#i.length){let a=this.sort(this.#i).map(i=>{let r;return ds.test(i)&&!i.startsWith("(")&&!i.endsWith(")")?r=`(${i})`:r=i,r}).join(" + ");n.length?this.#i.length>1?n.push(`- (${a})`):n.push(`- ${a}`):this.#i.length>1?n.push(`-1 * (${a})`):n.push(`-1 * ${a}`)}}return n.join(" ")||null}},ws=(t=[],n=!1)=>{if(t.length<3)return null;let a=t.shift(),i=t.pop();if(t.length===1){let[c]=t;return`${a}${c}${i}`}let r=[],s=new De,e;for(let c=0,f=t.length;c<f;c++){let l=t[c];if(l==="*"||l==="/")e=l;else if(l==="+"||l==="-"){let x=s.multiply();r.push(x,l),s.clear(),e=null}else{switch(e){case"/":{if(Number.isFinite(l*1))s.hasNum=!0,s.numMul.push(1/l);else if(dt.test(l)){let[,x]=dt.exec(l);s.hasPct=!0,s.pctMul.push(Fs*Fs/Number(x))}else fe.test(l)?(s.hasDim=!0,s.dimDiv.push(l)):(s.hasEtc=!0,s.etcDiv.push(l));break}case"*":default:if(Number.isFinite(l*1))s.hasNum=!0,s.numMul.push(l*1);else if(dt.test(l)){let[,x]=dt.exec(l);s.hasPct=!0,s.pctMul.push(Number(x))}else fe.test(l)?(s.hasDim=!0,s.dimMul.push(l)):(s.hasEtc=!0,s.etcMul.push(l))}if(c===f-1){let x=s.multiply();r.push(x),s.clear(),e=null}}}let o;if(n&&(r.includes("+")||r.includes("-"))){let c=[];s.clear(),e=null;for(let f=0,l=r.length;f<l;f++){let x=r[f];if(x==="+"||x==="-")e=x;else{switch(e){case"-":{if(Number.isFinite(x*1))s.hasNum=!0,s.numSum.push(-1*x);else if(dt.test(x)){let[,p]=dt.exec(x);s.hasPct=!0,s.pctSum.push(-1*Number(p))}else fe.test(x)?(s.hasDim=!0,s.dimSub.push(x)):(s.hasEtc=!0,s.etcSub.push(x));break}case"+":default:if(Number.isFinite(x*1))s.hasNum=!0,s.numSum.push(x*1);else if(dt.test(x)){let[,p]=dt.exec(x);s.hasPct=!0,s.pctSum.push(Number(p))}else fe.test(x)?(s.hasDim=!0,s.dimSum.push(x)):(s.hasEtc=!0,s.etcSum.push(x))}if(f===l-1){let p=s.sum();c.push(p),s.clear(),e=null}}}o=c.join(" ")}else o=r.join(" ");return`${a}${o}${i}`},Cs=(t,n={})=>{let{format:a}=n;if(T(t)){if(!he.test(t)||a!==R)return t;t=t.toLowerCase().trim()}else throw new TypeError(`${t} is not a string`);let i=`{serializeCalc:${t},opt:${X(n)}}`;if(Pt.has(i))return Pt.get(i);let r=(0,Gt.tokenize)({css:t}).map(o=>{let[c,f]=o,l;return c!==_s&&c!==Es&&(l=f),l}).filter(o=>o),s=r.findLastIndex(o=>/\($/.test(o));for(;s;){let o=r.findIndex((l,x)=>l===")"&&x>s),c=r.slice(s,o+1),f=ws(c);he.test(f)&&(f=(0,K.calc)(f,{toCanonicalUnits:!0})),r.splice(s,o-s+1,f),s=r.findLastIndex(l=>/\($/.test(l))}let e=ws(r,!0);return i&&Pt.set(i,e),e},ze=(t,n={})=>{if(!Array.isArray(t))throw new TypeError(`${t} is not an array.`);let[,a,,,i={}]=t,{unit:r,value:s}=i,{dimension:e={}}=n;if(r==="px")return a;let o;if(r&&Number.isFinite(s)){let c;Object.hasOwnProperty.call(e,r)?c=e[r]:typeof e.callback=="function"&&(c=e.callback(r)),Number.isFinite(c)&&(o=`${s*c}px`)}return o??null},Pr=(t,n={})=>{if(!Array.isArray(t))throw new TypeError(`${t} is not an array.`);let{format:a}=n,i=new Set,r=0,s=[];for(;t.length;){let e=t.shift();if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);let[o,c]=e;switch(o){case Cr:{let f;a===R&&!i.has(r)?f=c:(f=ze(e,n),f||(f=c)),s.push(f);break}case Ar:case Tr:{s.push(c),r++,Sr.test(c)&&i.add(r);break}case _r:{s.length&&s[s.length-1]===" "?s.splice(-1,1,c):s.push(c),i.has(r)&&i.delete(r),r--;break}case _s:{if(s.length){let f=s[s.length-1];!f.endsWith("(")&&f!==" "&&s.push(c)}break}default:o!==Es&&o!==Nr&&s.push(c)}}return s},ut=(t,n={})=>{let{format:a,dimension:i}=n;if(T(t)){if(Lr.test(t)){if(a===R)return t;throw new SyntaxError(`Unexpected token ${_t} found.`)}else if(!Mr.test(t))return t;t=t.toLowerCase().trim()}else throw new TypeError(`${t} is not a string`);let r;if(typeof i?.callback!="function"&&(r=`{cssCalc:${t},opt:${X(n)}}`,Pt.has(r)))return Pt.get(r);let s;if(i){let e=(0,Gt.tokenize)({css:t}),o=Pr(e,n);s=(0,K.calc)(o.join(""),{toCanonicalUnits:!0})}else s=(0,K.calc)(t,{toCanonicalUnits:!0});if(he.test(t)){if(St.test(s)){let[,e,o]=St.exec(s);s=`${d(Number(e),Rr)}${o}`}s&&!he.test(s)&&a===R&&(s=`calc(${s})`)}return r&&Pt.set(r,s),s};var pe=require("@csstools/css-tokenizer"),Ns=require("lru-cache");var{CloseParen:As,Comment:Or,EOF:kr,Ident:Dr,Whitespace:zr}=pe.TokenType,Ts=new RegExp(Ft),Rs=new RegExp(ft),xe=new Ns.LRUCache({max:4096});function Ms(t,n={}){if(!Array.isArray(t))throw new TypeError(`${t} is not an array.`);let{customProperty:a={}}=n,i=[];for(;t.length;){let e=t.shift();if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);let[o,c]=e;if(o===As)break;if(c===_t){let[f,l]=Ms(t,n);t=f,l&&i.push(l)}else if(o===Dr)if(c.startsWith("--")){if(Object.hasOwnProperty.call(a,c))i.push(a[c]);else if(typeof a.callback=="function"){let f=a.callback(c);f&&i.push(f)}}else c&&i.push(c)}let r;if(i.length>1){let e=i[i.length-1];r=Nt(e)}let s;for(let e of i)if(e=e.trim(),Rs.test(e)?(e=Ut(e,n),e&&(r?Nt(e)&&(s=e):s=e)):Ts.test(e)?(e=ut(e,n),r?Nt(e)&&(s=e):s=e):e&&!/^(?:inherit|initial|revert(?:-layer)?|unset)$/.test(e)&&(r?Nt(e)&&(s=e):s=e),s)break;return[t,s]}function Vr(t,n={}){let a=[];for(;t.length;){let i=t.shift(),[r,s]=i;if(s===_t){let[e,o]=Ms(t,n);if(!o)return null;t=e,a.push(o)}else switch(r){case As:{a.length&&a[a.length-1]===" "?a.splice(-1,1,s):a.push(s);break}case zr:{if(a.length){let e=a[a.length-1];!e.endsWith("(")&&e!==" "&&a.push(s)}break}default:r!==Or&&r!==kr&&a.push(s)}}return a}function Ut(t,n={}){let{customProperty:a,format:i}=n;if(T(t)){if(!Rs.test(t)||i===R)return t;t=t.trim()}else throw new TypeError(`${t} is not a string.`);let r;if(typeof a?.callback!="function"&&(r=`{cssVar:${t},opt:${X(n)}}`,xe.has(r)))return xe.get(r);let s=(0,pe.tokenize)({css:t}),e=Vr(s,n);if(Array.isArray(e)){let o=e.join("");return Ts.test(o)&&(o=ut(o,n)),r&&xe.set(r,o),o}else return r&&xe.set(r,null),null}var Ps=require("@csstools/css-color-parser"),Os=require("@csstools/css-parser-algorithms"),kt=require("@csstools/css-tokenizer"),ks=require("lru-cache");var{CloseParen:Ds,Comment:zs,Dimension:Br,EOF:Vs,Function:Bs,Ident:Wr,Number:Hr,OpenParen:Ws,Percentage:Ir,Whitespace:Hs}=kt.TokenType,At="has-none-keywords",Xr=8,Ot=10,Ve=16,Yr=100,Be=255,Ls=new RegExp(`^${Lt}(${xt}|${Ct})\\s+`),Gr=/(?:hsla?|hwb)$/,Ur=new RegExp(`^(?:${Le}|${ms})$`),jr=new RegExp(ft),Kr=new RegExp(Lt),qr=new RegExp(`^${us}`),Zr=new RegExp(re),We=new RegExp(`^${Lt}`),rt=new ks.LRUCache({max:4096});function Ss(t,n={}){if(!Array.isArray(t))throw new TypeError(`${t} is not an array.`);let{colorSpace:a,format:i}=n,s=new Map([["color",["r","g","b","alpha"]],["hsl",["h","s","l","alpha"]],["hsla",["h","s","l","alpha"]],["hwb",["h","w","b","alpha"]],["lab",["l","a","b","alpha"]],["lch",["l","c","h","alpha"]],["oklab",["l","a","b","alpha"]],["oklch",["l","c","h","alpha"]],["rgb",["r","g","b","alpha"]],["rgba",["r","g","b","alpha"]]]).get(a),e=new Set,o=[[],[],[],[]],c=0,f=0,l=!1;for(;t.length;){let p=t.shift();if(!Array.isArray(p))throw new TypeError(`${p} is not an array.`);let[m,w,,,_={}]=p,{value:b}=_,$=o[c];switch(m){case Br:{let g=ze(p,n);g||(g=w),$.push(g);break}case Bs:{$.push(w),l=!0,f++,Zr.test(w)&&e.add(f);break}case Wr:{if(!s.includes(w))return null;$.push(w),l||c++;break}case Hr:{$.push(b),l||c++;break}case Ws:{$.push(w),f++;break}case Ds:{l&&($[$.length-1]===" "?$.splice(-1,1,w):$.push(w),e.has(f)&&e.delete(f),f--,f===0&&(l=!1,c++));break}case Ir:{$.push(b/Yr),l||c++;break}case Hs:{if($.length&&l){let g=$[$.length-1];(typeof g=="number"||T(g)&&!g.endsWith("(")&&g!==" ")&&$.push(w)}break}default:m!==zs&&m!==Vs&&l&&$.push(w)}}let x=[];for(let p of o)if(p.length===1){let[m]=p;x.push(m)}else if(p.length){let m=Cs(p.join(""),{format:i});x.push(m)}return x}function Jr(t,n={}){if(T(t)){if(t=t.toLowerCase().trim(),!t)return null;if(!We.test(t))return t}else return null;let{currentColor:a,format:i}=n,r=`{preProcess:${t},opt:${X(n)}}`;if(rt.has(r))return rt.get(r);if(/currentcolor/.test(t))if(a)t=t.replace(/currentcolor/g,a);else return r&&rt.set(r,null),null;let[,s]=qr.exec(t);if(n.colorSpace=s,Ls.test(t)){let[,e]=Ls.exec(t),[,o]=t.split(e);if(/^[a-z]+$/.test(e)){if(!/^transparent$/.test(e)&&!Object.prototype.hasOwnProperty.call(wt,e))return r&&rt.set(r,null),null}else if(i===R){let c=pt(e,n);t=t.replace(e,c)}if(i===R){let c=(0,kt.tokenize)({css:o}),f=Ss(c,n);if(!Array.isArray(f))return r&&rt.set(r,null),null;let l;if(f.length===3)l=` ${f.join(" ")})`;else{let[x,p,m,w]=f;l=` ${x} ${p} ${m} / ${w})`}t=t.replace(o,l)}}else{let[,e]=t.split(We);if(We.test(e)){let o=(0,kt.tokenize)({css:e}),c=[],f=0;for(;o.length;){let p=o.shift(),[m,w]=p;switch(m){case Bs:case Ws:{c.push(w),f++;break}case Ds:{c[c.length-1]===" "?c.splice(-1,1,w):c.push(w),f--;break}case Hs:{let _=c[c.length-1];!_.endsWith("(")&&_!==" "&&c.push(w);break}default:m!==zs&&m!==Vs&&c.push(w)}if(f===0)break}if(c=jt(c.join("").trim(),n),!c)return r&&rt.set(r,null),null;let l=Ss(o,n);if(!Array.isArray(l))return r&&rt.set(r,null),null;let x;if(l.length===3)x=` ${l.join(" ")})`;else{let[p,m,w,_]=l;x=` ${p} ${m} ${w} / ${_})`}t=t.replace(e,`${c}${x}`)}}return r&&rt.set(r,t),t}function jt(t,n={}){let{format:a}=n;if(T(t)){if(jr.test(t)){if(a===R)return t;throw new SyntaxError(`Unexpected token ${_t} found.`)}else if(!Kr.test(t))return t;t=t.toLowerCase().trim()}else throw new TypeError(`${t} is not a string`);let i=`{relativeColor:${t},opt:${X(n)}}`;if(rt.has(i))return rt.get(i);if(t=Jr(t,n),!t)return i&&rt.set(i,null),null;if(a===R)return t.startsWith("rgba(")?t=t.replace(/^rgba\(/,"rgb("):t.startsWith("hsla(")&&(t=t.replace(/^hsla\(/,"hsl(")),t;let r=(0,kt.tokenize)({css:t}),s=(0,Os.parseComponentValue)(r),e=(0,Ps.color)(s);if(!e)return i&&rt.set(i,null),null;let{alpha:o,channels:[c,f,l],colorNotation:x,syntaxFlags:p}=e;Number.isNaN(o)?p.has(At)?o=h:o=0:o=d(o,Xr);let m;if(Ur.test(x))Number.isNaN(c)?p.has(At)?c=h:c=0:c=d(c,Ve),Number.isNaN(f)?p.has(At)?f=h:f=0:f=d(f,Ve),Number.isNaN(l)?p.has(At)?l=h:l=0:l=d(l,Ve),o===1?m=`${x}(${c} ${f} ${l})`:m=`${x}(${c} ${f} ${l} / ${o})`;else if(Gr.test(x)){Number.isNaN(c)&&(c=0),Number.isNaN(f)&&(f=0),Number.isNaN(l)&&(l=0);let[w,_,b]=He(`${x}(${c} ${f} ${l} / ${o})`);w=d(w/Be,Ot),_=d(_/Be,Ot),b=d(b/Be,Ot),o===1?m=`color(srgb ${w} ${_} ${b})`:m=`color(srgb ${w} ${_} ${b} / ${o})`}else{let w=x==="rgb"?"srgb":x;Number.isNaN(c)?p.has(At)?c=h:c=0:c=d(c,Ot),Number.isNaN(f)?p.has(At)?f=h:f=0:f=d(f,Ot),Number.isNaN(l)?p.has(At)?l=h:l=0:l=d(l,Ot),o===1?m=`color(${w} ${c} ${f} ${l})`:m=`color(${w} ${c} ${f} ${l} / ${o})`}return i&&rt.set(i,m),m}var Dt="rgba(0, 0, 0, 0)",Qr=new RegExp(Ft),vr=new RegExp(ae),Is=new RegExp(ft),j=new Xs.LRUCache({max:4096}),pt=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{currentColor:a,customProperty:i,format:r=V,key:s}=n,e;if((!Is.test(t)||typeof i?.callback!="function")&&(e=`{resolve:${t},opt:${X(n)}}`,j.has(e)))return j.get(e);let o,c,f,l,x,p;if(Is.test(t)){if(r===R)return e&&j.set(e,t),t;if(t=Ut(t,n),!t)switch(r){case"hex":case"hexAlpha":return e&&j.set(e,null),null;default:return o=Dt,e&&j.set(e,o),o}}if(n.format!==r&&(n.format=r),t=t.toLowerCase(),vr.test(t)){if(t=jt(t,n),r===V)return o=t||Dt,e&&j.set(e,o),o;if(r===R)return o=t||"",e&&j.set(e,o),o;t||(t="")}if(Qr.test(t)&&(t=ut(t,n)),t==="transparent")switch(r){case R:return e&&j.set(e,t),t;case"hex":return e&&j.set(e,null),null;case"hexAlpha":return o="#00000000",e&&j.set(e,o),o;case V:default:return o=Dt,e&&j.set(e,o),o}else if(t==="currentcolor"){if(r===R)return e&&j.set(e,t),t;if(a)a.startsWith(ht)?[c,f,l,x,p]=Tt(a,n):a.startsWith(B)?[c,f,l,x,p]=$t(a,n):[c,f,l,x,p]=yt(a,n);else if(r===V)return o=Dt,e&&j.set(e,o),o}else if(r===R){if(t.startsWith(ht))return o=Tt(t,n),e&&j.set(e,o),o;if(t.startsWith(B))return[c,f,l,x,p]=$t(t,n),p===1?o=`color(${c} ${f} ${l} ${x})`:o=`color(${c} ${f} ${l} ${x} / ${p})`,e&&j.set(e,o),o;{let m=yt(t,n);return m?([c,f,l,x,p]=m,c==="rgb"?(p===1?o=`${c}(${f}, ${l}, ${x})`:o=`${c}a(${f}, ${l}, ${x}, ${p})`,e&&j.set(e,o),o):(p===1?o=`${c}(${f} ${l} ${x})`:o=`${c}(${f} ${l} ${x} / ${p})`,e&&j.set(e,o),o)):(o="",e&&j.set(e,o),o)}}else/currentcolor/.test(t)?(a&&(t=t.replace(/currentcolor/g,a)),/transparent/.test(t)&&(t=t.replace(/transparent/g,Dt)),t.startsWith(ht)&&([c,f,l,x,p]=Tt(t,n))):/transparent/.test(t)?(t=t.replace(/transparent/g,Dt),t.startsWith(ht)&&([c,f,l,x,p]=Tt(t,n))):t.startsWith(ht)?[c,f,l,x,p]=Tt(t,n):t.startsWith(B)?[c,f,l,x,p]=$t(t,n):t&&([c,f,l,x,p]=yt(t,n));switch(r){case"hex":{let m;isNaN(f)||isNaN(l)||isNaN(x)||isNaN(p)||p===0?m=null:m=Ie([f,l,x]),s?o=[s,m]:o=m;break}case"hexAlpha":{let m;isNaN(f)||isNaN(l)||isNaN(x)||isNaN(p)?m=null:m=Ie([f,l,x,p]),s?o=[s,m]:o=m;break}case V:default:{let m;switch(c){case"rgb":{p===1?m=`${c}(${f}, ${l}, ${x})`:m=`${c}a(${f}, ${l}, ${x}, ${p})`;break}case"lab":case"lch":case"oklab":case"oklch":{p===1?m=`${c}(${f} ${l} ${x})`:m=`${c}(${f} ${l} ${x} / ${p})`;break}default:p===1?m=`color(${c} ${f} ${l} ${x})`:m=`color(${c} ${f} ${l} ${x} / ${p})`}s?o=[s,m]:o=m}}return e&&j.set(e,o),o};var tn=10,Xe=16,zt=360,$e=180,en=new RegExp(`^(?:${xt})$`),sn=new RegExp(`${Ct}`),Nt=t=>{if(T(t)&&(t=t.toLowerCase().trim(),t))if(/^[a-z]+$/.test(t)){if(/^(?:currentcolor|transparent)$/.test(t)||Object.prototype.hasOwnProperty.call(wt,t))return!0}else return en.test(t)||sn.test(t)?!0:(t=pt(t,{format:R}),!!t);return!1},X=(t,n=!1)=>typeof t>"u"?"":JSON.stringify(t,(i,r)=>{let s;return typeof r>"u"?s=null:typeof r=="function"?n?s=r.toString():s=r.name:r instanceof Map||r instanceof Set?s=[...r]:typeof r=="bigint"?s=r.toString():s=r,s}),d=(t,n=0)=>{if(!Number.isFinite(t))throw new TypeError(`${t} is not a number.`);if(Number.isFinite(n)){if(n<0||n>Xe)throw new RangeError(`${n} is not between 0 and ${Xe}.`)}else throw new TypeError(`${n} is not a number.`);if(n===0)return Math.round(t);let a;return n===Xe?a=t.toPrecision(6):n<tn?a=t.toPrecision(4):a=t.toPrecision(5),parseFloat(a)},Ye=(t,n,a="shorter")=>{if(!Number.isFinite(t))throw new TypeError(`${t} is not a number.`);if(!Number.isFinite(n))throw new TypeError(`${n} is not a number.`);switch(a){case"decreasing":{n>t&&(t+=zt);break}case"increasing":{n<t&&(n+=zt);break}case"longer":{n>t&&n<t+$e?t+=zt:n>t+$e*-1&&n<=t&&(n+=zt);break}case"shorter":default:n>t+$e?t+=zt:n<t+$e*-1&&(n+=zt)}return[t,n]};var L="mixValue",Ge=.001,lt=.5,es=2,v=3,ct=4,mt=8,Kt=10,Vt=12,y=16,rn=60,G=360,M=100,C=255,Rt=2,Zt=3,Wt=2.4,Ht=12.92,nt=.055,Jt=116,Ks=500,qs=200,Ue=216/24389,ge=24389/27,Zs=[.3457/.3585,1,(1-.3457-.3585)/.3585],vt=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]],at=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]],ss=[[506752/1228815,87881/245763,12673/70218],[87098/409605,175762/245763,12673/175545],[7918/409605,87881/737289,1001167/1053270]],ue=[[12831/3959,-329/214,-1974/3959],[-851781/878810,1648619/878810,36519/878810],[705/12673,-2585/12673,705/667]],nn=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Js=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Qs=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],on=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],an=[[608311/1250200,189793/714400,198249/1000160],[35783/156275,247089/357200,198249/2500400],[0/1,32229/714400,5220557/5000800]],cn=[[63426534/99577255,20160776/139408157,47086771/278816314],[26158966/99577255,472592308/697040785,8267143/139408157],[0/1,19567812/697040785,295819943/278816314]],ln=[[573536/994567,263643/1420810,187206/994567],[591459/1989134,6239551/9945670,374412/4972835],[53769/1989134,351524/4972835,4929758/4972835]],fn=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],vs=new RegExp(`^(?:${xt})$`),me=new RegExp(`^${$s}$`),hn=/^xyz(?:-d(?:50|65))?$/,Y=/^currentColor$/i,It=new RegExp(`^color\\(\\s*(${Pe})\\s*\\)$`),je=new RegExp(`^hsla?\\(\\s*(${ce}|${Oe})\\s*\\)$`),Ke=new RegExp(`^hwb\\(\\s*(${ce})\\s*\\)$`),qe=new RegExp(`^lab\\(\\s*(${Yt})\\s*\\)$`),Ze=new RegExp(`^lch\\(\\s*(${le})\\s*\\)$`),Ys=new RegExp(`^${Ct}$`),xn=new RegExp(`^${bs}$`),Gs=new RegExp(`${Ct}`,"g"),Je=new RegExp(`^oklab\\(\\s*(${Yt})\\s*\\)$`),Qe=new RegExp(`^oklch\\(\\s*(${le})\\s*\\)$`),D=/^(?:specifi|comput)edValue$/,wt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},it=(t,n={})=>{if(!Array.isArray(t))throw new TypeError(`${t} is not an array.`);let{alpha:a=!1,minLength:i=v,maxLength:r=ct,minRange:s=0,maxRange:e=1,validateRange:o=!0}=n;if(!Number.isFinite(i))throw new TypeError(`${i} is not a number.`);if(!Number.isFinite(r))throw new TypeError(`${r} is not a number.`);if(!Number.isFinite(s))throw new TypeError(`${s} is not a number.`);if(!Number.isFinite(e))throw new TypeError(`${e} is not a number.`);let c=t.length;if(c<i||c>r)throw new Error(`Unexpected array length ${c}.`);let f=0;for(;f<c;){let l=t[f];if(Number.isFinite(l)){if(f<v&&o&&(l<s||l>e))throw new RangeError(`${l} is not between ${s} and ${e}.`);if(f===v&&(l<0||l>1))throw new RangeError(`${l} is not between 0 and 1.`)}else throw new TypeError(`${l} is not a number.`);f++}return a&&c===v&&t.push(1),t},k=(t,n,a=!1)=>{if(Array.isArray(t)){if(t.length!==v)throw new Error(`Unexpected array length ${t.length}.`);if(!a)for(let g of t)g=it(g,{maxLength:v,validateRange:!1})}else throw new TypeError(`${t} is not an array.`);let[[i,r,s],[e,o,c],[f,l,x]]=t,p,m,w;a?[p,m,w]=n:[p,m,w]=it(n,{maxLength:v,validateRange:!1});let _=i*p+r*m+s*w,b=e*p+o*m+c*w,$=f*p+l*m+x*w;return[_,b,$]},qt=(t,n,a=!1)=>{if(Array.isArray(t)){if(t.length!==ct)throw new Error(`Unexpected array length ${t.length}.`)}else throw new TypeError(`${t} is not an array.`);if(Array.isArray(n)){if(n.length!==ct)throw new Error(`Unexpected array length ${n.length}.`)}else throw new TypeError(`${n} is not an array.`);let i=0;for(;i<ct;)t[i]===h&&n[i]===h?(t[i]=0,n[i]=0):t[i]===h?t[i]=n[i]:n[i]===h&&(n[i]=t[i]),i++;return a||(t=it(t,{minLength:ct,validateRange:!1}),n=it(n,{minLength:ct,validateRange:!1})),[t,n]},Bt=t=>{if(Number.isFinite(t)){if(t=Math.round(t),t<0||t>C)throw new RangeError(`${t} is not between 0 and ${C}.`)}else throw new TypeError(`${t} is not a number.`);let n=t.toString(y);return n.length===1&&(n=`0${n}`),n},Ae=t=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let n=G/400,a=G/(Math.PI*es),i=new RegExp(`^(${tt})(${se})?$`);if(!i.test(t))throw new SyntaxError(`Invalid property value: ${t}`);let[,r,s]=t.match(i),e=r[0]==="."?`0${r}`:r,o;switch(s){case"grad":o=parseFloat(e)*n;break;case"rad":o=parseFloat(e)*a;break;case"turn":o=parseFloat(e)*G;break;default:o=parseFloat(e)}return o%=G,o<0?o+=G:Object.is(o,-0)&&(o=0),o},Et=t=>{if(T(t))if(t=t.trim(),!t)t=1;else if(t===h)t=0;else{if(t[0]==="."&&(t=`0${t}`),t.endsWith("%")?t=parseFloat(t)/M:t=parseFloat(t),!Number.isFinite(t))throw new TypeError(`${t} is not a number.`);t<Ge?t=0:t>1?t=1:t=parseFloat(t.toFixed(3))}else t=1;return t},Us=t=>{if(T(t)){if(t==="")throw new SyntaxError("Invalid property value: (empty string)");t=t.trim()}else throw new TypeError(`${t} is not a string.`);let n=parseInt(t,y);if(n<=0)return 0;if(n>=C)return 1;let a=new Map;for(let i=1;i<M;i++)a.set(Math.round(i*C/M),i);return a.has(n)?n=a.get(n)/M:n=Math.round(n/C/Ge)*Ge,parseFloat(n.toFixed(3))},rs=(t,n=!1)=>{let a,i,r;n?[a,i,r]=t:[a,i,r]=it(t,{maxLength:v,maxRange:C});let s=a/C,e=i/C,o=r/C,c=.04045;return s>c?s=Math.pow((s+nt)/(1+nt),Wt):s/=Ht,e>c?e=Math.pow((e+nt)/(1+nt),Wt):e/=Ht,o>c?o=Math.pow((o+nt)/(1+nt),Wt):o/=Ht,[s,e,o]},ve=(t,n=!1)=>{let a,i,r,s;n?[a,i,r,s]=t:[a,i,r,s]=it(t,{alpha:!0,maxRange:C});let[e,o,c]=rs([a,i,r],!0),[f,l,x]=k(ss,[e,o,c],!0);return[f,l,x,s]};var Ie=t=>{let[n,a,i,r]=it(t,{alpha:!0,maxRange:C}),s=Bt(n),e=Bt(a),o=Bt(i),c=Bt(r*C),f;return c==="ff"?f=`#${s}${e}${o}`:f=`#${s}${e}${o}${c}`,f},tr=(t,n=!1)=>{let[a,i,r]=it(t,{maxLength:v}),s=809/258400;return a>s?a=Math.pow(a,1/Wt)*(1+nt)-nt:a*=Ht,a*=C,i>s?i=Math.pow(i,1/Wt)*(1+nt)-nt:i*=Ht,i*=C,r>s?r=Math.pow(r,1/Wt)*(1+nt)-nt:r*=Ht,r*=C,[n?Math.round(a):a,n?Math.round(i):i,n?Math.round(r):r]};var Mt=(t,n=!1)=>{let a,i,r,s;n?[a,i,r,s]=t:[a,i,r,s]=it(t,{validateRange:!1});let[e,o,c]=k(ue,[a,i,r],!0);return[e,o,c]=tr([Math.min(Math.max(e,0),1),Math.min(Math.max(o,0),1),Math.min(Math.max(c,0),1)],!0),[e,o,c,s]};var er=(t,n=!1)=>{let[a,i,r,s]=Mt(t,n),e=a/C,o=i/C,c=r/C,f=Math.max(e,o,c),l=Math.min(e,o,c),x=f-l,p=(f+l)*lt*M,m,w;if(Math.round(p)===0||Math.round(p)===M)m=h,w=h;else if(w=x/(1-Math.abs(f+l-1))*M,w===0)m=h;else{switch(f){case e:m=(o-c)/x;break;case o:m=(c-e)/x+es;break;case c:default:m=(e-o)/x+ct;break}m=m*rn%G,m<0&&(m+=G)}return[m,w,p,s]},pn=(t,n=!1)=>{let[a,i,r,s]=Mt(t,n),e=Math.min(a,i,r)/C,o=1-Math.max(a,i,r)/C,c;return e+o===1?c=h:[c]=er(t),[c,e*M,o*M,s]},sr=(t,n=!1)=>{let a,i,r,s;n?[a,i,r,s]=t:[a,i,r,s]=it(t,{validateRange:!1});let o=k(nn,[a,i,r],!0).map(p=>Math.cbrt(p)),[c,f,l]=k(on,o,!0);c=Math.min(Math.max(c,0),1);let x=Math.round(parseFloat(c.toFixed(ct))*M);return(x===0||x===M)&&(f=h,l=h),[c,f,l,s]},$n=(t,n=!1)=>{let[a,i,r,s]=sr(t,n),e,o,c=Math.round(parseFloat(a.toFixed(ct))*M);return c===0||c===M?(e=h,o=h):(e=Math.max(Math.sqrt(Math.pow(i,Rt)+Math.pow(r,Rt)),0),parseFloat(e.toFixed(ct))===0?o=h:(o=Math.atan2(r,i)*G*lt/Math.PI,o<0&&(o+=G))),[a,e,o,s]},rr=(t,n=!1)=>{let a,i,r,s;n?[a,i,r,s]=t:[a,i,r,s]=it(t,{minLength:ct,validateRange:!1});let e=k(vt,[a,i,r],!0),[o,c,f]=Mt(e,!0);return[o,c,f,s]},nr=(t,n=!1)=>{let a,i,r,s;n?[a,i,r,s]=t:[a,i,r,s]=it(t,{validateRange:!1});let e=[a,i,r].map((m,w)=>m/Zs[w]),[o,c,f]=e.map(m=>m>Ue?Math.cbrt(m):(m*ge+y)/Jt),l=Math.min(Math.max(Jt*c-y,0),M),x,p;return l===0||l===M?(x=h,p=h):(x=(o-c)*Ks,p=(c-f)*qs),[l,x,p,s]},mn=(t,n=!1)=>{let[a,i,r,s]=nr(t,n),e,o;return a===0||a===M?(e=h,o=h):(e=Math.max(Math.sqrt(Math.pow(i,Rt)+Math.pow(r,Rt)),0),o=Math.atan2(r,i)*G*lt/Math.PI,o<0&&(o+=G)),[a,e,o,s]},ns=t=>{if(T(t))t=t.toLowerCase().trim();else throw new TypeError(`${t} is not a string.`);if(!(/^#[\da-f]{6}$/.test(t)||/^#[\da-f]{3}$/.test(t)||/^#[\da-f]{8}$/.test(t)||/^#[\da-f]{4}$/.test(t)))throw new SyntaxError(`Invalid property value: ${t}`);let n=[];if(/^#[\da-f]{6}$/.test(t)){let[,a,i,r]=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/);n.push(parseInt(a,y),parseInt(i,y),parseInt(r,y),1)}else if(/^#[\da-f]{3}$/.test(t)){let[,a,i,r]=t.match(/^#([\da-f])([\da-f])([\da-f])$/);n.push(parseInt(`${a}${a}`,y),parseInt(`${i}${i}`,y),parseInt(`${r}${r}`,y),1)}else if(/^#[\da-f]{8}$/.test(t)){let[,a,i,r,s]=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})$/);n.push(parseInt(a,y),parseInt(i,y),parseInt(r,y),Us(s))}else if(/^#[\da-f]{4}$/.test(t)){let[,a,i,r,s]=t.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])$/);n.push(parseInt(`${a}${a}`,y),parseInt(`${i}${i}`,y),parseInt(`${r}${r}`,y),Us(`${s}${s}`))}return n},gn=t=>{let[n,a,i,r]=ns(t),[s,e,o]=rs([n,a,i],!0);return[s,e,o,r]},un=t=>{let[n,a,i,r]=gn(t),[s,e,o]=k(ss,[n,a,i],!0);return[s,e,o,r]},ir=(t,n={})=>{if(T(t))t=t.toLowerCase().trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i=new RegExp(`^rgba?\\(\\s*(${Yt}|${ke})\\s*\\)$`);if(!i.test(t))switch(a){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let[,r]=t.match(i),[s,e,o,c]=r.replace(/[,/]/g," ").split(/\s+/),f,l,x;s===h?f=0:(s[0]==="."&&(s=`0${s}`),s.endsWith("%")?f=parseFloat(s)*C/M:f=parseFloat(s),f=Math.min(Math.max(d(f,mt),0),C)),e===h?l=0:(e[0]==="."&&(e=`0${e}`),e.endsWith("%")?l=parseFloat(e)*C/M:l=parseFloat(e),l=Math.min(Math.max(d(l,mt),0),C)),o===h?x=0:(o[0]==="."&&(o=`0${o}`),o.endsWith("%")?x=parseFloat(o)*C/M:x=parseFloat(o),x=Math.min(Math.max(d(x,mt),0),C));let p=Et(c);return["rgb",f,l,x,a===L&&c===h?h:p]},Te=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n;if(!je.test(t))switch(a){case"hsl":case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let[,i]=t.match(je),[r,s,e,o]=i.replace(/[,/]/g," ").split(/\s+/);if(r===h?a!=="hsl"&&(r=0):r=Ae(r),s===h?a!=="hsl"&&(s=0):(s[0]==="."&&(s=`0${s}`),s=Math.min(Math.max(parseFloat(s),0),M)),e===h?a!=="hsl"&&(e=0):(e[0]==="."&&(e=`0${e}`),e=Math.min(Math.max(parseFloat(e),0),M)),(o!==h||a!=="hsl")&&(o=Et(o)),a==="hsl")return[a,r,s,e,o];let c=e/M,f=s/M*Math.min(c,1-c),l=r/G*Vt%Vt,x=(8+r/G*Vt)%Vt,p=(4+r/G*Vt)%Vt,m=c-f*Math.max(-1,Math.min(l-v,v**Rt-l,1)),w=c-f*Math.max(-1,Math.min(x-v,v**Rt-x,1)),_=c-f*Math.max(-1,Math.min(p-v,v**Rt-p,1));return["rgb",Math.min(Math.max(d(m*C,mt),0),C),Math.min(Math.max(d(w*C,mt),0),C),Math.min(Math.max(d(_*C,mt),0),C),o]},is=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n;if(!Ke.test(t))switch(a){case"hwb":case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let[,i]=t.match(Ke),[r,s,e,o]=i.replace("/"," ").split(/\s+/);if(r===h?a!=="hwb"&&(r=0):r=Ae(r),s===h?a!=="hwb"&&(s=0):(s[0]==="."&&(s=`0${s}`),s=Math.min(Math.max(parseFloat(s),0),M)/M),e===h?a!=="hwb"&&(e=0):(e[0]==="."&&(e=`0${e}`),e=Math.min(Math.max(parseFloat(e),0),M)/M),(o!==h||a!=="hwb")&&(o=Et(o)),a==="hwb")return[a,r,s===h?s:s*M,e===h?e:e*M,o];if(s+e>=1){let p=d(s/(s+e)*C,mt);return["rgb",p,p,p,o]}let c=(1-s-e)/C,[,f,l,x]=Te(`hsl(${r} 100 50)`);return f=d((f*c+s)*C,mt),l=d((l*c+s)*C,mt),x=d((x*c+s)*C,mt),["rgb",Math.min(Math.max(f,0),C),Math.min(Math.max(l,0),C),Math.min(Math.max(x,0),C),o]},te=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n;if(!qe.test(t))switch(a){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let i=1.25,r=8,[,s]=t.match(qe),[e,o,c,f]=s.replace("/"," ").split(/\s+/);if(e===h?D.test(a)||(e=0):(e[0]==="."&&(e=`0${e}`),e.endsWith("%")?(e=parseFloat(e),e>M&&(e=M)):e=parseFloat(e),e<0&&(e=0)),o===h?D.test(a)||(o=0):(o[0]==="."&&(o=`0${o}`),o.endsWith("%")?o=parseFloat(o)*i:o=parseFloat(o)),c===h?D.test(a)||(c=0):c.endsWith("%")?c=parseFloat(c)*i:c=parseFloat(c),(f!==h||!D.test(a))&&(f=Et(f)),D.test(a))return["lab",e===h?e:d(e,y),o===h?o:d(o,y),c===h?c:d(c,y),f];let l=(e+y)/Jt,x=o/Ks+l,p=l-c/qs,m=Math.pow(l,Zt),w=Math.pow(x,Zt),_=Math.pow(p,Zt),b=[w>Ue?w:(x*Jt-y)/ge,e>r?m:e/ge,_>Ue?_:(p*Jt-y)/ge],[$,g,u]=b.map((F,E)=>F*Zs[E]);return["xyz-d50",d($,y),d(g,y),d(u,y),f]},be=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n;if(!Ze.test(t))switch(a){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let i=1.5,[,r]=t.match(Ze),[s,e,o,c]=r.replace("/"," ").split(/\s+/);if(s===h?D.test(a)||(s=0):(s[0]==="."&&(s=`0${s}`),s=parseFloat(s),s<0&&(s=0)),e===h?D.test(a)||(e=0):(e[0]==="."&&(e=`0${e}`),e.endsWith("%")?e=parseFloat(e)*i:e=parseFloat(e)),o===h?D.test(a)||(o=0):o=Ae(o),(c!==h||!D.test(a))&&(c=Et(c)),D.test(a))return["lch",s===h?s:d(s,y),e===h?e:d(e,y),o===h?o:d(o,y),c];let f=e*Math.cos(o*Math.PI/(G*lt)),l=e*Math.sin(o*Math.PI/(G*lt)),[,x,p,m]=te(`lab(${s} ${f} ${l})`);return["xyz-d50",d(x,y),d(p,y),d(m,y),c]},Fe=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n;if(!Je.test(t))switch(a){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let i=.4,[,r]=t.match(Je),[s,e,o,c]=r.replace("/"," ").split(/\s+/);if(s===h?D.test(a)||(s=0):(s[0]==="."&&(s=`0${s}`),s.endsWith("%")?s=parseFloat(s)/M:s=parseFloat(s),s<0&&(s=0)),e===h?D.test(a)||(e=0):(e[0]==="."&&(e=`0${e}`),e.endsWith("%")?e=parseFloat(e)*i/M:e=parseFloat(e)),o===h?D.test(a)||(o=0):o.endsWith("%")?o=parseFloat(o)*i/M:o=parseFloat(o),(c!==h||!D.test(a))&&(c=Et(c)),D.test(a))return["oklab",s===h?s:d(s,y),e===h?e:d(e,y),o===h?o:d(o,y),c];let l=k(Qs,[s,e,o]).map(w=>Math.pow(w,Zt)),[x,p,m]=k(Js,l,!0);return["xyz-d65",d(x,y),d(p,y),d(m,y),c]},de=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n;if(!Qe.test(t))switch(a){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let i=.4,[,r]=t.match(Qe),[s,e,o,c]=r.replace("/"," ").split(/\s+/);if(s===h?D.test(a)||(s=0):(s[0]==="."&&(s=`0${s}`),s.endsWith("%")?s=parseFloat(s)/M:s=parseFloat(s),s<0&&(s=0)),e===h?D.test(a)||(e=0):(e[0]==="."&&(e=`0${e}`),e.endsWith("%")?e=parseFloat(e)*i/M:e=parseFloat(e),e<0&&(e=0)),o===h?D.test(a)||(o=0):o=Ae(o),(c!==h||!D.test(a))&&(c=Et(c)),D.test(a))return["oklch",s===h?s:d(s,y),e===h?e:d(e,y),o===h?o:d(o,y),c];let f=e*Math.cos(o*Math.PI/(G*lt)),l=e*Math.sin(o*Math.PI/(G*lt)),p=k(Qs,[s,f,l]).map(b=>Math.pow(b,Zt)),[m,w,_]=k(Js,p,!0);return["xyz-d65",d(m,y),d(w,y),d(_,y),c]},I=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{colorSpace:a,d50:i,format:r}=n;if(!It.test(t))switch(r){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let[,s]=t.match(It),[e,o,c,f,l]=s.replace("/"," ").split(/\s+/),x,p,m;e==="xyz"&&(e="xyz-d65"),o===h?x=0:(o[0]==="."&&(o=`0${o}`),x=o.endsWith("%")?parseFloat(o)/M:parseFloat(o)),c===h?p=0:(c[0]==="."&&(c=`0${c}`),p=c.endsWith("%")?parseFloat(c)/M:parseFloat(c)),f===h?m=0:(f[0]==="."&&(f=`0${f}`),m=f.endsWith("%")?parseFloat(f)/M:parseFloat(f));let w=Et(l);if(D.test(r)||r===L&&e===a)return[e,o===h?h:d(x,Kt),c===h?h:d(p,Kt),f===h?h:d(m,Kt),l===h?h:w];let _,b,$;if(e==="srgb")[_,b,$]=ve([x*C,p*C,m*C]),i&&([_,b,$]=k(at,[_,b,$],!0));else if(e==="srgb-linear")[_,b,$]=k(ss,[x,p,m]),i&&([_,b,$]=k(at,[_,b,$],!0));else if(e==="display-p3"){let g=rs([x*C,p*C,m*C]);[_,b,$]=k(an,g),i&&([_,b,$]=k(at,[_,b,$],!0))}else if(e==="rec2020"){let g=1.09929682680944,u=.018053968510807,F=.45,E=[x,p,m].map(N=>{let A;return N<u*F*Kt?A=N/(F*Kt):A=Math.pow((N+g-1)/g,1/F),A});[_,b,$]=k(cn,E),i&&([_,b,$]=k(at,[_,b,$],!0))}else if(e==="a98-rgb"){let g=2.19921875,u=[x,p,m].map(F=>Math.pow(F,g));[_,b,$]=k(ln,u),i&&([_,b,$]=k(at,[_,b,$],!0))}else if(e==="prophoto-rgb"){let u=[x,p,m].map(F=>{let E;return F>1/(y*es)?E=Math.pow(F,1.8):E=F/y,E});[_,b,$]=k(fn,u),i||([_,b,$]=k(vt,[_,b,$],!0))}else/^xyz(?:-d(?:50|65))?$/.test(e)&&([_,b,$]=[x,p,m],e==="xyz-d50"?i||([_,b,$]=k(vt,[_,b,$])):i&&([_,b,$]=k(at,[_,b,$],!0)));return[i?"xyz-d50":"xyz-d65",d(_,y),d(b,y),d($,y),r===L&&l===h?h:w]},U=(t,n={})=>{if(T(t))t=t.toLowerCase().trim();else throw new TypeError(`${t} is not a string.`);let{d50:a,format:i}=n;if(!vs.test(t))switch(i){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let r,s,e,o;if(Y.test(t)){if(i===V)return["rgb",0,0,0,0];if(i===R)return t;r=0,s=0,e=0,o=0}else if(/^[a-z]+$/.test(t))if(Object.prototype.hasOwnProperty.call(wt,t)){if(i===R)return t;let[c,f,l]=wt[t];if(o=1,i===V)return["rgb",c,f,l,o];[r,s,e]=ve([c,f,l],!0),a&&([r,s,e]=k(at,[r,s,e],!0))}else{if(i===V)return["rgb",0,0,0,0];if(i===R)return t==="transparent"?t:"";if(i===L)return t==="transparent"?["rgb",0,0,0,0]:null;r=0,s=0,e=0,o=0}else if(t[0]==="#"){if(D.test(i))return["rgb",...ns(t)];[r,s,e,o]=un(t),a&&([r,s,e]=k(at,[r,s,e],!0))}else if(t.startsWith("lab")){if(D.test(i))return te(t,n);[,r,s,e,o]=te(t),a||([r,s,e]=k(vt,[r,s,e],!0))}else if(t.startsWith("lch")){if(D.test(i))return be(t,n);[,r,s,e,o]=be(t),a||([r,s,e]=k(vt,[r,s,e],!0))}else if(t.startsWith("oklab")){if(D.test(i))return Fe(t,n);[,r,s,e,o]=Fe(t),a&&([r,s,e]=k(at,[r,s,e],!0))}else if(t.startsWith("oklch")){if(D.test(i))return de(t,n);[,r,s,e,o]=de(t),a&&([r,s,e]=k(at,[r,s,e],!0))}else{let c,f,l;if(t.startsWith("hsl")?[,c,f,l,o]=Te(t):t.startsWith("hwb")?[,c,f,l,o]=is(t):[,c,f,l,o]=ir(t,n),D.test(i))return["rgb",Math.round(c),Math.round(f),Math.round(l),o];[r,s,e]=ve([c,f,l]),a&&([r,s,e]=k(at,[r,s,e],!0))}return[a?"xyz-d50":"xyz-d65",d(r,y),d(s,y),d(e,y),o]},yt=(t,n={})=>{if(T(t))t=t.toLowerCase().trim();else throw new TypeError(`${t} is not a string.`);let{colorSpace:a,format:i}=n;if(!vs.test(t))switch(i){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let r,s,e,o,c;if(Y.test(t)){if(i===R)return t;s=0,e=0,o=0,c=0}else if(/^[a-z]+$/.test(t))if(Object.prototype.hasOwnProperty.call(wt,t)){if(i===R)return t;[s,e,o]=wt[t],c=1}else{if(i===R)return t==="transparent"?t:"";if(i===L)return t==="transparent"?["rgb",0,0,0,0]:null;s=0,e=0,o=0,c=0}else if(t[0]==="#")[s,e,o,c]=ns(t);else if(t.startsWith("rgb"))[,s,e,o,c]=ir(t,n);else if(t.startsWith("hsl"))[,s,e,o,c]=Te(t,n);else if(t.startsWith("hwb"))[,s,e,o,c]=is(t,n);else if(/^l(?:ab|ch)/.test(t)){let f,l,x;if(t.startsWith("lab")?[r,f,l,x,c]=te(t,n):[r,f,l,x,c]=be(t,n),D.test(i))return[r,f,l,x,c];[s,e,o,c]=rr([f,l,x,c])}else if(/^okl(?:ab|ch)/.test(t)){let f,l,x;if(t.startsWith("oklab")?[r,f,l,x,c]=Fe(t,n):[r,f,l,x,c]=de(t,n),D.test(i))return[r,f,l,x,c];[s,e,o,c]=Mt([f,l,x,c])}return i===L&&a==="srgb"?["srgb",s/C,e/C,o/C,c]:["rgb",Math.round(s),Math.round(e),Math.round(o),c]},$t=(t,n={})=>{if(T(t))t=t.toLowerCase().trim();else throw new TypeError(`${t} is not a string.`);let{colorSpace:a,format:i}=n;if(!It.test(t))switch(i){case L:return null;case R:return"";default:return["rgb",0,0,0,0]}let[r,s,e,o,c]=I(t,n);if(D.test(i))return[r,s,e,o,c];let f,l,x;if(i===L){if(r===a)return[r,s,e,o,c];[f,l,x]=Mt([s,e,o],!0)}else[f,l,x]=Mt([s,e,o],!0);return["rgb",f,l,x,c]},ts=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{colorSpace:a,format:i}=n,r,s,e,o,c,f,l,x;if(i===L){let p;if(t.startsWith(B)?p=I(t,n):p=U(t,n),p===null)return p;if([r,f,l,x,c]=p,r===a)return[f,l,x,c];[s,e,o]=k(ue,[f,l,x],!0)}else if(t.startsWith(B)){let[,p]=t.match(It),[m]=p.replace("/"," ").split(/\s+/);m==="srgb-linear"?[,s,e,o,c]=$t(t,{format:V}):([,f,l,x,c]=I(t),[s,e,o]=k(ue,[f,l,x],!0))}else[,f,l,x,c]=U(t),[s,e,o]=k(ue,[f,l,x],!0);return[Math.min(Math.max(s,0),1),Math.min(Math.max(e,0),1),Math.min(Math.max(o,0),1),c]},Qt=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e;if(a===L){let o;if(t.startsWith(B)?o=$t(t,n):o=yt(t,n),o===null)return o;[,i,r,s,e]=o}else if(t.startsWith(B)){let[,o]=t.match(It),[c]=o.replace("/"," ").split(/\s+/);c==="srgb"?([,i,r,s,e]=$t(t,{format:V}),i*=C,r*=C,s*=C):[,i,r,s,e]=$t(t)}else/^(?:ok)?l(?:ab|ch)/.test(t)?([i,r,s,e]=ts(t),[i,r,s]=tr([i,r,s])):[,i,r,s,e]=yt(t,{format:V});return[i,r,s,e]},js=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{d50:a,format:i}=n,r,s,e,o;if(i===L){let c;if(t.startsWith(B)?c=I(t,n):c=U(t,n),c===null)return c;[,r,s,e,o]=c}else if(t.startsWith(B)){let[,c]=t.match(It),[f]=c.replace("/"," ").split(/\s+/);a?f==="xyz-d50"?[,r,s,e,o]=$t(t,{format:V}):[,r,s,e,o]=I(t,n):/^xyz(?:-d65)?$/.test(f)?[,r,s,e,o]=$t(t,{format:V}):[,r,s,e,o]=I(t)}else[,r,s,e,o]=U(t,n);return[r,s,e,o]},we=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e,o,c,f;if(je.test(t))return[,i,r,s,e]=Te(t,{format:"hsl"}),a==="hsl"?[Math.round(i),Math.round(r),Math.round(s),e]:[i,r,s,e];if(a===L){let l;if(t.startsWith(B)?l=I(t,n):l=U(t,n),l===null)return l;[,o,c,f,e]=l}else t.startsWith(B)?[,o,c,f,e]=I(t):[,o,c,f,e]=U(t);return[i,r,s]=er([o,c,f],!0),a==="hsl"?[Math.round(i),Math.round(r),Math.round(s),e]:[i,r,s,e]},ye=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e,o,c,f;if(Ke.test(t))return[,i,r,s,e]=is(t,{format:"hwb"}),a==="hwb"?[Math.round(i),Math.round(r),Math.round(s),e]:[i,r,s,e];if(a===L){let l;if(t.startsWith(B)?l=I(t,n):l=U(t,n),l===null)return l;[,o,c,f,e]=l}else t.startsWith(B)?[,o,c,f,e]=I(t):[,o,c,f,e]=U(t);return[i,r,s]=pn([o,c,f],!0),a==="hwb"?[Math.round(i),Math.round(r),Math.round(s),e]:[i,r,s,e]},Ee=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e,o,c,f;if(qe.test(t))return[,i,r,s,e]=te(t,{format:V}),[i,r,s,e];if(a===L){let l;if(n.d50=!0,t.startsWith(B)?l=I(t,n):l=U(t,n),l===null)return l;[,o,c,f,e]=l}else t.startsWith(B)?[,o,c,f,e]=I(t,{d50:!0}):[,o,c,f,e]=U(t,{d50:!0});return[i,r,s]=nr([o,c,f],!0),[i,r,s,e]},_e=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e,o,c,f;if(Ze.test(t))return[,i,r,s,e]=be(t,{format:V}),[i,r,s,e];if(a===L){let l;if(n.d50=!0,t.startsWith(B)?l=I(t,n):l=U(t,n),l===null)return l;[,o,c,f,e]=l}else t.startsWith(B)?[,o,c,f,e]=I(t,{d50:!0}):[,o,c,f,e]=U(t,{d50:!0});return[i,r,s]=mn([o,c,f],!0),[i,r,s,e]},Ce=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e,o,c,f;if(Je.test(t))return[,i,r,s,e]=Fe(t,{format:V}),[i,r,s,e];if(a===L){let l;if(t.startsWith(B)?l=I(t,n):l=U(t,n),l===null)return l;[,o,c,f,e]=l}else t.startsWith(B)?[,o,c,f,e]=I(t):[,o,c,f,e]=U(t);return[i,r,s]=sr([o,c,f],!0),[i,r,s,e]},Ne=(t,n={})=>{if(T(t))t=t.trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i,r,s,e,o,c,f;if(Qe.test(t))return[,i,r,s,e]=de(t,{format:V}),[i,r,s,e];if(a===L){let l;if(t.startsWith(B)?l=I(t,n):l=U(t,n),l===null)return l;[,o,c,f,e]=l}else t.startsWith(B)?[,o,c,f,e]=I(t):[,o,c,f,e]=U(t);return[i,r,s]=$n([o,c,f],!0),[i,r,s,e]},Tt=(t,n={})=>{if(T(t))t=t.toLowerCase().trim();else throw new TypeError(`${t} is not a string.`);let{format:a}=n,i=[];if(!Ys.test(t))if(t.startsWith(ht)&&Gs.test(t)){let $=new RegExp(`^(?:${Se}|${ie})$`),g=t.match(Gs);for(let u of g){let F=Tt(u,{format:a===R?a:V});if(Array.isArray(F)){let[E,N,A,S,P]=F;if(N===0&&A===0&&S===0&&P===0){t="";break}$.test(E)?P===1?F=`color(${E} ${N} ${A} ${S})`:F=`color(${E} ${N} ${A} ${S} / ${P})`:P===1?F=`${E}(${N} ${A} ${S})`:F=`${E}(${N} ${A} ${S} / ${P})`}else if(!Ys.test(F)){t="";break}i.push(F),t=t.replace(u,F)}if(!t)return a===R?"":["rgb",0,0,0,0]}else return a===R?"":["rgb",0,0,0,0];let r,s,e,o,c,f;if(i.length&&a===R){let $=new RegExp(`^color-mix\\(\\s*in\\s+(${oe})\\s*,`),[,g]=t.match($);if(me.test(g)?[,r,s]=me.exec(g):r=g,i.length===2){let u=i[0].replace(/(?=[()])/g,"\\"),F=new RegExp(`(${u})(?:\\s+(${Q}))?`);F.test(t)&&([,e,o]=t.match(F));let E=i[1].replace(/(?=[()])/g,"\\"),N=new RegExp(`(${E})(?:\\s+(${Q}))?`);N.test(t)&&([,c,f]=t.match(N))}else{let u=`(?:${xt})(?:\\s+${Q})?`,F=i[0].replace(/(?=[()])/g,"\\"),E=`${F}(?:\\s+${Q})?`,N=`(${F})(?:\\s+(${Q}))?`,A=new RegExp(`^(${xt})(?:\\s+(${Q}))?$`),S=new RegExp(`^${N}$`);if(new RegExp(`${N}\\s*\\)$`).test(t)){let z=new RegExp(`(${u})\\s*,\\s*(${E})\\s*\\)$`),[,et,q]=t.match(z);[,e,o]=et.match(A),[,c,f]=q.match(S)}else{let z=new RegExp(`(${E})\\s*,\\s*(${u})\\s*\\)$`),[,et,q]=t.match(z);[,e,o]=et.match(S),[,c,f]=q.match(A)}}}else{let[,$,g,u]=t.match(xn),F=new RegExp(`^(${xt})(?:\\s+(${Q}))?$`);[,e,o]=g.match(F),[,c,f]=u.match(F),me.test($)?[,r,s]=me.exec($):r=$}let l,x,p;if(o&&f){let $=parseFloat(o)/M,g=parseFloat(f)/M;if($<0||$>1||g<0||g>1)return a===R?"":["rgb",0,0,0,0];let u=$+g;if(u===0)return a===R?"":["rgb",0,0,0,0];l=$/u,x=g/u,p=u<1?u:1}else{if(o){if(l=parseFloat(o)/M,l<0||l>1)return a===R?"":["rgb",0,0,0,0];x=1-l}else if(f){if(x=parseFloat(f)/M,x<0||x>1)return a===R?"":["rgb",0,0,0,0];l=1-x}else l=lt,x=lt;p=1}if(r==="xyz"&&(r="xyz-d65"),a===R){let $,g;if(e.startsWith(ht))$=e;else if(e.startsWith(B)){if($=I(e,n),Array.isArray($)){let[u,F,E,N,A]=[...$];A===1?$=`color(${u} ${F} ${E} ${N})`:$=`color(${u} ${F} ${E} ${N} / ${A})`}}else{if($=U(e,n),$==="")return $;if(Array.isArray($)){let[u,F,E,N,A]=[...$];A===1?u==="rgb"?$=`${u}(${F}, ${E}, ${N})`:$=`${u}(${F} ${E} ${N})`:u==="rgb"?$=`${u}a(${F}, ${E}, ${N}, ${A})`:$=`${u}(${F} ${E} ${N} / ${A})`}}if(c.startsWith(ht))g=c;else if(c.startsWith(B)){if(g=I(c,n),Array.isArray(g)){let[u,F,E,N,A]=[...g];A===1?g=`color(${u} ${F} ${E} ${N})`:g=`color(${u} ${F} ${E} ${N} / ${A})`}}else{if(g=U(c,n),g==="")return g;if(Array.isArray(g)){let[u,F,E,N,A]=[...g];A===1?u==="rgb"?g=`${u}(${F}, ${E}, ${N})`:g=`${u}(${F} ${E} ${N})`:u==="rgb"?g=`${u}a(${F}, ${E}, ${N}, ${A})`:g=`${u}(${F} ${E} ${N} / ${A})`}}if(o&&f)$+=` ${parseFloat(o)}%`,g+=` ${parseFloat(f)}%`;else if(o){let u=parseFloat(o);u!==M*lt&&($+=` ${u}%`)}else if(f){let u=M-parseFloat(f);u!==M*lt&&($+=` ${u}%`)}return s?`color-mix(in ${r} ${s} hue, ${$}, ${g})`:`color-mix(in ${r}, ${$}, ${g})`}let m,w,_,b;if(/^srgb(?:-linear)?$/.test(r)){let $,g;if(r==="srgb"?(Y.test(e)?$=[h,h,h,h]:$=Qt(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=Qt(c,{colorSpace:r,format:L})):(Y.test(e)?$=[h,h,h,h]:$=ts(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=ts(c,{colorSpace:r,format:L})),$===null||g===null)return["rgb",0,0,0,0];let[u,F,E,N]=$,[A,S,P,z]=g,et=u===h&&A===h,q=F===h&&S===h,ot=E===h&&P===h,gt=N===h&&z===h;[[u,F,E,N],[A,S,P,z]]=qt([u,F,E,N],[A,S,P,z],!0);let W=N*l,H=z*x;if(b=W+H,b===0?(m=u*l+A*x,w=F*l+S*x,_=E*l+P*x):(m=(u*W+A*H)/b,w=(F*W+S*H)/b,_=(E*W+P*H)/b,b=parseFloat(b.toFixed(3))),a===V)return[r,et?h:d(m,y),q?h:d(w,y),ot?h:d(_,y),gt?h:b*p];m*=C,w*=C,_*=C}else if(hn.test(r)){let $,g;if(Y.test(e)?$=[h,h,h,h]:$=js(e,{colorSpace:r,d50:r==="xyz-d50",format:L}),Y.test(c)?g=[h,h,h,h]:g=js(c,{colorSpace:r,d50:r==="xyz-d50",format:L}),$===null||g===null)return["rgb",0,0,0,0];let[u,F,E,N]=$,[A,S,P,z]=g,et=u===h&&A===h,q=F===h&&S===h,ot=E===h&&P===h,gt=N===h&&z===h;[[u,F,E,N],[A,S,P,z]]=qt([u,F,E,N],[A,S,P,z],!0);let W=N*l,H=z*x;b=W+H;let st,Z,J;if(b===0?(st=u*l+A*x,Z=F*l+S*x,J=E*l+P*x):(st=(u*W+A*H)/b,Z=(F*W+S*H)/b,J=(E*W+P*H)/b,b=parseFloat(b.toFixed(3))),a===V)return[r,et?h:d(st,y),q?h:d(Z,y),ot?h:d(J,y),gt?h:b*p];r==="xyz-d50"?[m,w,_]=rr([st,Z,J],!0):[m,w,_]=Mt([st,Z,J],!0)}else if(/^h(?:sl|wb)$/.test(r)){let $,g;if(r==="hsl"?(Y.test(e)?$=[h,h,h,h]:$=we(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=we(c,{colorSpace:r,format:L})):(Y.test(e)?$=[h,h,h,h]:$=ye(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=ye(c,{colorSpace:r,format:L})),$===null||g===null)return["rgb",0,0,0,0];let[u,F,E,N]=$,[A,S,P,z]=g,et=N===h&&z===h;[[u,F,E,N],[A,S,P,z]]=qt([u,F,E,N],[A,S,P,z],!0),s&&([u,A]=Ye(u,A,s));let q=N*l,ot=z*x;b=q+ot;let gt=(u*l+A*x)%G,W,H;if(b===0?(W=F*l+S*x,H=E*l+P*x):(W=(F*q+S*ot)/b,H=(E*q+P*ot)/b,b=parseFloat(b.toFixed(3))),[m,w,_]=Qt(`${r}(${gt} ${W} ${H})`),a===V)return["srgb",d(m/C,y),d(w/C,y),d(_/C,y),et?h:b*p]}else if(/^(?:ok)?lab$/.test(r)){let $,g;if(r==="lab"?(Y.test(e)?$=[h,h,h,h]:$=Ee(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=Ee(c,{colorSpace:r,format:L})):(Y.test(e)?$=[h,h,h,h]:$=Ce(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=Ce(c,{colorSpace:r,format:L})),$===null||g===null)return["rgb",0,0,0,0];let[u,F,E,N]=$,[A,S,P,z]=g,et=u===h&&A===h,q=F===h&&S===h,ot=E===h&&P===h,gt=N===h&&z===h;[[u,F,E,N],[A,S,P,z]]=qt([u,F,E,N],[A,S,P,z],!0);let W=N*l,H=z*x;b=W+H;let st,Z,J;if(b===0?(st=u*l+A*x,Z=F*l+S*x,J=E*l+P*x):(st=(u*W+A*H)/b,Z=(F*W+S*H)/b,J=(E*W+P*H)/b,b=parseFloat(b.toFixed(3))),a===V)return[r,et?h:d(st,y),q?h:d(Z,y),ot?h:d(J,y),gt?h:b*p];[,m,w,_]=yt(`${r}(${st} ${Z} ${J})`)}else if(/^(?:ok)?lch$/.test(r)){let $,g;if(r==="lch"?(Y.test(e)?$=[h,h,h,h]:$=_e(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=_e(c,{colorSpace:r,format:L})):(Y.test(e)?$=[h,h,h,h]:$=Ne(e,{colorSpace:r,format:L}),Y.test(c)?g=[h,h,h,h]:g=Ne(c,{colorSpace:r,format:L})),$===null||g===null)return["rgb",0,0,0,0];let[u,F,E,N]=$,[A,S,P,z]=g,et=u===h&&A===h,q=F===h&&S===h,ot=E===h&&P===h,gt=N===h&&z===h;[[u,F,E,N],[A,S,P,z]]=qt([u,F,E,N],[A,S,P,z],!0),s&&([E,P]=Ye(E,P,s));let W=N*l,H=z*x;b=W+H;let st=(E*l+P*x)%G,Z,J;if(b===0?(Z=u*l+A*x,J=F*l+S*x):(Z=(u*W+A*H)/b,J=(F*W+S*H)/b,b=parseFloat(b.toFixed(3))),a===V)return[r,et?h:d(Z,y),q?h:d(J,y),ot?h:d(st,y),gt?h:b*p];[,m,w,_]=yt(`${r}(${Z} ${J} ${st})`)}return["rgb",Math.round(m),Math.round(w),Math.round(_),parseFloat((b*p).toFixed(3))]};var bn=new RegExp(Ft),Fn=new RegExp(ae),dn=new RegExp(ft),O=new or.LRUCache({max:4096}),bt=(t,n={})=>{if(T(t)){if(t=t.trim(),!t)return null}else return null;let{customProperty:a}=n,i;return typeof a?.callback!="function"&&(i=`{preProcess:${t},opt:${X(n)}}`,O.has(i))?O.get(i):dn.test(t)&&(t=Ut(t,n),!t)?(i&&O.set(i,null),null):(Fn.test(t)?t=jt(t,n):bn.test(t)&&(t=ut(t,n)),t&&t.startsWith("color-mix")&&(t=pt(t,{format:V})),i&&O.set(i,t),t)},wn=t=>{let n=typeof t=="number"&&`{numberToHex:${t}}`;if(n&&O.has(n))return O.get(n);let a=Bt(t);return n&&O.set(n,a),a},yn=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return null;else throw new TypeError(`${t} is not a string.`);let{alpha:a,customProperty:i}=n,r;if(typeof i?.callback!="function"&&(r=`{colorToHex:${t},opt:${X(n)}}`,O.has(r)))return O.get(r);let s;return a?(n.format="hexAlpha",s=pt(t,n)):(n.format="hex",s=pt(t,n)),r&&O.set(r,s),s},En=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToHsl:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);n.format="hsl";let r=we(t,n);return i&&O.set(i,r),r},_n=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToHwb:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);n.format="hwb";let r=ye(t,n);return O.set(i,r),r},Cn=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToLab:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);let r=Ee(t,n);return i&&O.set(i,r),r},Nn=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToLch:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);let r=_e(t,n);return i&&O.set(i,r),r},An=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToOklab:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);let r=Ce(t,n);return i&&O.set(i,r),r},Tn=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToOklch:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);let r=Ne(t,n);return i&&O.set(i,r),r},He=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToRgb:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);let r=Qt(t,n);return i&&O.set(i,r),r},ar=(t,n={})=>{if(T(t))if(t=bt(t,n),t)t=t.toLowerCase();else return[0,0,0,0];else throw new TypeError(`${t} is not a string.`);let{customProperty:a}=n,i;if(typeof a?.callback!="function"&&(i=`{colorToXyz:${t},opt:${X(n)}}`,O.has(i)))return O.get(i);let r;return t.startsWith("color(")?[,...r]=I(t,n):[,...r]=U(t,n),i&&O.set(i,r),r},Rn=(t,n={})=>(n.d50=!0,ar(t,n)),cr={colorToHex:yn,colorToHsl:En,colorToHwb:_n,colorToLab:Cn,colorToLch:Nn,colorToOklab:An,colorToOklch:Tn,colorToRgb:He,colorToXyz:ar,colorToXyzD50:Rn,numberToHex:wn};0&&(module.exports={convert,cssCalc,isColor,resolve});
/*!
 * CSS color - Resolve, parse, convert CSS color.
 * @license MIT
 * @copyright asamuzaK (Kazz)
 * @see {@link https://github.com/asamuzaK/cssColor/blob/main/LICENSE}
 */
//# sourceMappingURL=css-color.cjs.map